{
  "version": 3,
  "sources": [
    "node_modules/browserify/node_modules/browser-pack/_prelude.js",
    "node_modules/browserify/node_modules/browser-resolve/empty.js",
    "node_modules/browserify/node_modules/process/browser.js",
    "node_modules/csscolorparser/csscolorparser.js",
    "node_modules/es6ify/node_modules/traceur/bin/traceur-runtime.js",
    "node_modules/gl-matrix/dist/gl-matrix.js",
    "node_modules/js-yaml/index.js",
    "node_modules/js-yaml/lib/js-yaml.js",
    "node_modules/js-yaml/lib/js-yaml/common.js",
    "node_modules/js-yaml/lib/js-yaml/dumper.js",
    "node_modules/js-yaml/lib/js-yaml/exception.js",
    "node_modules/js-yaml/lib/js-yaml/loader.js",
    "node_modules/js-yaml/lib/js-yaml/mark.js",
    "node_modules/js-yaml/lib/js-yaml/schema.js",
    "node_modules/js-yaml/lib/js-yaml/schema/core.js",
    "node_modules/js-yaml/lib/js-yaml/schema/default_full.js",
    "node_modules/js-yaml/lib/js-yaml/schema/default_safe.js",
    "node_modules/js-yaml/lib/js-yaml/schema/failsafe.js",
    "node_modules/js-yaml/lib/js-yaml/schema/json.js",
    "node_modules/js-yaml/lib/js-yaml/type.js",
    "node_modules/js-yaml/lib/js-yaml/type/binary.js",
    "node_modules/js-yaml/lib/js-yaml/type/bool.js",
    "node_modules/js-yaml/lib/js-yaml/type/float.js",
    "node_modules/js-yaml/lib/js-yaml/type/int.js",
    "node_modules/js-yaml/lib/js-yaml/type/js/function.js",
    "node_modules/js-yaml/lib/js-yaml/type/js/regexp.js",
    "node_modules/js-yaml/lib/js-yaml/type/js/undefined.js",
    "node_modules/js-yaml/lib/js-yaml/type/map.js",
    "node_modules/js-yaml/lib/js-yaml/type/merge.js",
    "node_modules/js-yaml/lib/js-yaml/type/null.js",
    "node_modules/js-yaml/lib/js-yaml/type/omap.js",
    "node_modules/js-yaml/lib/js-yaml/type/pairs.js",
    "node_modules/js-yaml/lib/js-yaml/type/seq.js",
    "node_modules/js-yaml/lib/js-yaml/type/set.js",
    "node_modules/js-yaml/lib/js-yaml/type/str.js",
    "node_modules/js-yaml/lib/js-yaml/type/timestamp.js",
    "node_modules/js-yaml/node_modules/esprima/esprima.js",
    "node_modules/libtess/libtess.min.js",
    "node_modules/loglevel/lib/loglevel.js",
    "node_modules/pbf/index.js",
    "node_modules/pbf/node_modules/ieee754/index.js",
    "node_modules/vector-tile/index.js",
    "node_modules/vector-tile/lib/vectortile.js",
    "node_modules/vector-tile/lib/vectortilefeature.js",
    "node_modules/vector-tile/lib/vectortilelayer.js",
    "node_modules/vector-tile/node_modules/point-geometry/index.js",
    "/Users/bcamper/Documents/dev/vector-map/src/camera.js",
    "/Users/bcamper/Documents/dev/vector-map/src/errors.js",
    "/Users/bcamper/Documents/dev/vector-map/src/geo.js",
    "/Users/bcamper/Documents/dev/vector-map/src/gl/gl.js",
    "/Users/bcamper/Documents/dev/vector-map/src/gl/gl_builders.js",
    "/Users/bcamper/Documents/dev/vector-map/src/gl/gl_constants.js",
    "/Users/bcamper/Documents/dev/vector-map/src/gl/gl_geom.js",
    "/Users/bcamper/Documents/dev/vector-map/src/gl/gl_modes.js",
    "/Users/bcamper/Documents/dev/vector-map/src/gl/gl_program.js",
    "/Users/bcamper/Documents/dev/vector-map/src/gl/gl_texture.js",
    "/Users/bcamper/Documents/dev/vector-map/src/gl/gl_vertex_layout.js",
    "/Users/bcamper/Documents/dev/vector-map/src/gl/shader_sources.js",
    "/Users/bcamper/Documents/dev/vector-map/src/leaflet_layer.js",
    "/Users/bcamper/Documents/dev/vector-map/src/light.js",
    "/Users/bcamper/Documents/dev/vector-map/src/module.js",
    "/Users/bcamper/Documents/dev/vector-map/src/scene.js",
    "/Users/bcamper/Documents/dev/vector-map/src/scene_worker.js",
    "/Users/bcamper/Documents/dev/vector-map/src/style.js",
    "/Users/bcamper/Documents/dev/vector-map/src/tile.js",
    "/Users/bcamper/Documents/dev/vector-map/src/tile_source.js",
    "/Users/bcamper/Documents/dev/vector-map/src/utils.js",
    "/Users/bcamper/Documents/dev/vector-map/src/vector.js",
    "/Users/bcamper/Documents/dev/vector-map/src/worker_broker.js"
  ],
  "names": [],
  "mappings": "AAAA;ACAA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC74EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxpIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1iBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACp0HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpFA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    null,
    "// shim for using process in browser\n\nvar process = module.exports = {};\n\nprocess.nextTick = (function () {\n    var canSetImmediate = typeof window !== 'undefined'\n    && window.setImmediate;\n    var canMutationObserver = typeof window !== 'undefined'\n    && window.MutationObserver;\n    var canPost = typeof window !== 'undefined'\n    && window.postMessage && window.addEventListener\n    ;\n\n    if (canSetImmediate) {\n        return function (f) { return window.setImmediate(f) };\n    }\n\n    var queue = [];\n\n    if (canMutationObserver) {\n        var hiddenDiv = document.createElement(\"div\");\n        var observer = new MutationObserver(function () {\n            var queueList = queue.slice();\n            queue.length = 0;\n            queueList.forEach(function (fn) {\n                fn();\n            });\n        });\n\n        observer.observe(hiddenDiv, { attributes: true });\n\n        return function nextTick(fn) {\n            if (!queue.length) {\n                hiddenDiv.setAttribute('yes', 'no');\n            }\n            queue.push(fn);\n        };\n    }\n\n    if (canPost) {\n        window.addEventListener('message', function (ev) {\n            var source = ev.source;\n            if ((source === window || source === null) && ev.data === 'process-tick') {\n                ev.stopPropagation();\n                if (queue.length > 0) {\n                    var fn = queue.shift();\n                    fn();\n                }\n            }\n        }, true);\n\n        return function nextTick(fn) {\n            queue.push(fn);\n            window.postMessage('process-tick', '*');\n        };\n    }\n\n    return function nextTick(fn) {\n        setTimeout(fn, 0);\n    };\n})();\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\n",
    "// (c) Dean McNamee <dean@gmail.com>, 2012.\n//\n// https://github.com/deanm/css-color-parser-js\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n// FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n// IN THE SOFTWARE.\n\n// http://www.w3.org/TR/css3-color/\nvar kCSSColorTable = {\n  \"transparent\": [0,0,0,0], \"aliceblue\": [240,248,255,1],\n  \"antiquewhite\": [250,235,215,1], \"aqua\": [0,255,255,1],\n  \"aquamarine\": [127,255,212,1], \"azure\": [240,255,255,1],\n  \"beige\": [245,245,220,1], \"bisque\": [255,228,196,1],\n  \"black\": [0,0,0,1], \"blanchedalmond\": [255,235,205,1],\n  \"blue\": [0,0,255,1], \"blueviolet\": [138,43,226,1],\n  \"brown\": [165,42,42,1], \"burlywood\": [222,184,135,1],\n  \"cadetblue\": [95,158,160,1], \"chartreuse\": [127,255,0,1],\n  \"chocolate\": [210,105,30,1], \"coral\": [255,127,80,1],\n  \"cornflowerblue\": [100,149,237,1], \"cornsilk\": [255,248,220,1],\n  \"crimson\": [220,20,60,1], \"cyan\": [0,255,255,1],\n  \"darkblue\": [0,0,139,1], \"darkcyan\": [0,139,139,1],\n  \"darkgoldenrod\": [184,134,11,1], \"darkgray\": [169,169,169,1],\n  \"darkgreen\": [0,100,0,1], \"darkgrey\": [169,169,169,1],\n  \"darkkhaki\": [189,183,107,1], \"darkmagenta\": [139,0,139,1],\n  \"darkolivegreen\": [85,107,47,1], \"darkorange\": [255,140,0,1],\n  \"darkorchid\": [153,50,204,1], \"darkred\": [139,0,0,1],\n  \"darksalmon\": [233,150,122,1], \"darkseagreen\": [143,188,143,1],\n  \"darkslateblue\": [72,61,139,1], \"darkslategray\": [47,79,79,1],\n  \"darkslategrey\": [47,79,79,1], \"darkturquoise\": [0,206,209,1],\n  \"darkviolet\": [148,0,211,1], \"deeppink\": [255,20,147,1],\n  \"deepskyblue\": [0,191,255,1], \"dimgray\": [105,105,105,1],\n  \"dimgrey\": [105,105,105,1], \"dodgerblue\": [30,144,255,1],\n  \"firebrick\": [178,34,34,1], \"floralwhite\": [255,250,240,1],\n  \"forestgreen\": [34,139,34,1], \"fuchsia\": [255,0,255,1],\n  \"gainsboro\": [220,220,220,1], \"ghostwhite\": [248,248,255,1],\n  \"gold\": [255,215,0,1], \"goldenrod\": [218,165,32,1],\n  \"gray\": [128,128,128,1], \"green\": [0,128,0,1],\n  \"greenyellow\": [173,255,47,1], \"grey\": [128,128,128,1],\n  \"honeydew\": [240,255,240,1], \"hotpink\": [255,105,180,1],\n  \"indianred\": [205,92,92,1], \"indigo\": [75,0,130,1],\n  \"ivory\": [255,255,240,1], \"khaki\": [240,230,140,1],\n  \"lavender\": [230,230,250,1], \"lavenderblush\": [255,240,245,1],\n  \"lawngreen\": [124,252,0,1], \"lemonchiffon\": [255,250,205,1],\n  \"lightblue\": [173,216,230,1], \"lightcoral\": [240,128,128,1],\n  \"lightcyan\": [224,255,255,1], \"lightgoldenrodyellow\": [250,250,210,1],\n  \"lightgray\": [211,211,211,1], \"lightgreen\": [144,238,144,1],\n  \"lightgrey\": [211,211,211,1], \"lightpink\": [255,182,193,1],\n  \"lightsalmon\": [255,160,122,1], \"lightseagreen\": [32,178,170,1],\n  \"lightskyblue\": [135,206,250,1], \"lightslategray\": [119,136,153,1],\n  \"lightslategrey\": [119,136,153,1], \"lightsteelblue\": [176,196,222,1],\n  \"lightyellow\": [255,255,224,1], \"lime\": [0,255,0,1],\n  \"limegreen\": [50,205,50,1], \"linen\": [250,240,230,1],\n  \"magenta\": [255,0,255,1], \"maroon\": [128,0,0,1],\n  \"mediumaquamarine\": [102,205,170,1], \"mediumblue\": [0,0,205,1],\n  \"mediumorchid\": [186,85,211,1], \"mediumpurple\": [147,112,219,1],\n  \"mediumseagreen\": [60,179,113,1], \"mediumslateblue\": [123,104,238,1],\n  \"mediumspringgreen\": [0,250,154,1], \"mediumturquoise\": [72,209,204,1],\n  \"mediumvioletred\": [199,21,133,1], \"midnightblue\": [25,25,112,1],\n  \"mintcream\": [245,255,250,1], \"mistyrose\": [255,228,225,1],\n  \"moccasin\": [255,228,181,1], \"navajowhite\": [255,222,173,1],\n  \"navy\": [0,0,128,1], \"oldlace\": [253,245,230,1],\n  \"olive\": [128,128,0,1], \"olivedrab\": [107,142,35,1],\n  \"orange\": [255,165,0,1], \"orangered\": [255,69,0,1],\n  \"orchid\": [218,112,214,1], \"palegoldenrod\": [238,232,170,1],\n  \"palegreen\": [152,251,152,1], \"paleturquoise\": [175,238,238,1],\n  \"palevioletred\": [219,112,147,1], \"papayawhip\": [255,239,213,1],\n  \"peachpuff\": [255,218,185,1], \"peru\": [205,133,63,1],\n  \"pink\": [255,192,203,1], \"plum\": [221,160,221,1],\n  \"powderblue\": [176,224,230,1], \"purple\": [128,0,128,1],\n  \"red\": [255,0,0,1], \"rosybrown\": [188,143,143,1],\n  \"royalblue\": [65,105,225,1], \"saddlebrown\": [139,69,19,1],\n  \"salmon\": [250,128,114,1], \"sandybrown\": [244,164,96,1],\n  \"seagreen\": [46,139,87,1], \"seashell\": [255,245,238,1],\n  \"sienna\": [160,82,45,1], \"silver\": [192,192,192,1],\n  \"skyblue\": [135,206,235,1], \"slateblue\": [106,90,205,1],\n  \"slategray\": [112,128,144,1], \"slategrey\": [112,128,144,1],\n  \"snow\": [255,250,250,1], \"springgreen\": [0,255,127,1],\n  \"steelblue\": [70,130,180,1], \"tan\": [210,180,140,1],\n  \"teal\": [0,128,128,1], \"thistle\": [216,191,216,1],\n  \"tomato\": [255,99,71,1], \"turquoise\": [64,224,208,1],\n  \"violet\": [238,130,238,1], \"wheat\": [245,222,179,1],\n  \"white\": [255,255,255,1], \"whitesmoke\": [245,245,245,1],\n  \"yellow\": [255,255,0,1], \"yellowgreen\": [154,205,50,1]}\n\nfunction clamp_css_byte(i) {  // Clamp to integer 0 .. 255.\n  i = Math.round(i);  // Seems to be what Chrome does (vs truncation).\n  return i < 0 ? 0 : i > 255 ? 255 : i;\n}\n\nfunction clamp_css_float(f) {  // Clamp to float 0.0 .. 1.0.\n  return f < 0 ? 0 : f > 1 ? 1 : f;\n}\n\nfunction parse_css_int(str) {  // int or percentage.\n  if (str[str.length - 1] === '%')\n    return clamp_css_byte(parseFloat(str) / 100 * 255);\n  return clamp_css_byte(parseInt(str));\n}\n\nfunction parse_css_float(str) {  // float or percentage.\n  if (str[str.length - 1] === '%')\n    return clamp_css_float(parseFloat(str) / 100);\n  return clamp_css_float(parseFloat(str));\n}\n\nfunction css_hue_to_rgb(m1, m2, h) {\n  if (h < 0) h += 1;\n  else if (h > 1) h -= 1;\n\n  if (h * 6 < 1) return m1 + (m2 - m1) * h * 6;\n  if (h * 2 < 1) return m2;\n  if (h * 3 < 2) return m1 + (m2 - m1) * (2/3 - h) * 6;\n  return m1;\n}\n\nfunction parseCSSColor(css_str) {\n  // Remove all whitespace, not compliant, but should just be more accepting.\n  var str = css_str.replace(/ /g, '').toLowerCase();\n\n  // Color keywords (and transparent) lookup.\n  if (str in kCSSColorTable) return kCSSColorTable[str].slice();  // dup.\n\n  // #abc and #abc123 syntax.\n  if (str[0] === '#') {\n    if (str.length === 4) {\n      var iv = parseInt(str.substr(1), 16);  // TODO(deanm): Stricter parsing.\n      if (!(iv >= 0 && iv <= 0xfff)) return null;  // Covers NaN.\n      return [((iv & 0xf00) >> 4) | ((iv & 0xf00) >> 8),\n              (iv & 0xf0) | ((iv & 0xf0) >> 4),\n              (iv & 0xf) | ((iv & 0xf) << 4),\n              1];\n    } else if (str.length === 7) {\n      var iv = parseInt(str.substr(1), 16);  // TODO(deanm): Stricter parsing.\n      if (!(iv >= 0 && iv <= 0xffffff)) return null;  // Covers NaN.\n      return [(iv & 0xff0000) >> 16,\n              (iv & 0xff00) >> 8,\n              iv & 0xff,\n              1];\n    }\n\n    return null;\n  }\n\n  var op = str.indexOf('('), ep = str.indexOf(')');\n  if (op !== -1 && ep + 1 === str.length) {\n    var fname = str.substr(0, op);\n    var params = str.substr(op+1, ep-(op+1)).split(',');\n    var alpha = 1;  // To allow case fallthrough.\n    switch (fname) {\n      case 'rgba':\n        if (params.length !== 4) return null;\n        alpha = parse_css_float(params.pop());\n        // Fall through.\n      case 'rgb':\n        if (params.length !== 3) return null;\n        return [parse_css_int(params[0]),\n                parse_css_int(params[1]),\n                parse_css_int(params[2]),\n                alpha];\n      case 'hsla':\n        if (params.length !== 4) return null;\n        alpha = parse_css_float(params.pop());\n        // Fall through.\n      case 'hsl':\n        if (params.length !== 3) return null;\n        var h = (((parseFloat(params[0]) % 360) + 360) % 360) / 360;  // 0 .. 1\n        // NOTE(deanm): According to the CSS spec s/l should only be\n        // percentages, but we don't bother and let float or percentage.\n        var s = parse_css_float(params[1]);\n        var l = parse_css_float(params[2]);\n        var m2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\n        var m1 = l * 2 - m2;\n        return [clamp_css_byte(css_hue_to_rgb(m1, m2, h+1/3) * 255),\n                clamp_css_byte(css_hue_to_rgb(m1, m2, h) * 255),\n                clamp_css_byte(css_hue_to_rgb(m1, m2, h-1/3) * 255),\n                alpha];\n      default:\n        return null;\n    }\n  }\n\n  return null;\n}\n\ntry { exports.parseCSSColor = parseCSSColor } catch(e) { }\n",
    "(function (process,global){\n(function(global) {\n  'use strict';\n  if (global.$traceurRuntime) {\n    return;\n  }\n  var $Object = Object;\n  var $TypeError = TypeError;\n  var $create = $Object.create;\n  var $defineProperties = $Object.defineProperties;\n  var $defineProperty = $Object.defineProperty;\n  var $freeze = $Object.freeze;\n  var $getOwnPropertyDescriptor = $Object.getOwnPropertyDescriptor;\n  var $getOwnPropertyNames = $Object.getOwnPropertyNames;\n  var $keys = $Object.keys;\n  var $hasOwnProperty = $Object.prototype.hasOwnProperty;\n  var $toString = $Object.prototype.toString;\n  var $preventExtensions = Object.preventExtensions;\n  var $seal = Object.seal;\n  var $isExtensible = Object.isExtensible;\n  function nonEnum(value) {\n    return {\n      configurable: true,\n      enumerable: false,\n      value: value,\n      writable: true\n    };\n  }\n  var types = {\n    void: function voidType() {},\n    any: function any() {},\n    string: function string() {},\n    number: function number() {},\n    boolean: function boolean() {}\n  };\n  var method = nonEnum;\n  var counter = 0;\n  function newUniqueString() {\n    return '__$' + Math.floor(Math.random() * 1e9) + '$' + ++counter + '$__';\n  }\n  var symbolInternalProperty = newUniqueString();\n  var symbolDescriptionProperty = newUniqueString();\n  var symbolDataProperty = newUniqueString();\n  var symbolValues = $create(null);\n  var privateNames = $create(null);\n  function isPrivateName(s) {\n    return privateNames[s];\n  }\n  function createPrivateName() {\n    var s = newUniqueString();\n    privateNames[s] = true;\n    return s;\n  }\n  function isShimSymbol(symbol) {\n    return typeof symbol === 'object' && symbol instanceof SymbolValue;\n  }\n  function typeOf(v) {\n    if (isShimSymbol(v))\n      return 'symbol';\n    return typeof v;\n  }\n  function Symbol(description) {\n    var value = new SymbolValue(description);\n    if (!(this instanceof Symbol))\n      return value;\n    throw new TypeError('Symbol cannot be new\\'ed');\n  }\n  $defineProperty(Symbol.prototype, 'constructor', nonEnum(Symbol));\n  $defineProperty(Symbol.prototype, 'toString', method(function() {\n    var symbolValue = this[symbolDataProperty];\n    if (!getOption('symbols'))\n      return symbolValue[symbolInternalProperty];\n    if (!symbolValue)\n      throw TypeError('Conversion from symbol to string');\n    var desc = symbolValue[symbolDescriptionProperty];\n    if (desc === undefined)\n      desc = '';\n    return 'Symbol(' + desc + ')';\n  }));\n  $defineProperty(Symbol.prototype, 'valueOf', method(function() {\n    var symbolValue = this[symbolDataProperty];\n    if (!symbolValue)\n      throw TypeError('Conversion from symbol to string');\n    if (!getOption('symbols'))\n      return symbolValue[symbolInternalProperty];\n    return symbolValue;\n  }));\n  function SymbolValue(description) {\n    var key = newUniqueString();\n    $defineProperty(this, symbolDataProperty, {value: this});\n    $defineProperty(this, symbolInternalProperty, {value: key});\n    $defineProperty(this, symbolDescriptionProperty, {value: description});\n    freeze(this);\n    symbolValues[key] = this;\n  }\n  $defineProperty(SymbolValue.prototype, 'constructor', nonEnum(Symbol));\n  $defineProperty(SymbolValue.prototype, 'toString', {\n    value: Symbol.prototype.toString,\n    enumerable: false\n  });\n  $defineProperty(SymbolValue.prototype, 'valueOf', {\n    value: Symbol.prototype.valueOf,\n    enumerable: false\n  });\n  var hashProperty = createPrivateName();\n  var hashPropertyDescriptor = {value: undefined};\n  var hashObjectProperties = {\n    hash: {value: undefined},\n    self: {value: undefined}\n  };\n  var hashCounter = 0;\n  function getOwnHashObject(object) {\n    var hashObject = object[hashProperty];\n    if (hashObject && hashObject.self === object)\n      return hashObject;\n    if ($isExtensible(object)) {\n      hashObjectProperties.hash.value = hashCounter++;\n      hashObjectProperties.self.value = object;\n      hashPropertyDescriptor.value = $create(null, hashObjectProperties);\n      $defineProperty(object, hashProperty, hashPropertyDescriptor);\n      return hashPropertyDescriptor.value;\n    }\n    return undefined;\n  }\n  function freeze(object) {\n    getOwnHashObject(object);\n    return $freeze.apply(this, arguments);\n  }\n  function preventExtensions(object) {\n    getOwnHashObject(object);\n    return $preventExtensions.apply(this, arguments);\n  }\n  function seal(object) {\n    getOwnHashObject(object);\n    return $seal.apply(this, arguments);\n  }\n  freeze(SymbolValue.prototype);\n  function isSymbolString(s) {\n    return symbolValues[s] || privateNames[s];\n  }\n  function toProperty(name) {\n    if (isShimSymbol(name))\n      return name[symbolInternalProperty];\n    return name;\n  }\n  function removeSymbolKeys(array) {\n    var rv = [];\n    for (var i = 0; i < array.length; i++) {\n      if (!isSymbolString(array[i])) {\n        rv.push(array[i]);\n      }\n    }\n    return rv;\n  }\n  function getOwnPropertyNames(object) {\n    return removeSymbolKeys($getOwnPropertyNames(object));\n  }\n  function keys(object) {\n    return removeSymbolKeys($keys(object));\n  }\n  function getOwnPropertySymbols(object) {\n    var rv = [];\n    var names = $getOwnPropertyNames(object);\n    for (var i = 0; i < names.length; i++) {\n      var symbol = symbolValues[names[i]];\n      if (symbol) {\n        rv.push(symbol);\n      }\n    }\n    return rv;\n  }\n  function getOwnPropertyDescriptor(object, name) {\n    return $getOwnPropertyDescriptor(object, toProperty(name));\n  }\n  function hasOwnProperty(name) {\n    return $hasOwnProperty.call(this, toProperty(name));\n  }\n  function getOption(name) {\n    return global.traceur && global.traceur.options[name];\n  }\n  function defineProperty(object, name, descriptor) {\n    if (isShimSymbol(name)) {\n      name = name[symbolInternalProperty];\n    }\n    $defineProperty(object, name, descriptor);\n    return object;\n  }\n  function polyfillObject(Object) {\n    $defineProperty(Object, 'defineProperty', {value: defineProperty});\n    $defineProperty(Object, 'getOwnPropertyNames', {value: getOwnPropertyNames});\n    $defineProperty(Object, 'getOwnPropertyDescriptor', {value: getOwnPropertyDescriptor});\n    $defineProperty(Object.prototype, 'hasOwnProperty', {value: hasOwnProperty});\n    $defineProperty(Object, 'freeze', {value: freeze});\n    $defineProperty(Object, 'preventExtensions', {value: preventExtensions});\n    $defineProperty(Object, 'seal', {value: seal});\n    $defineProperty(Object, 'keys', {value: keys});\n  }\n  function exportStar(object) {\n    for (var i = 1; i < arguments.length; i++) {\n      var names = $getOwnPropertyNames(arguments[i]);\n      for (var j = 0; j < names.length; j++) {\n        var name = names[j];\n        if (isSymbolString(name))\n          continue;\n        (function(mod, name) {\n          $defineProperty(object, name, {\n            get: function() {\n              return mod[name];\n            },\n            enumerable: true\n          });\n        })(arguments[i], names[j]);\n      }\n    }\n    return object;\n  }\n  function isObject(x) {\n    return x != null && (typeof x === 'object' || typeof x === 'function');\n  }\n  function toObject(x) {\n    if (x == null)\n      throw $TypeError();\n    return $Object(x);\n  }\n  function checkObjectCoercible(argument) {\n    if (argument == null) {\n      throw new TypeError('Value cannot be converted to an Object');\n    }\n    return argument;\n  }\n  function polyfillSymbol(global, Symbol) {\n    if (!global.Symbol) {\n      global.Symbol = Symbol;\n      Object.getOwnPropertySymbols = getOwnPropertySymbols;\n    }\n    if (!global.Symbol.iterator) {\n      global.Symbol.iterator = Symbol('Symbol.iterator');\n    }\n  }\n  function setupGlobals(global) {\n    polyfillSymbol(global, Symbol);\n    global.Reflect = global.Reflect || {};\n    global.Reflect.global = global.Reflect.global || global;\n    polyfillObject(global.Object);\n  }\n  setupGlobals(global);\n  global.$traceurRuntime = {\n    checkObjectCoercible: checkObjectCoercible,\n    createPrivateName: createPrivateName,\n    defineProperties: $defineProperties,\n    defineProperty: $defineProperty,\n    exportStar: exportStar,\n    getOwnHashObject: getOwnHashObject,\n    getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n    getOwnPropertyNames: $getOwnPropertyNames,\n    isObject: isObject,\n    isPrivateName: isPrivateName,\n    isSymbolString: isSymbolString,\n    keys: $keys,\n    setupGlobals: setupGlobals,\n    toObject: toObject,\n    toProperty: toProperty,\n    type: types,\n    typeof: typeOf\n  };\n})(typeof global !== 'undefined' ? global : this);\n(function() {\n  'use strict';\n  function spread() {\n    var rv = [],\n        j = 0,\n        iterResult;\n    for (var i = 0; i < arguments.length; i++) {\n      var valueToSpread = $traceurRuntime.checkObjectCoercible(arguments[i]);\n      if (typeof valueToSpread[$traceurRuntime.toProperty(Symbol.iterator)] !== 'function') {\n        throw new TypeError('Cannot spread non-iterable object.');\n      }\n      var iter = valueToSpread[$traceurRuntime.toProperty(Symbol.iterator)]();\n      while (!(iterResult = iter.next()).done) {\n        rv[j++] = iterResult.value;\n      }\n    }\n    return rv;\n  }\n  $traceurRuntime.spread = spread;\n})();\n(function() {\n  'use strict';\n  var $Object = Object;\n  var $TypeError = TypeError;\n  var $create = $Object.create;\n  var $defineProperties = $traceurRuntime.defineProperties;\n  var $defineProperty = $traceurRuntime.defineProperty;\n  var $getOwnPropertyDescriptor = $traceurRuntime.getOwnPropertyDescriptor;\n  var $getOwnPropertyNames = $traceurRuntime.getOwnPropertyNames;\n  var $getPrototypeOf = Object.getPrototypeOf;\n  var $__0 = Object,\n      getOwnPropertyNames = $__0.getOwnPropertyNames,\n      getOwnPropertySymbols = $__0.getOwnPropertySymbols;\n  function superDescriptor(homeObject, name) {\n    var proto = $getPrototypeOf(homeObject);\n    do {\n      var result = $getOwnPropertyDescriptor(proto, name);\n      if (result)\n        return result;\n      proto = $getPrototypeOf(proto);\n    } while (proto);\n    return undefined;\n  }\n  function superCall(self, homeObject, name, args) {\n    return superGet(self, homeObject, name).apply(self, args);\n  }\n  function superGet(self, homeObject, name) {\n    var descriptor = superDescriptor(homeObject, name);\n    if (descriptor) {\n      if (!descriptor.get)\n        return descriptor.value;\n      return descriptor.get.call(self);\n    }\n    return undefined;\n  }\n  function superSet(self, homeObject, name, value) {\n    var descriptor = superDescriptor(homeObject, name);\n    if (descriptor && descriptor.set) {\n      descriptor.set.call(self, value);\n      return value;\n    }\n    throw $TypeError((\"super has no setter '\" + name + \"'.\"));\n  }\n  function getDescriptors(object) {\n    var descriptors = {};\n    var names = getOwnPropertyNames(object);\n    for (var i = 0; i < names.length; i++) {\n      var name = names[i];\n      descriptors[name] = $getOwnPropertyDescriptor(object, name);\n    }\n    var symbols = getOwnPropertySymbols(object);\n    for (var i = 0; i < symbols.length; i++) {\n      var symbol = symbols[i];\n      descriptors[$traceurRuntime.toProperty(symbol)] = $getOwnPropertyDescriptor(object, $traceurRuntime.toProperty(symbol));\n    }\n    return descriptors;\n  }\n  function createClass(ctor, object, staticObject, superClass) {\n    $defineProperty(object, 'constructor', {\n      value: ctor,\n      configurable: true,\n      enumerable: false,\n      writable: true\n    });\n    if (arguments.length > 3) {\n      if (typeof superClass === 'function')\n        ctor.__proto__ = superClass;\n      ctor.prototype = $create(getProtoParent(superClass), getDescriptors(object));\n    } else {\n      ctor.prototype = object;\n    }\n    $defineProperty(ctor, 'prototype', {\n      configurable: false,\n      writable: false\n    });\n    return $defineProperties(ctor, getDescriptors(staticObject));\n  }\n  function getProtoParent(superClass) {\n    if (typeof superClass === 'function') {\n      var prototype = superClass.prototype;\n      if ($Object(prototype) === prototype || prototype === null)\n        return superClass.prototype;\n      throw new $TypeError('super prototype must be an Object or null');\n    }\n    if (superClass === null)\n      return null;\n    throw new $TypeError((\"Super expression must either be null or a function, not \" + typeof superClass + \".\"));\n  }\n  function defaultSuperCall(self, homeObject, args) {\n    if ($getPrototypeOf(homeObject) !== null)\n      superCall(self, homeObject, 'constructor', args);\n  }\n  $traceurRuntime.createClass = createClass;\n  $traceurRuntime.defaultSuperCall = defaultSuperCall;\n  $traceurRuntime.superCall = superCall;\n  $traceurRuntime.superGet = superGet;\n  $traceurRuntime.superSet = superSet;\n})();\n(function() {\n  'use strict';\n  var createPrivateName = $traceurRuntime.createPrivateName;\n  var $defineProperties = $traceurRuntime.defineProperties;\n  var $defineProperty = $traceurRuntime.defineProperty;\n  var $create = Object.create;\n  var $TypeError = TypeError;\n  function nonEnum(value) {\n    return {\n      configurable: true,\n      enumerable: false,\n      value: value,\n      writable: true\n    };\n  }\n  var ST_NEWBORN = 0;\n  var ST_EXECUTING = 1;\n  var ST_SUSPENDED = 2;\n  var ST_CLOSED = 3;\n  var END_STATE = -2;\n  var RETHROW_STATE = -3;\n  function getInternalError(state) {\n    return new Error('Traceur compiler bug: invalid state in state machine: ' + state);\n  }\n  function GeneratorContext() {\n    this.state = 0;\n    this.GState = ST_NEWBORN;\n    this.storedException = undefined;\n    this.finallyFallThrough = undefined;\n    this.sent_ = undefined;\n    this.returnValue = undefined;\n    this.tryStack_ = [];\n  }\n  GeneratorContext.prototype = {\n    pushTry: function(catchState, finallyState) {\n      if (finallyState !== null) {\n        var finallyFallThrough = null;\n        for (var i = this.tryStack_.length - 1; i >= 0; i--) {\n          if (this.tryStack_[i].catch !== undefined) {\n            finallyFallThrough = this.tryStack_[i].catch;\n            break;\n          }\n        }\n        if (finallyFallThrough === null)\n          finallyFallThrough = RETHROW_STATE;\n        this.tryStack_.push({\n          finally: finallyState,\n          finallyFallThrough: finallyFallThrough\n        });\n      }\n      if (catchState !== null) {\n        this.tryStack_.push({catch: catchState});\n      }\n    },\n    popTry: function() {\n      this.tryStack_.pop();\n    },\n    get sent() {\n      this.maybeThrow();\n      return this.sent_;\n    },\n    set sent(v) {\n      this.sent_ = v;\n    },\n    get sentIgnoreThrow() {\n      return this.sent_;\n    },\n    maybeThrow: function() {\n      if (this.action === 'throw') {\n        this.action = 'next';\n        throw this.sent_;\n      }\n    },\n    end: function() {\n      switch (this.state) {\n        case END_STATE:\n          return this;\n        case RETHROW_STATE:\n          throw this.storedException;\n        default:\n          throw getInternalError(this.state);\n      }\n    },\n    handleException: function(ex) {\n      this.GState = ST_CLOSED;\n      this.state = END_STATE;\n      throw ex;\n    }\n  };\n  function nextOrThrow(ctx, moveNext, action, x) {\n    switch (ctx.GState) {\n      case ST_EXECUTING:\n        throw new Error((\"\\\"\" + action + \"\\\" on executing generator\"));\n      case ST_CLOSED:\n        if (action == 'next') {\n          return {\n            value: undefined,\n            done: true\n          };\n        }\n        throw x;\n      case ST_NEWBORN:\n        if (action === 'throw') {\n          ctx.GState = ST_CLOSED;\n          throw x;\n        }\n        if (x !== undefined)\n          throw $TypeError('Sent value to newborn generator');\n      case ST_SUSPENDED:\n        ctx.GState = ST_EXECUTING;\n        ctx.action = action;\n        ctx.sent = x;\n        var value = moveNext(ctx);\n        var done = value === ctx;\n        if (done)\n          value = ctx.returnValue;\n        ctx.GState = done ? ST_CLOSED : ST_SUSPENDED;\n        return {\n          value: value,\n          done: done\n        };\n    }\n  }\n  var ctxName = createPrivateName();\n  var moveNextName = createPrivateName();\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  $defineProperty(GeneratorFunctionPrototype, 'constructor', nonEnum(GeneratorFunction));\n  GeneratorFunctionPrototype.prototype = {\n    constructor: GeneratorFunctionPrototype,\n    next: function(v) {\n      return nextOrThrow(this[ctxName], this[moveNextName], 'next', v);\n    },\n    throw: function(v) {\n      return nextOrThrow(this[ctxName], this[moveNextName], 'throw', v);\n    }\n  };\n  $defineProperties(GeneratorFunctionPrototype.prototype, {\n    constructor: {enumerable: false},\n    next: {enumerable: false},\n    throw: {enumerable: false}\n  });\n  Object.defineProperty(GeneratorFunctionPrototype.prototype, Symbol.iterator, nonEnum(function() {\n    return this;\n  }));\n  function createGeneratorInstance(innerFunction, functionObject, self) {\n    var moveNext = getMoveNext(innerFunction, self);\n    var ctx = new GeneratorContext();\n    var object = $create(functionObject.prototype);\n    object[ctxName] = ctx;\n    object[moveNextName] = moveNext;\n    return object;\n  }\n  function initGeneratorFunction(functionObject) {\n    functionObject.prototype = $create(GeneratorFunctionPrototype.prototype);\n    functionObject.__proto__ = GeneratorFunctionPrototype;\n    return functionObject;\n  }\n  function AsyncFunctionContext() {\n    GeneratorContext.call(this);\n    this.err = undefined;\n    var ctx = this;\n    ctx.result = new Promise(function(resolve, reject) {\n      ctx.resolve = resolve;\n      ctx.reject = reject;\n    });\n  }\n  AsyncFunctionContext.prototype = $create(GeneratorContext.prototype);\n  AsyncFunctionContext.prototype.end = function() {\n    switch (this.state) {\n      case END_STATE:\n        this.resolve(this.returnValue);\n        break;\n      case RETHROW_STATE:\n        this.reject(this.storedException);\n        break;\n      default:\n        this.reject(getInternalError(this.state));\n    }\n  };\n  AsyncFunctionContext.prototype.handleException = function() {\n    this.state = RETHROW_STATE;\n  };\n  function asyncWrap(innerFunction, self) {\n    var moveNext = getMoveNext(innerFunction, self);\n    var ctx = new AsyncFunctionContext();\n    ctx.createCallback = function(newState) {\n      return function(value) {\n        ctx.state = newState;\n        ctx.value = value;\n        moveNext(ctx);\n      };\n    };\n    ctx.errback = function(err) {\n      handleCatch(ctx, err);\n      moveNext(ctx);\n    };\n    moveNext(ctx);\n    return ctx.result;\n  }\n  function getMoveNext(innerFunction, self) {\n    return function(ctx) {\n      while (true) {\n        try {\n          return innerFunction.call(self, ctx);\n        } catch (ex) {\n          handleCatch(ctx, ex);\n        }\n      }\n    };\n  }\n  function handleCatch(ctx, ex) {\n    ctx.storedException = ex;\n    var last = ctx.tryStack_[ctx.tryStack_.length - 1];\n    if (!last) {\n      ctx.handleException(ex);\n      return;\n    }\n    ctx.state = last.catch !== undefined ? last.catch : last.finally;\n    if (last.finallyFallThrough !== undefined)\n      ctx.finallyFallThrough = last.finallyFallThrough;\n  }\n  $traceurRuntime.asyncWrap = asyncWrap;\n  $traceurRuntime.initGeneratorFunction = initGeneratorFunction;\n  $traceurRuntime.createGeneratorInstance = createGeneratorInstance;\n})();\n(function() {\n  function buildFromEncodedParts(opt_scheme, opt_userInfo, opt_domain, opt_port, opt_path, opt_queryData, opt_fragment) {\n    var out = [];\n    if (opt_scheme) {\n      out.push(opt_scheme, ':');\n    }\n    if (opt_domain) {\n      out.push('//');\n      if (opt_userInfo) {\n        out.push(opt_userInfo, '@');\n      }\n      out.push(opt_domain);\n      if (opt_port) {\n        out.push(':', opt_port);\n      }\n    }\n    if (opt_path) {\n      out.push(opt_path);\n    }\n    if (opt_queryData) {\n      out.push('?', opt_queryData);\n    }\n    if (opt_fragment) {\n      out.push('#', opt_fragment);\n    }\n    return out.join('');\n  }\n  ;\n  var splitRe = new RegExp('^' + '(?:' + '([^:/?#.]+)' + ':)?' + '(?://' + '(?:([^/?#]*)@)?' + '([\\\\w\\\\d\\\\-\\\\u0100-\\\\uffff.%]*)' + '(?::([0-9]+))?' + ')?' + '([^?#]+)?' + '(?:\\\\?([^#]*))?' + '(?:#(.*))?' + '$');\n  var ComponentIndex = {\n    SCHEME: 1,\n    USER_INFO: 2,\n    DOMAIN: 3,\n    PORT: 4,\n    PATH: 5,\n    QUERY_DATA: 6,\n    FRAGMENT: 7\n  };\n  function split(uri) {\n    return (uri.match(splitRe));\n  }\n  function removeDotSegments(path) {\n    if (path === '/')\n      return '/';\n    var leadingSlash = path[0] === '/' ? '/' : '';\n    var trailingSlash = path.slice(-1) === '/' ? '/' : '';\n    var segments = path.split('/');\n    var out = [];\n    var up = 0;\n    for (var pos = 0; pos < segments.length; pos++) {\n      var segment = segments[pos];\n      switch (segment) {\n        case '':\n        case '.':\n          break;\n        case '..':\n          if (out.length)\n            out.pop();\n          else\n            up++;\n          break;\n        default:\n          out.push(segment);\n      }\n    }\n    if (!leadingSlash) {\n      while (up-- > 0) {\n        out.unshift('..');\n      }\n      if (out.length === 0)\n        out.push('.');\n    }\n    return leadingSlash + out.join('/') + trailingSlash;\n  }\n  function joinAndCanonicalizePath(parts) {\n    var path = parts[ComponentIndex.PATH] || '';\n    path = removeDotSegments(path);\n    parts[ComponentIndex.PATH] = path;\n    return buildFromEncodedParts(parts[ComponentIndex.SCHEME], parts[ComponentIndex.USER_INFO], parts[ComponentIndex.DOMAIN], parts[ComponentIndex.PORT], parts[ComponentIndex.PATH], parts[ComponentIndex.QUERY_DATA], parts[ComponentIndex.FRAGMENT]);\n  }\n  function canonicalizeUrl(url) {\n    var parts = split(url);\n    return joinAndCanonicalizePath(parts);\n  }\n  function resolveUrl(base, url) {\n    var parts = split(url);\n    var baseParts = split(base);\n    if (parts[ComponentIndex.SCHEME]) {\n      return joinAndCanonicalizePath(parts);\n    } else {\n      parts[ComponentIndex.SCHEME] = baseParts[ComponentIndex.SCHEME];\n    }\n    for (var i = ComponentIndex.SCHEME; i <= ComponentIndex.PORT; i++) {\n      if (!parts[i]) {\n        parts[i] = baseParts[i];\n      }\n    }\n    if (parts[ComponentIndex.PATH][0] == '/') {\n      return joinAndCanonicalizePath(parts);\n    }\n    var path = baseParts[ComponentIndex.PATH];\n    var index = path.lastIndexOf('/');\n    path = path.slice(0, index + 1) + parts[ComponentIndex.PATH];\n    parts[ComponentIndex.PATH] = path;\n    return joinAndCanonicalizePath(parts);\n  }\n  function isAbsolute(name) {\n    if (!name)\n      return false;\n    if (name[0] === '/')\n      return true;\n    var parts = split(name);\n    if (parts[ComponentIndex.SCHEME])\n      return true;\n    return false;\n  }\n  $traceurRuntime.canonicalizeUrl = canonicalizeUrl;\n  $traceurRuntime.isAbsolute = isAbsolute;\n  $traceurRuntime.removeDotSegments = removeDotSegments;\n  $traceurRuntime.resolveUrl = resolveUrl;\n})();\n(function(global) {\n  'use strict';\n  var $__2 = $traceurRuntime,\n      canonicalizeUrl = $__2.canonicalizeUrl,\n      resolveUrl = $__2.resolveUrl,\n      isAbsolute = $__2.isAbsolute;\n  var moduleInstantiators = Object.create(null);\n  var baseURL;\n  if (global.location && global.location.href)\n    baseURL = resolveUrl(global.location.href, './');\n  else\n    baseURL = '';\n  var UncoatedModuleEntry = function UncoatedModuleEntry(url, uncoatedModule) {\n    this.url = url;\n    this.value_ = uncoatedModule;\n  };\n  ($traceurRuntime.createClass)(UncoatedModuleEntry, {}, {});\n  var ModuleEvaluationError = function ModuleEvaluationError(erroneousModuleName, cause) {\n    this.message = this.constructor.name + ': ' + this.stripCause(cause) + ' in ' + erroneousModuleName;\n    if (!(cause instanceof $ModuleEvaluationError) && cause.stack)\n      this.stack = this.stripStack(cause.stack);\n    else\n      this.stack = '';\n  };\n  var $ModuleEvaluationError = ModuleEvaluationError;\n  ($traceurRuntime.createClass)(ModuleEvaluationError, {\n    stripError: function(message) {\n      return message.replace(/.*Error:/, this.constructor.name + ':');\n    },\n    stripCause: function(cause) {\n      if (!cause)\n        return '';\n      if (!cause.message)\n        return cause + '';\n      return this.stripError(cause.message);\n    },\n    loadedBy: function(moduleName) {\n      this.stack += '\\n loaded by ' + moduleName;\n    },\n    stripStack: function(causeStack) {\n      var stack = [];\n      causeStack.split('\\n').some((function(frame) {\n        if (/UncoatedModuleInstantiator/.test(frame))\n          return true;\n        stack.push(frame);\n      }));\n      stack[0] = this.stripError(stack[0]);\n      return stack.join('\\n');\n    }\n  }, {}, Error);\n  var UncoatedModuleInstantiator = function UncoatedModuleInstantiator(url, func) {\n    $traceurRuntime.superCall(this, $UncoatedModuleInstantiator.prototype, \"constructor\", [url, null]);\n    this.func = func;\n  };\n  var $UncoatedModuleInstantiator = UncoatedModuleInstantiator;\n  ($traceurRuntime.createClass)(UncoatedModuleInstantiator, {getUncoatedModule: function() {\n      if (this.value_)\n        return this.value_;\n      try {\n        return this.value_ = this.func.call(global);\n      } catch (ex) {\n        if (ex instanceof ModuleEvaluationError) {\n          ex.loadedBy(this.url);\n          throw ex;\n        }\n        throw new ModuleEvaluationError(this.url, ex);\n      }\n    }}, {}, UncoatedModuleEntry);\n  function getUncoatedModuleInstantiator(name) {\n    if (!name)\n      return;\n    var url = ModuleStore.normalize(name);\n    return moduleInstantiators[url];\n  }\n  ;\n  var moduleInstances = Object.create(null);\n  var liveModuleSentinel = {};\n  function Module(uncoatedModule) {\n    var isLive = arguments[1];\n    var coatedModule = Object.create(null);\n    Object.getOwnPropertyNames(uncoatedModule).forEach((function(name) {\n      var getter,\n          value;\n      if (isLive === liveModuleSentinel) {\n        var descr = Object.getOwnPropertyDescriptor(uncoatedModule, name);\n        if (descr.get)\n          getter = descr.get;\n      }\n      if (!getter) {\n        value = uncoatedModule[name];\n        getter = function() {\n          return value;\n        };\n      }\n      Object.defineProperty(coatedModule, name, {\n        get: getter,\n        enumerable: true\n      });\n    }));\n    Object.preventExtensions(coatedModule);\n    return coatedModule;\n  }\n  var ModuleStore = {\n    normalize: function(name, refererName, refererAddress) {\n      if (typeof name !== \"string\")\n        throw new TypeError(\"module name must be a string, not \" + typeof name);\n      if (isAbsolute(name))\n        return canonicalizeUrl(name);\n      if (/[^\\.]\\/\\.\\.\\//.test(name)) {\n        throw new Error('module name embeds /../: ' + name);\n      }\n      if (name[0] === '.' && refererName)\n        return resolveUrl(refererName, name);\n      return canonicalizeUrl(name);\n    },\n    get: function(normalizedName) {\n      var m = getUncoatedModuleInstantiator(normalizedName);\n      if (!m)\n        return undefined;\n      var moduleInstance = moduleInstances[m.url];\n      if (moduleInstance)\n        return moduleInstance;\n      moduleInstance = Module(m.getUncoatedModule(), liveModuleSentinel);\n      return moduleInstances[m.url] = moduleInstance;\n    },\n    set: function(normalizedName, module) {\n      normalizedName = String(normalizedName);\n      moduleInstantiators[normalizedName] = new UncoatedModuleInstantiator(normalizedName, (function() {\n        return module;\n      }));\n      moduleInstances[normalizedName] = module;\n    },\n    get baseURL() {\n      return baseURL;\n    },\n    set baseURL(v) {\n      baseURL = String(v);\n    },\n    registerModule: function(name, func) {\n      var normalizedName = ModuleStore.normalize(name);\n      if (moduleInstantiators[normalizedName])\n        throw new Error('duplicate module named ' + normalizedName);\n      moduleInstantiators[normalizedName] = new UncoatedModuleInstantiator(normalizedName, func);\n    },\n    bundleStore: Object.create(null),\n    register: function(name, deps, func) {\n      if (!deps || !deps.length && !func.length) {\n        this.registerModule(name, func);\n      } else {\n        this.bundleStore[name] = {\n          deps: deps,\n          execute: function() {\n            var $__0 = arguments;\n            var depMap = {};\n            deps.forEach((function(dep, index) {\n              return depMap[dep] = $__0[index];\n            }));\n            var registryEntry = func.call(this, depMap);\n            registryEntry.execute.call(this);\n            return registryEntry.exports;\n          }\n        };\n      }\n    },\n    getAnonymousModule: function(func) {\n      return new Module(func.call(global), liveModuleSentinel);\n    },\n    getForTesting: function(name) {\n      var $__0 = this;\n      if (!this.testingPrefix_) {\n        Object.keys(moduleInstances).some((function(key) {\n          var m = /(traceur@[^\\/]*\\/)/.exec(key);\n          if (m) {\n            $__0.testingPrefix_ = m[1];\n            return true;\n          }\n        }));\n      }\n      return this.get(this.testingPrefix_ + name);\n    }\n  };\n  ModuleStore.set('@traceur/src/runtime/ModuleStore', new Module({ModuleStore: ModuleStore}));\n  var setupGlobals = $traceurRuntime.setupGlobals;\n  $traceurRuntime.setupGlobals = function(global) {\n    setupGlobals(global);\n  };\n  $traceurRuntime.ModuleStore = ModuleStore;\n  global.System = {\n    register: ModuleStore.register.bind(ModuleStore),\n    get: ModuleStore.get,\n    set: ModuleStore.set,\n    normalize: ModuleStore.normalize\n  };\n  $traceurRuntime.getModuleImpl = function(name) {\n    var instantiator = getUncoatedModuleInstantiator(name);\n    return instantiator && instantiator.getUncoatedModule();\n  };\n})(typeof global !== 'undefined' ? global : this);\nSystem.register(\"traceur-runtime@0.0.72/src/runtime/polyfills/utils\", [], function() {\n  \"use strict\";\n  var __moduleName = \"traceur-runtime@0.0.72/src/runtime/polyfills/utils\";\n  var $ceil = Math.ceil;\n  var $floor = Math.floor;\n  var $isFinite = isFinite;\n  var $isNaN = isNaN;\n  var $pow = Math.pow;\n  var $min = Math.min;\n  var toObject = $traceurRuntime.toObject;\n  function toUint32(x) {\n    return x >>> 0;\n  }\n  function isObject(x) {\n    return x && (typeof x === 'object' || typeof x === 'function');\n  }\n  function isCallable(x) {\n    return typeof x === 'function';\n  }\n  function isNumber(x) {\n    return typeof x === 'number';\n  }\n  function toInteger(x) {\n    x = +x;\n    if ($isNaN(x))\n      return 0;\n    if (x === 0 || !$isFinite(x))\n      return x;\n    return x > 0 ? $floor(x) : $ceil(x);\n  }\n  var MAX_SAFE_LENGTH = $pow(2, 53) - 1;\n  function toLength(x) {\n    var len = toInteger(x);\n    return len < 0 ? 0 : $min(len, MAX_SAFE_LENGTH);\n  }\n  function checkIterable(x) {\n    return !isObject(x) ? undefined : x[Symbol.iterator];\n  }\n  function isConstructor(x) {\n    return isCallable(x);\n  }\n  function createIteratorResultObject(value, done) {\n    return {\n      value: value,\n      done: done\n    };\n  }\n  function maybeDefine(object, name, descr) {\n    if (!(name in object)) {\n      Object.defineProperty(object, name, descr);\n    }\n  }\n  function maybeDefineMethod(object, name, value) {\n    maybeDefine(object, name, {\n      value: value,\n      configurable: true,\n      enumerable: false,\n      writable: true\n    });\n  }\n  function maybeDefineConst(object, name, value) {\n    maybeDefine(object, name, {\n      value: value,\n      configurable: false,\n      enumerable: false,\n      writable: false\n    });\n  }\n  function maybeAddFunctions(object, functions) {\n    for (var i = 0; i < functions.length; i += 2) {\n      var name = functions[i];\n      var value = functions[i + 1];\n      maybeDefineMethod(object, name, value);\n    }\n  }\n  function maybeAddConsts(object, consts) {\n    for (var i = 0; i < consts.length; i += 2) {\n      var name = consts[i];\n      var value = consts[i + 1];\n      maybeDefineConst(object, name, value);\n    }\n  }\n  function maybeAddIterator(object, func, Symbol) {\n    if (!Symbol || !Symbol.iterator || object[Symbol.iterator])\n      return;\n    if (object['@@iterator'])\n      func = object['@@iterator'];\n    Object.defineProperty(object, Symbol.iterator, {\n      value: func,\n      configurable: true,\n      enumerable: false,\n      writable: true\n    });\n  }\n  var polyfills = [];\n  function registerPolyfill(func) {\n    polyfills.push(func);\n  }\n  function polyfillAll(global) {\n    polyfills.forEach((function(f) {\n      return f(global);\n    }));\n  }\n  return {\n    get toObject() {\n      return toObject;\n    },\n    get toUint32() {\n      return toUint32;\n    },\n    get isObject() {\n      return isObject;\n    },\n    get isCallable() {\n      return isCallable;\n    },\n    get isNumber() {\n      return isNumber;\n    },\n    get toInteger() {\n      return toInteger;\n    },\n    get toLength() {\n      return toLength;\n    },\n    get checkIterable() {\n      return checkIterable;\n    },\n    get isConstructor() {\n      return isConstructor;\n    },\n    get createIteratorResultObject() {\n      return createIteratorResultObject;\n    },\n    get maybeDefine() {\n      return maybeDefine;\n    },\n    get maybeDefineMethod() {\n      return maybeDefineMethod;\n    },\n    get maybeDefineConst() {\n      return maybeDefineConst;\n    },\n    get maybeAddFunctions() {\n      return maybeAddFunctions;\n    },\n    get maybeAddConsts() {\n      return maybeAddConsts;\n    },\n    get maybeAddIterator() {\n      return maybeAddIterator;\n    },\n    get registerPolyfill() {\n      return registerPolyfill;\n    },\n    get polyfillAll() {\n      return polyfillAll;\n    }\n  };\n});\nSystem.register(\"traceur-runtime@0.0.72/src/runtime/polyfills/Map\", [], function() {\n  \"use strict\";\n  var __moduleName = \"traceur-runtime@0.0.72/src/runtime/polyfills/Map\";\n  var $__0 = System.get(\"traceur-runtime@0.0.72/src/runtime/polyfills/utils\"),\n      isObject = $__0.isObject,\n      maybeAddIterator = $__0.maybeAddIterator,\n      registerPolyfill = $__0.registerPolyfill;\n  var getOwnHashObject = $traceurRuntime.getOwnHashObject;\n  var $hasOwnProperty = Object.prototype.hasOwnProperty;\n  var deletedSentinel = {};\n  function lookupIndex(map, key) {\n    if (isObject(key)) {\n      var hashObject = getOwnHashObject(key);\n      return hashObject && map.objectIndex_[hashObject.hash];\n    }\n    if (typeof key === 'string')\n      return map.stringIndex_[key];\n    return map.primitiveIndex_[key];\n  }\n  function initMap(map) {\n    map.entries_ = [];\n    map.objectIndex_ = Object.create(null);\n    map.stringIndex_ = Object.create(null);\n    map.primitiveIndex_ = Object.create(null);\n    map.deletedCount_ = 0;\n  }\n  var Map = function Map() {\n    var iterable = arguments[0];\n    if (!isObject(this))\n      throw new TypeError('Map called on incompatible type');\n    if ($hasOwnProperty.call(this, 'entries_')) {\n      throw new TypeError('Map can not be reentrantly initialised');\n    }\n    initMap(this);\n    if (iterable !== null && iterable !== undefined) {\n      for (var $__2 = iterable[Symbol.iterator](),\n          $__3; !($__3 = $__2.next()).done; ) {\n        var $__4 = $__3.value,\n            key = $__4[0],\n            value = $__4[1];\n        {\n          this.set(key, value);\n        }\n      }\n    }\n  };\n  ($traceurRuntime.createClass)(Map, {\n    get size() {\n      return this.entries_.length / 2 - this.deletedCount_;\n    },\n    get: function(key) {\n      var index = lookupIndex(this, key);\n      if (index !== undefined)\n        return this.entries_[index + 1];\n    },\n    set: function(key, value) {\n      var objectMode = isObject(key);\n      var stringMode = typeof key === 'string';\n      var index = lookupIndex(this, key);\n      if (index !== undefined) {\n        this.entries_[index + 1] = value;\n      } else {\n        index = this.entries_.length;\n        this.entries_[index] = key;\n        this.entries_[index + 1] = value;\n        if (objectMode) {\n          var hashObject = getOwnHashObject(key);\n          var hash = hashObject.hash;\n          this.objectIndex_[hash] = index;\n        } else if (stringMode) {\n          this.stringIndex_[key] = index;\n        } else {\n          this.primitiveIndex_[key] = index;\n        }\n      }\n      return this;\n    },\n    has: function(key) {\n      return lookupIndex(this, key) !== undefined;\n    },\n    delete: function(key) {\n      var objectMode = isObject(key);\n      var stringMode = typeof key === 'string';\n      var index;\n      var hash;\n      if (objectMode) {\n        var hashObject = getOwnHashObject(key);\n        if (hashObject) {\n          index = this.objectIndex_[hash = hashObject.hash];\n          delete this.objectIndex_[hash];\n        }\n      } else if (stringMode) {\n        index = this.stringIndex_[key];\n        delete this.stringIndex_[key];\n      } else {\n        index = this.primitiveIndex_[key];\n        delete this.primitiveIndex_[key];\n      }\n      if (index !== undefined) {\n        this.entries_[index] = deletedSentinel;\n        this.entries_[index + 1] = undefined;\n        this.deletedCount_++;\n        return true;\n      }\n      return false;\n    },\n    clear: function() {\n      initMap(this);\n    },\n    forEach: function(callbackFn) {\n      var thisArg = arguments[1];\n      for (var i = 0; i < this.entries_.length; i += 2) {\n        var key = this.entries_[i];\n        var value = this.entries_[i + 1];\n        if (key === deletedSentinel)\n          continue;\n        callbackFn.call(thisArg, value, key, this);\n      }\n    },\n    entries: $traceurRuntime.initGeneratorFunction(function $__5() {\n      var i,\n          key,\n          value;\n      return $traceurRuntime.createGeneratorInstance(function($ctx) {\n        while (true)\n          switch ($ctx.state) {\n            case 0:\n              i = 0;\n              $ctx.state = 12;\n              break;\n            case 12:\n              $ctx.state = (i < this.entries_.length) ? 8 : -2;\n              break;\n            case 4:\n              i += 2;\n              $ctx.state = 12;\n              break;\n            case 8:\n              key = this.entries_[i];\n              value = this.entries_[i + 1];\n              $ctx.state = 9;\n              break;\n            case 9:\n              $ctx.state = (key === deletedSentinel) ? 4 : 6;\n              break;\n            case 6:\n              $ctx.state = 2;\n              return [key, value];\n            case 2:\n              $ctx.maybeThrow();\n              $ctx.state = 4;\n              break;\n            default:\n              return $ctx.end();\n          }\n      }, $__5, this);\n    }),\n    keys: $traceurRuntime.initGeneratorFunction(function $__6() {\n      var i,\n          key,\n          value;\n      return $traceurRuntime.createGeneratorInstance(function($ctx) {\n        while (true)\n          switch ($ctx.state) {\n            case 0:\n              i = 0;\n              $ctx.state = 12;\n              break;\n            case 12:\n              $ctx.state = (i < this.entries_.length) ? 8 : -2;\n              break;\n            case 4:\n              i += 2;\n              $ctx.state = 12;\n              break;\n            case 8:\n              key = this.entries_[i];\n              value = this.entries_[i + 1];\n              $ctx.state = 9;\n              break;\n            case 9:\n              $ctx.state = (key === deletedSentinel) ? 4 : 6;\n              break;\n            case 6:\n              $ctx.state = 2;\n              return key;\n            case 2:\n              $ctx.maybeThrow();\n              $ctx.state = 4;\n              break;\n            default:\n              return $ctx.end();\n          }\n      }, $__6, this);\n    }),\n    values: $traceurRuntime.initGeneratorFunction(function $__7() {\n      var i,\n          key,\n          value;\n      return $traceurRuntime.createGeneratorInstance(function($ctx) {\n        while (true)\n          switch ($ctx.state) {\n            case 0:\n              i = 0;\n              $ctx.state = 12;\n              break;\n            case 12:\n              $ctx.state = (i < this.entries_.length) ? 8 : -2;\n              break;\n            case 4:\n              i += 2;\n              $ctx.state = 12;\n              break;\n            case 8:\n              key = this.entries_[i];\n              value = this.entries_[i + 1];\n              $ctx.state = 9;\n              break;\n            case 9:\n              $ctx.state = (key === deletedSentinel) ? 4 : 6;\n              break;\n            case 6:\n              $ctx.state = 2;\n              return value;\n            case 2:\n              $ctx.maybeThrow();\n              $ctx.state = 4;\n              break;\n            default:\n              return $ctx.end();\n          }\n      }, $__7, this);\n    })\n  }, {});\n  Object.defineProperty(Map.prototype, Symbol.iterator, {\n    configurable: true,\n    writable: true,\n    value: Map.prototype.entries\n  });\n  function polyfillMap(global) {\n    var $__4 = global,\n        Object = $__4.Object,\n        Symbol = $__4.Symbol;\n    if (!global.Map)\n      global.Map = Map;\n    var mapPrototype = global.Map.prototype;\n    if (mapPrototype.entries === undefined)\n      global.Map = Map;\n    if (mapPrototype.entries) {\n      maybeAddIterator(mapPrototype, mapPrototype.entries, Symbol);\n      maybeAddIterator(Object.getPrototypeOf(new global.Map().entries()), function() {\n        return this;\n      }, Symbol);\n    }\n  }\n  registerPolyfill(polyfillMap);\n  return {\n    get Map() {\n      return Map;\n    },\n    get polyfillMap() {\n      return polyfillMap;\n    }\n  };\n});\nSystem.get(\"traceur-runtime@0.0.72/src/runtime/polyfills/Map\" + '');\nSystem.register(\"traceur-runtime@0.0.72/src/runtime/polyfills/Set\", [], function() {\n  \"use strict\";\n  var __moduleName = \"traceur-runtime@0.0.72/src/runtime/polyfills/Set\";\n  var $__0 = System.get(\"traceur-runtime@0.0.72/src/runtime/polyfills/utils\"),\n      isObject = $__0.isObject,\n      maybeAddIterator = $__0.maybeAddIterator,\n      registerPolyfill = $__0.registerPolyfill;\n  var Map = System.get(\"traceur-runtime@0.0.72/src/runtime/polyfills/Map\").Map;\n  var getOwnHashObject = $traceurRuntime.getOwnHashObject;\n  var $hasOwnProperty = Object.prototype.hasOwnProperty;\n  function initSet(set) {\n    set.map_ = new Map();\n  }\n  var Set = function Set() {\n    var iterable = arguments[0];\n    if (!isObject(this))\n      throw new TypeError('Set called on incompatible type');\n    if ($hasOwnProperty.call(this, 'map_')) {\n      throw new TypeError('Set can not be reentrantly initialised');\n    }\n    initSet(this);\n    if (iterable !== null && iterable !== undefined) {\n      for (var $__4 = iterable[Symbol.iterator](),\n          $__5; !($__5 = $__4.next()).done; ) {\n        var item = $__5.value;\n        {\n          this.add(item);\n        }\n      }\n    }\n  };\n  ($traceurRuntime.createClass)(Set, {\n    get size() {\n      return this.map_.size;\n    },\n    has: function(key) {\n      return this.map_.has(key);\n    },\n    add: function(key) {\n      this.map_.set(key, key);\n      return this;\n    },\n    delete: function(key) {\n      return this.map_.delete(key);\n    },\n    clear: function() {\n      return this.map_.clear();\n    },\n    forEach: function(callbackFn) {\n      var thisArg = arguments[1];\n      var $__2 = this;\n      return this.map_.forEach((function(value, key) {\n        callbackFn.call(thisArg, key, key, $__2);\n      }));\n    },\n    values: $traceurRuntime.initGeneratorFunction(function $__7() {\n      var $__8,\n          $__9;\n      return $traceurRuntime.createGeneratorInstance(function($ctx) {\n        while (true)\n          switch ($ctx.state) {\n            case 0:\n              $__8 = this.map_.keys()[Symbol.iterator]();\n              $ctx.sent = void 0;\n              $ctx.action = 'next';\n              $ctx.state = 12;\n              break;\n            case 12:\n              $__9 = $__8[$ctx.action]($ctx.sentIgnoreThrow);\n              $ctx.state = 9;\n              break;\n            case 9:\n              $ctx.state = ($__9.done) ? 3 : 2;\n              break;\n            case 3:\n              $ctx.sent = $__9.value;\n              $ctx.state = -2;\n              break;\n            case 2:\n              $ctx.state = 12;\n              return $__9.value;\n            default:\n              return $ctx.end();\n          }\n      }, $__7, this);\n    }),\n    entries: $traceurRuntime.initGeneratorFunction(function $__10() {\n      var $__11,\n          $__12;\n      return $traceurRuntime.createGeneratorInstance(function($ctx) {\n        while (true)\n          switch ($ctx.state) {\n            case 0:\n              $__11 = this.map_.entries()[Symbol.iterator]();\n              $ctx.sent = void 0;\n              $ctx.action = 'next';\n              $ctx.state = 12;\n              break;\n            case 12:\n              $__12 = $__11[$ctx.action]($ctx.sentIgnoreThrow);\n              $ctx.state = 9;\n              break;\n            case 9:\n              $ctx.state = ($__12.done) ? 3 : 2;\n              break;\n            case 3:\n              $ctx.sent = $__12.value;\n              $ctx.state = -2;\n              break;\n            case 2:\n              $ctx.state = 12;\n              return $__12.value;\n            default:\n              return $ctx.end();\n          }\n      }, $__10, this);\n    })\n  }, {});\n  Object.defineProperty(Set.prototype, Symbol.iterator, {\n    configurable: true,\n    writable: true,\n    value: Set.prototype.values\n  });\n  Object.defineProperty(Set.prototype, 'keys', {\n    configurable: true,\n    writable: true,\n    value: Set.prototype.values\n  });\n  function polyfillSet(global) {\n    var $__6 = global,\n        Object = $__6.Object,\n        Symbol = $__6.Symbol;\n    if (!global.Set)\n      global.Set = Set;\n    var setPrototype = global.Set.prototype;\n    if (setPrototype.values) {\n      maybeAddIterator(setPrototype, setPrototype.values, Symbol);\n      maybeAddIterator(Object.getPrototypeOf(new global.Set().values()), function() {\n        return this;\n      }, Symbol);\n    }\n  }\n  registerPolyfill(polyfillSet);\n  return {\n    get Set() {\n      return Set;\n    },\n    get polyfillSet() {\n      return polyfillSet;\n    }\n  };\n});\nSystem.get(\"traceur-runtime@0.0.72/src/runtime/polyfills/Set\" + '');\nSystem.register(\"traceur-runtime@0.0.72/node_modules/rsvp/lib/rsvp/asap\", [], function() {\n  \"use strict\";\n  var __moduleName = \"traceur-runtime@0.0.72/node_modules/rsvp/lib/rsvp/asap\";\n  var len = 0;\n  function asap(callback, arg) {\n    queue[len] = callback;\n    queue[len + 1] = arg;\n    len += 2;\n    if (len === 2) {\n      scheduleFlush();\n    }\n  }\n  var $__default = asap;\n  var browserGlobal = (typeof window !== 'undefined') ? window : {};\n  var BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\n  var isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n  function useNextTick() {\n    return function() {\n      process.nextTick(flush);\n    };\n  }\n  function useMutationObserver() {\n    var iterations = 0;\n    var observer = new BrowserMutationObserver(flush);\n    var node = document.createTextNode('');\n    observer.observe(node, {characterData: true});\n    return function() {\n      node.data = (iterations = ++iterations % 2);\n    };\n  }\n  function useMessageChannel() {\n    var channel = new MessageChannel();\n    channel.port1.onmessage = flush;\n    return function() {\n      channel.port2.postMessage(0);\n    };\n  }\n  function useSetTimeout() {\n    return function() {\n      setTimeout(flush, 1);\n    };\n  }\n  var queue = new Array(1000);\n  function flush() {\n    for (var i = 0; i < len; i += 2) {\n      var callback = queue[i];\n      var arg = queue[i + 1];\n      callback(arg);\n      queue[i] = undefined;\n      queue[i + 1] = undefined;\n    }\n    len = 0;\n  }\n  var scheduleFlush;\n  if (typeof process !== 'undefined' && {}.toString.call(process) === '[object process]') {\n    scheduleFlush = useNextTick();\n  } else if (BrowserMutationObserver) {\n    scheduleFlush = useMutationObserver();\n  } else if (isWorker) {\n    scheduleFlush = useMessageChannel();\n  } else {\n    scheduleFlush = useSetTimeout();\n  }\n  return {get default() {\n      return $__default;\n    }};\n});\nSystem.register(\"traceur-runtime@0.0.72/src/runtime/polyfills/Promise\", [], function() {\n  \"use strict\";\n  var __moduleName = \"traceur-runtime@0.0.72/src/runtime/polyfills/Promise\";\n  var async = System.get(\"traceur-runtime@0.0.72/node_modules/rsvp/lib/rsvp/asap\").default;\n  var registerPolyfill = System.get(\"traceur-runtime@0.0.72/src/runtime/polyfills/utils\").registerPolyfill;\n  var promiseRaw = {};\n  function isPromise(x) {\n    return x && typeof x === 'object' && x.status_ !== undefined;\n  }\n  function idResolveHandler(x) {\n    return x;\n  }\n  function idRejectHandler(x) {\n    throw x;\n  }\n  function chain(promise) {\n    var onResolve = arguments[1] !== (void 0) ? arguments[1] : idResolveHandler;\n    var onReject = arguments[2] !== (void 0) ? arguments[2] : idRejectHandler;\n    var deferred = getDeferred(promise.constructor);\n    switch (promise.status_) {\n      case undefined:\n        throw TypeError;\n      case 0:\n        promise.onResolve_.push(onResolve, deferred);\n        promise.onReject_.push(onReject, deferred);\n        break;\n      case +1:\n        promiseEnqueue(promise.value_, [onResolve, deferred]);\n        break;\n      case -1:\n        promiseEnqueue(promise.value_, [onReject, deferred]);\n        break;\n    }\n    return deferred.promise;\n  }\n  function getDeferred(C) {\n    if (this === $Promise) {\n      var promise = promiseInit(new $Promise(promiseRaw));\n      return {\n        promise: promise,\n        resolve: (function(x) {\n          promiseResolve(promise, x);\n        }),\n        reject: (function(r) {\n          promiseReject(promise, r);\n        })\n      };\n    } else {\n      var result = {};\n      result.promise = new C((function(resolve, reject) {\n        result.resolve = resolve;\n        result.reject = reject;\n      }));\n      return result;\n    }\n  }\n  function promiseSet(promise, status, value, onResolve, onReject) {\n    promise.status_ = status;\n    promise.value_ = value;\n    promise.onResolve_ = onResolve;\n    promise.onReject_ = onReject;\n    return promise;\n  }\n  function promiseInit(promise) {\n    return promiseSet(promise, 0, undefined, [], []);\n  }\n  var Promise = function Promise(resolver) {\n    if (resolver === promiseRaw)\n      return;\n    if (typeof resolver !== 'function')\n      throw new TypeError;\n    var promise = promiseInit(this);\n    try {\n      resolver((function(x) {\n        promiseResolve(promise, x);\n      }), (function(r) {\n        promiseReject(promise, r);\n      }));\n    } catch (e) {\n      promiseReject(promise, e);\n    }\n  };\n  ($traceurRuntime.createClass)(Promise, {\n    catch: function(onReject) {\n      return this.then(undefined, onReject);\n    },\n    then: function(onResolve, onReject) {\n      if (typeof onResolve !== 'function')\n        onResolve = idResolveHandler;\n      if (typeof onReject !== 'function')\n        onReject = idRejectHandler;\n      var that = this;\n      var constructor = this.constructor;\n      return chain(this, function(x) {\n        x = promiseCoerce(constructor, x);\n        return x === that ? onReject(new TypeError) : isPromise(x) ? x.then(onResolve, onReject) : onResolve(x);\n      }, onReject);\n    }\n  }, {\n    resolve: function(x) {\n      if (this === $Promise) {\n        if (isPromise(x)) {\n          return x;\n        }\n        return promiseSet(new $Promise(promiseRaw), +1, x);\n      } else {\n        return new this(function(resolve, reject) {\n          resolve(x);\n        });\n      }\n    },\n    reject: function(r) {\n      if (this === $Promise) {\n        return promiseSet(new $Promise(promiseRaw), -1, r);\n      } else {\n        return new this((function(resolve, reject) {\n          reject(r);\n        }));\n      }\n    },\n    all: function(values) {\n      var deferred = getDeferred(this);\n      var resolutions = [];\n      try {\n        var count = values.length;\n        if (count === 0) {\n          deferred.resolve(resolutions);\n        } else {\n          for (var i = 0; i < values.length; i++) {\n            this.resolve(values[i]).then(function(i, x) {\n              resolutions[i] = x;\n              if (--count === 0)\n                deferred.resolve(resolutions);\n            }.bind(undefined, i), (function(r) {\n              deferred.reject(r);\n            }));\n          }\n        }\n      } catch (e) {\n        deferred.reject(e);\n      }\n      return deferred.promise;\n    },\n    race: function(values) {\n      var deferred = getDeferred(this);\n      try {\n        for (var i = 0; i < values.length; i++) {\n          this.resolve(values[i]).then((function(x) {\n            deferred.resolve(x);\n          }), (function(r) {\n            deferred.reject(r);\n          }));\n        }\n      } catch (e) {\n        deferred.reject(e);\n      }\n      return deferred.promise;\n    }\n  });\n  var $Promise = Promise;\n  var $PromiseReject = $Promise.reject;\n  function promiseResolve(promise, x) {\n    promiseDone(promise, +1, x, promise.onResolve_);\n  }\n  function promiseReject(promise, r) {\n    promiseDone(promise, -1, r, promise.onReject_);\n  }\n  function promiseDone(promise, status, value, reactions) {\n    if (promise.status_ !== 0)\n      return;\n    promiseEnqueue(value, reactions);\n    promiseSet(promise, status, value);\n  }\n  function promiseEnqueue(value, tasks) {\n    async((function() {\n      for (var i = 0; i < tasks.length; i += 2) {\n        promiseHandle(value, tasks[i], tasks[i + 1]);\n      }\n    }));\n  }\n  function promiseHandle(value, handler, deferred) {\n    try {\n      var result = handler(value);\n      if (result === deferred.promise)\n        throw new TypeError;\n      else if (isPromise(result))\n        chain(result, deferred.resolve, deferred.reject);\n      else\n        deferred.resolve(result);\n    } catch (e) {\n      try {\n        deferred.reject(e);\n      } catch (e) {}\n    }\n  }\n  var thenableSymbol = '@@thenable';\n  function isObject(x) {\n    return x && (typeof x === 'object' || typeof x === 'function');\n  }\n  function promiseCoerce(constructor, x) {\n    if (!isPromise(x) && isObject(x)) {\n      var then;\n      try {\n        then = x.then;\n      } catch (r) {\n        var promise = $PromiseReject.call(constructor, r);\n        x[thenableSymbol] = promise;\n        return promise;\n      }\n      if (typeof then === 'function') {\n        var p = x[thenableSymbol];\n        if (p) {\n          return p;\n        } else {\n          var deferred = getDeferred(constructor);\n          x[thenableSymbol] = deferred.promise;\n          try {\n            then.call(x, deferred.resolve, deferred.reject);\n          } catch (r) {\n            deferred.reject(r);\n          }\n          return deferred.promise;\n        }\n      }\n    }\n    return x;\n  }\n  function polyfillPromise(global) {\n    if (!global.Promise)\n      global.Promise = Promise;\n  }\n  registerPolyfill(polyfillPromise);\n  return {\n    get Promise() {\n      return Promise;\n    },\n    get polyfillPromise() {\n      return polyfillPromise;\n    }\n  };\n});\nSystem.get(\"traceur-runtime@0.0.72/src/runtime/polyfills/Promise\" + '');\nSystem.register(\"traceur-runtime@0.0.72/src/runtime/polyfills/StringIterator\", [], function() {\n  \"use strict\";\n  var $__2;\n  var __moduleName = \"traceur-runtime@0.0.72/src/runtime/polyfills/StringIterator\";\n  var $__0 = System.get(\"traceur-runtime@0.0.72/src/runtime/polyfills/utils\"),\n      createIteratorResultObject = $__0.createIteratorResultObject,\n      isObject = $__0.isObject;\n  var toProperty = $traceurRuntime.toProperty;\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n  var iteratedString = Symbol('iteratedString');\n  var stringIteratorNextIndex = Symbol('stringIteratorNextIndex');\n  var StringIterator = function StringIterator() {};\n  ($traceurRuntime.createClass)(StringIterator, ($__2 = {}, Object.defineProperty($__2, \"next\", {\n    value: function() {\n      var o = this;\n      if (!isObject(o) || !hasOwnProperty.call(o, iteratedString)) {\n        throw new TypeError('this must be a StringIterator object');\n      }\n      var s = o[toProperty(iteratedString)];\n      if (s === undefined) {\n        return createIteratorResultObject(undefined, true);\n      }\n      var position = o[toProperty(stringIteratorNextIndex)];\n      var len = s.length;\n      if (position >= len) {\n        o[toProperty(iteratedString)] = undefined;\n        return createIteratorResultObject(undefined, true);\n      }\n      var first = s.charCodeAt(position);\n      var resultString;\n      if (first < 0xD800 || first > 0xDBFF || position + 1 === len) {\n        resultString = String.fromCharCode(first);\n      } else {\n        var second = s.charCodeAt(position + 1);\n        if (second < 0xDC00 || second > 0xDFFF) {\n          resultString = String.fromCharCode(first);\n        } else {\n          resultString = String.fromCharCode(first) + String.fromCharCode(second);\n        }\n      }\n      o[toProperty(stringIteratorNextIndex)] = position + resultString.length;\n      return createIteratorResultObject(resultString, false);\n    },\n    configurable: true,\n    enumerable: true,\n    writable: true\n  }), Object.defineProperty($__2, Symbol.iterator, {\n    value: function() {\n      return this;\n    },\n    configurable: true,\n    enumerable: true,\n    writable: true\n  }), $__2), {});\n  function createStringIterator(string) {\n    var s = String(string);\n    var iterator = Object.create(StringIterator.prototype);\n    iterator[toProperty(iteratedString)] = s;\n    iterator[toProperty(stringIteratorNextIndex)] = 0;\n    return iterator;\n  }\n  return {get createStringIterator() {\n      return createStringIterator;\n    }};\n});\nSystem.register(\"traceur-runtime@0.0.72/src/runtime/polyfills/String\", [], function() {\n  \"use strict\";\n  var __moduleName = \"traceur-runtime@0.0.72/src/runtime/polyfills/String\";\n  var createStringIterator = System.get(\"traceur-runtime@0.0.72/src/runtime/polyfills/StringIterator\").createStringIterator;\n  var $__1 = System.get(\"traceur-runtime@0.0.72/src/runtime/polyfills/utils\"),\n      maybeAddFunctions = $__1.maybeAddFunctions,\n      maybeAddIterator = $__1.maybeAddIterator,\n      registerPolyfill = $__1.registerPolyfill;\n  var $toString = Object.prototype.toString;\n  var $indexOf = String.prototype.indexOf;\n  var $lastIndexOf = String.prototype.lastIndexOf;\n  function startsWith(search) {\n    var string = String(this);\n    if (this == null || $toString.call(search) == '[object RegExp]') {\n      throw TypeError();\n    }\n    var stringLength = string.length;\n    var searchString = String(search);\n    var searchLength = searchString.length;\n    var position = arguments.length > 1 ? arguments[1] : undefined;\n    var pos = position ? Number(position) : 0;\n    if (isNaN(pos)) {\n      pos = 0;\n    }\n    var start = Math.min(Math.max(pos, 0), stringLength);\n    return $indexOf.call(string, searchString, pos) == start;\n  }\n  function endsWith(search) {\n    var string = String(this);\n    if (this == null || $toString.call(search) == '[object RegExp]') {\n      throw TypeError();\n    }\n    var stringLength = string.length;\n    var searchString = String(search);\n    var searchLength = searchString.length;\n    var pos = stringLength;\n    if (arguments.length > 1) {\n      var position = arguments[1];\n      if (position !== undefined) {\n        pos = position ? Number(position) : 0;\n        if (isNaN(pos)) {\n          pos = 0;\n        }\n      }\n    }\n    var end = Math.min(Math.max(pos, 0), stringLength);\n    var start = end - searchLength;\n    if (start < 0) {\n      return false;\n    }\n    return $lastIndexOf.call(string, searchString, start) == start;\n  }\n  function contains(search) {\n    if (this == null) {\n      throw TypeError();\n    }\n    var string = String(this);\n    var stringLength = string.length;\n    var searchString = String(search);\n    var searchLength = searchString.length;\n    var position = arguments.length > 1 ? arguments[1] : undefined;\n    var pos = position ? Number(position) : 0;\n    if (isNaN(pos)) {\n      pos = 0;\n    }\n    var start = Math.min(Math.max(pos, 0), stringLength);\n    return $indexOf.call(string, searchString, pos) != -1;\n  }\n  function repeat(count) {\n    if (this == null) {\n      throw TypeError();\n    }\n    var string = String(this);\n    var n = count ? Number(count) : 0;\n    if (isNaN(n)) {\n      n = 0;\n    }\n    if (n < 0 || n == Infinity) {\n      throw RangeError();\n    }\n    if (n == 0) {\n      return '';\n    }\n    var result = '';\n    while (n--) {\n      result += string;\n    }\n    return result;\n  }\n  function codePointAt(position) {\n    if (this == null) {\n      throw TypeError();\n    }\n    var string = String(this);\n    var size = string.length;\n    var index = position ? Number(position) : 0;\n    if (isNaN(index)) {\n      index = 0;\n    }\n    if (index < 0 || index >= size) {\n      return undefined;\n    }\n    var first = string.charCodeAt(index);\n    var second;\n    if (first >= 0xD800 && first <= 0xDBFF && size > index + 1) {\n      second = string.charCodeAt(index + 1);\n      if (second >= 0xDC00 && second <= 0xDFFF) {\n        return (first - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n      }\n    }\n    return first;\n  }\n  function raw(callsite) {\n    var raw = callsite.raw;\n    var len = raw.length >>> 0;\n    if (len === 0)\n      return '';\n    var s = '';\n    var i = 0;\n    while (true) {\n      s += raw[i];\n      if (i + 1 === len)\n        return s;\n      s += arguments[++i];\n    }\n  }\n  function fromCodePoint() {\n    var codeUnits = [];\n    var floor = Math.floor;\n    var highSurrogate;\n    var lowSurrogate;\n    var index = -1;\n    var length = arguments.length;\n    if (!length) {\n      return '';\n    }\n    while (++index < length) {\n      var codePoint = Number(arguments[index]);\n      if (!isFinite(codePoint) || codePoint < 0 || codePoint > 0x10FFFF || floor(codePoint) != codePoint) {\n        throw RangeError('Invalid code point: ' + codePoint);\n      }\n      if (codePoint <= 0xFFFF) {\n        codeUnits.push(codePoint);\n      } else {\n        codePoint -= 0x10000;\n        highSurrogate = (codePoint >> 10) + 0xD800;\n        lowSurrogate = (codePoint % 0x400) + 0xDC00;\n        codeUnits.push(highSurrogate, lowSurrogate);\n      }\n    }\n    return String.fromCharCode.apply(null, codeUnits);\n  }\n  function stringPrototypeIterator() {\n    var o = $traceurRuntime.checkObjectCoercible(this);\n    var s = String(o);\n    return createStringIterator(s);\n  }\n  function polyfillString(global) {\n    var String = global.String;\n    maybeAddFunctions(String.prototype, ['codePointAt', codePointAt, 'contains', contains, 'endsWith', endsWith, 'startsWith', startsWith, 'repeat', repeat]);\n    maybeAddFunctions(String, ['fromCodePoint', fromCodePoint, 'raw', raw]);\n    maybeAddIterator(String.prototype, stringPrototypeIterator, Symbol);\n  }\n  registerPolyfill(polyfillString);\n  return {\n    get startsWith() {\n      return startsWith;\n    },\n    get endsWith() {\n      return endsWith;\n    },\n    get contains() {\n      return contains;\n    },\n    get repeat() {\n      return repeat;\n    },\n    get codePointAt() {\n      return codePointAt;\n    },\n    get raw() {\n      return raw;\n    },\n    get fromCodePoint() {\n      return fromCodePoint;\n    },\n    get stringPrototypeIterator() {\n      return stringPrototypeIterator;\n    },\n    get polyfillString() {\n      return polyfillString;\n    }\n  };\n});\nSystem.get(\"traceur-runtime@0.0.72/src/runtime/polyfills/String\" + '');\nSystem.register(\"traceur-runtime@0.0.72/src/runtime/polyfills/ArrayIterator\", [], function() {\n  \"use strict\";\n  var $__2;\n  var __moduleName = \"traceur-runtime@0.0.72/src/runtime/polyfills/ArrayIterator\";\n  var $__0 = System.get(\"traceur-runtime@0.0.72/src/runtime/polyfills/utils\"),\n      toObject = $__0.toObject,\n      toUint32 = $__0.toUint32,\n      createIteratorResultObject = $__0.createIteratorResultObject;\n  var ARRAY_ITERATOR_KIND_KEYS = 1;\n  var ARRAY_ITERATOR_KIND_VALUES = 2;\n  var ARRAY_ITERATOR_KIND_ENTRIES = 3;\n  var ArrayIterator = function ArrayIterator() {};\n  ($traceurRuntime.createClass)(ArrayIterator, ($__2 = {}, Object.defineProperty($__2, \"next\", {\n    value: function() {\n      var iterator = toObject(this);\n      var array = iterator.iteratorObject_;\n      if (!array) {\n        throw new TypeError('Object is not an ArrayIterator');\n      }\n      var index = iterator.arrayIteratorNextIndex_;\n      var itemKind = iterator.arrayIterationKind_;\n      var length = toUint32(array.length);\n      if (index >= length) {\n        iterator.arrayIteratorNextIndex_ = Infinity;\n        return createIteratorResultObject(undefined, true);\n      }\n      iterator.arrayIteratorNextIndex_ = index + 1;\n      if (itemKind == ARRAY_ITERATOR_KIND_VALUES)\n        return createIteratorResultObject(array[index], false);\n      if (itemKind == ARRAY_ITERATOR_KIND_ENTRIES)\n        return createIteratorResultObject([index, array[index]], false);\n      return createIteratorResultObject(index, false);\n    },\n    configurable: true,\n    enumerable: true,\n    writable: true\n  }), Object.defineProperty($__2, Symbol.iterator, {\n    value: function() {\n      return this;\n    },\n    configurable: true,\n    enumerable: true,\n    writable: true\n  }), $__2), {});\n  function createArrayIterator(array, kind) {\n    var object = toObject(array);\n    var iterator = new ArrayIterator;\n    iterator.iteratorObject_ = object;\n    iterator.arrayIteratorNextIndex_ = 0;\n    iterator.arrayIterationKind_ = kind;\n    return iterator;\n  }\n  function entries() {\n    return createArrayIterator(this, ARRAY_ITERATOR_KIND_ENTRIES);\n  }\n  function keys() {\n    return createArrayIterator(this, ARRAY_ITERATOR_KIND_KEYS);\n  }\n  function values() {\n    return createArrayIterator(this, ARRAY_ITERATOR_KIND_VALUES);\n  }\n  return {\n    get entries() {\n      return entries;\n    },\n    get keys() {\n      return keys;\n    },\n    get values() {\n      return values;\n    }\n  };\n});\nSystem.register(\"traceur-runtime@0.0.72/src/runtime/polyfills/Array\", [], function() {\n  \"use strict\";\n  var __moduleName = \"traceur-runtime@0.0.72/src/runtime/polyfills/Array\";\n  var $__0 = System.get(\"traceur-runtime@0.0.72/src/runtime/polyfills/ArrayIterator\"),\n      entries = $__0.entries,\n      keys = $__0.keys,\n      values = $__0.values;\n  var $__1 = System.get(\"traceur-runtime@0.0.72/src/runtime/polyfills/utils\"),\n      checkIterable = $__1.checkIterable,\n      isCallable = $__1.isCallable,\n      isConstructor = $__1.isConstructor,\n      maybeAddFunctions = $__1.maybeAddFunctions,\n      maybeAddIterator = $__1.maybeAddIterator,\n      registerPolyfill = $__1.registerPolyfill,\n      toInteger = $__1.toInteger,\n      toLength = $__1.toLength,\n      toObject = $__1.toObject;\n  function from(arrLike) {\n    var mapFn = arguments[1];\n    var thisArg = arguments[2];\n    var C = this;\n    var items = toObject(arrLike);\n    var mapping = mapFn !== undefined;\n    var k = 0;\n    var arr,\n        len;\n    if (mapping && !isCallable(mapFn)) {\n      throw TypeError();\n    }\n    if (checkIterable(items)) {\n      arr = isConstructor(C) ? new C() : [];\n      for (var $__2 = items[Symbol.iterator](),\n          $__3; !($__3 = $__2.next()).done; ) {\n        var item = $__3.value;\n        {\n          if (mapping) {\n            arr[k] = mapFn.call(thisArg, item, k);\n          } else {\n            arr[k] = item;\n          }\n          k++;\n        }\n      }\n      arr.length = k;\n      return arr;\n    }\n    len = toLength(items.length);\n    arr = isConstructor(C) ? new C(len) : new Array(len);\n    for (; k < len; k++) {\n      if (mapping) {\n        arr[k] = typeof thisArg === 'undefined' ? mapFn(items[k], k) : mapFn.call(thisArg, items[k], k);\n      } else {\n        arr[k] = items[k];\n      }\n    }\n    arr.length = len;\n    return arr;\n  }\n  function of() {\n    for (var items = [],\n        $__4 = 0; $__4 < arguments.length; $__4++)\n      items[$__4] = arguments[$__4];\n    var C = this;\n    var len = items.length;\n    var arr = isConstructor(C) ? new C(len) : new Array(len);\n    for (var k = 0; k < len; k++) {\n      arr[k] = items[k];\n    }\n    arr.length = len;\n    return arr;\n  }\n  function fill(value) {\n    var start = arguments[1] !== (void 0) ? arguments[1] : 0;\n    var end = arguments[2];\n    var object = toObject(this);\n    var len = toLength(object.length);\n    var fillStart = toInteger(start);\n    var fillEnd = end !== undefined ? toInteger(end) : len;\n    fillStart = fillStart < 0 ? Math.max(len + fillStart, 0) : Math.min(fillStart, len);\n    fillEnd = fillEnd < 0 ? Math.max(len + fillEnd, 0) : Math.min(fillEnd, len);\n    while (fillStart < fillEnd) {\n      object[fillStart] = value;\n      fillStart++;\n    }\n    return object;\n  }\n  function find(predicate) {\n    var thisArg = arguments[1];\n    return findHelper(this, predicate, thisArg);\n  }\n  function findIndex(predicate) {\n    var thisArg = arguments[1];\n    return findHelper(this, predicate, thisArg, true);\n  }\n  function findHelper(self, predicate) {\n    var thisArg = arguments[2];\n    var returnIndex = arguments[3] !== (void 0) ? arguments[3] : false;\n    var object = toObject(self);\n    var len = toLength(object.length);\n    if (!isCallable(predicate)) {\n      throw TypeError();\n    }\n    for (var i = 0; i < len; i++) {\n      var value = object[i];\n      if (predicate.call(thisArg, value, i, object)) {\n        return returnIndex ? i : value;\n      }\n    }\n    return returnIndex ? -1 : undefined;\n  }\n  function polyfillArray(global) {\n    var $__5 = global,\n        Array = $__5.Array,\n        Object = $__5.Object,\n        Symbol = $__5.Symbol;\n    maybeAddFunctions(Array.prototype, ['entries', entries, 'keys', keys, 'values', values, 'fill', fill, 'find', find, 'findIndex', findIndex]);\n    maybeAddFunctions(Array, ['from', from, 'of', of]);\n    maybeAddIterator(Array.prototype, values, Symbol);\n    maybeAddIterator(Object.getPrototypeOf([].values()), function() {\n      return this;\n    }, Symbol);\n  }\n  registerPolyfill(polyfillArray);\n  return {\n    get from() {\n      return from;\n    },\n    get of() {\n      return of;\n    },\n    get fill() {\n      return fill;\n    },\n    get find() {\n      return find;\n    },\n    get findIndex() {\n      return findIndex;\n    },\n    get polyfillArray() {\n      return polyfillArray;\n    }\n  };\n});\nSystem.get(\"traceur-runtime@0.0.72/src/runtime/polyfills/Array\" + '');\nSystem.register(\"traceur-runtime@0.0.72/src/runtime/polyfills/Object\", [], function() {\n  \"use strict\";\n  var __moduleName = \"traceur-runtime@0.0.72/src/runtime/polyfills/Object\";\n  var $__0 = System.get(\"traceur-runtime@0.0.72/src/runtime/polyfills/utils\"),\n      maybeAddFunctions = $__0.maybeAddFunctions,\n      registerPolyfill = $__0.registerPolyfill;\n  var $__1 = $traceurRuntime,\n      defineProperty = $__1.defineProperty,\n      getOwnPropertyDescriptor = $__1.getOwnPropertyDescriptor,\n      getOwnPropertyNames = $__1.getOwnPropertyNames,\n      isPrivateName = $__1.isPrivateName,\n      keys = $__1.keys;\n  function is(left, right) {\n    if (left === right)\n      return left !== 0 || 1 / left === 1 / right;\n    return left !== left && right !== right;\n  }\n  function assign(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      var props = keys(source);\n      var p,\n          length = props.length;\n      for (p = 0; p < length; p++) {\n        var name = props[p];\n        if (isPrivateName(name))\n          continue;\n        target[name] = source[name];\n      }\n    }\n    return target;\n  }\n  function mixin(target, source) {\n    var props = getOwnPropertyNames(source);\n    var p,\n        descriptor,\n        length = props.length;\n    for (p = 0; p < length; p++) {\n      var name = props[p];\n      if (isPrivateName(name))\n        continue;\n      descriptor = getOwnPropertyDescriptor(source, props[p]);\n      defineProperty(target, props[p], descriptor);\n    }\n    return target;\n  }\n  function polyfillObject(global) {\n    var Object = global.Object;\n    maybeAddFunctions(Object, ['assign', assign, 'is', is, 'mixin', mixin]);\n  }\n  registerPolyfill(polyfillObject);\n  return {\n    get is() {\n      return is;\n    },\n    get assign() {\n      return assign;\n    },\n    get mixin() {\n      return mixin;\n    },\n    get polyfillObject() {\n      return polyfillObject;\n    }\n  };\n});\nSystem.get(\"traceur-runtime@0.0.72/src/runtime/polyfills/Object\" + '');\nSystem.register(\"traceur-runtime@0.0.72/src/runtime/polyfills/Number\", [], function() {\n  \"use strict\";\n  var __moduleName = \"traceur-runtime@0.0.72/src/runtime/polyfills/Number\";\n  var $__0 = System.get(\"traceur-runtime@0.0.72/src/runtime/polyfills/utils\"),\n      isNumber = $__0.isNumber,\n      maybeAddConsts = $__0.maybeAddConsts,\n      maybeAddFunctions = $__0.maybeAddFunctions,\n      registerPolyfill = $__0.registerPolyfill,\n      toInteger = $__0.toInteger;\n  var $abs = Math.abs;\n  var $isFinite = isFinite;\n  var $isNaN = isNaN;\n  var MAX_SAFE_INTEGER = Math.pow(2, 53) - 1;\n  var MIN_SAFE_INTEGER = -Math.pow(2, 53) + 1;\n  var EPSILON = Math.pow(2, -52);\n  function NumberIsFinite(number) {\n    return isNumber(number) && $isFinite(number);\n  }\n  ;\n  function isInteger(number) {\n    return NumberIsFinite(number) && toInteger(number) === number;\n  }\n  function NumberIsNaN(number) {\n    return isNumber(number) && $isNaN(number);\n  }\n  ;\n  function isSafeInteger(number) {\n    if (NumberIsFinite(number)) {\n      var integral = toInteger(number);\n      if (integral === number)\n        return $abs(integral) <= MAX_SAFE_INTEGER;\n    }\n    return false;\n  }\n  function polyfillNumber(global) {\n    var Number = global.Number;\n    maybeAddConsts(Number, ['MAX_SAFE_INTEGER', MAX_SAFE_INTEGER, 'MIN_SAFE_INTEGER', MIN_SAFE_INTEGER, 'EPSILON', EPSILON]);\n    maybeAddFunctions(Number, ['isFinite', NumberIsFinite, 'isInteger', isInteger, 'isNaN', NumberIsNaN, 'isSafeInteger', isSafeInteger]);\n  }\n  registerPolyfill(polyfillNumber);\n  return {\n    get MAX_SAFE_INTEGER() {\n      return MAX_SAFE_INTEGER;\n    },\n    get MIN_SAFE_INTEGER() {\n      return MIN_SAFE_INTEGER;\n    },\n    get EPSILON() {\n      return EPSILON;\n    },\n    get isFinite() {\n      return NumberIsFinite;\n    },\n    get isInteger() {\n      return isInteger;\n    },\n    get isNaN() {\n      return NumberIsNaN;\n    },\n    get isSafeInteger() {\n      return isSafeInteger;\n    },\n    get polyfillNumber() {\n      return polyfillNumber;\n    }\n  };\n});\nSystem.get(\"traceur-runtime@0.0.72/src/runtime/polyfills/Number\" + '');\nSystem.register(\"traceur-runtime@0.0.72/src/runtime/polyfills/polyfills\", [], function() {\n  \"use strict\";\n  var __moduleName = \"traceur-runtime@0.0.72/src/runtime/polyfills/polyfills\";\n  var polyfillAll = System.get(\"traceur-runtime@0.0.72/src/runtime/polyfills/utils\").polyfillAll;\n  polyfillAll(this);\n  var setupGlobals = $traceurRuntime.setupGlobals;\n  $traceurRuntime.setupGlobals = function(global) {\n    setupGlobals(global);\n    polyfillAll(global);\n  };\n  return {};\n});\nSystem.get(\"traceur-runtime@0.0.72/src/runtime/polyfills/polyfills\" + '');\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})",
    "/**\n * @fileoverview gl-matrix - High performance matrix and vector operations\n * @author Brandon Jones\n * @author Colin MacKenzie IV\n * @version 2.2.1\n */\n\n/* Copyright (c) 2013, Brandon Jones, Colin MacKenzie IV. All rights reserved.\n\nRedistribution and use in source and binary forms, with or without modification,\nare permitted provided that the following conditions are met:\n\n  * Redistributions of source code must retain the above copyright notice, this\n    list of conditions and the following disclaimer.\n  * Redistributions in binary form must reproduce the above copyright notice,\n    this list of conditions and the following disclaimer in the documentation\n    and/or other materials provided with the distribution.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR\nANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\nANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. */\n\n\n(function(_global) {\n  \"use strict\";\n\n  var shim = {};\n  if (typeof(exports) === 'undefined') {\n    if(typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n      shim.exports = {};\n      define(function() {\n        return shim.exports;\n      });\n    } else {\n      // gl-matrix lives in a browser, define its namespaces in global\n      shim.exports = typeof(window) !== 'undefined' ? window : _global;\n    }\n  }\n  else {\n    // gl-matrix lives in commonjs, define its namespaces in exports\n    shim.exports = exports;\n  }\n\n  (function(exports) {\n    /* Copyright (c) 2013, Brandon Jones, Colin MacKenzie IV. All rights reserved.\n\nRedistribution and use in source and binary forms, with or without modification,\nare permitted provided that the following conditions are met:\n\n  * Redistributions of source code must retain the above copyright notice, this\n    list of conditions and the following disclaimer.\n  * Redistributions in binary form must reproduce the above copyright notice,\n    this list of conditions and the following disclaimer in the documentation \n    and/or other materials provided with the distribution.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE \nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR\nANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\nANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. */\n\n\nif(!GLMAT_EPSILON) {\n    var GLMAT_EPSILON = 0.000001;\n}\n\nif(!GLMAT_ARRAY_TYPE) {\n    var GLMAT_ARRAY_TYPE = (typeof Float32Array !== 'undefined') ? Float32Array : Array;\n}\n\nif(!GLMAT_RANDOM) {\n    var GLMAT_RANDOM = Math.random;\n}\n\n/**\n * @class Common utilities\n * @name glMatrix\n */\nvar glMatrix = {};\n\n/**\n * Sets the type of array used when creating new vectors and matricies\n *\n * @param {Type} type Array type, such as Float32Array or Array\n */\nglMatrix.setMatrixArrayType = function(type) {\n    GLMAT_ARRAY_TYPE = type;\n}\n\nif(typeof(exports) !== 'undefined') {\n    exports.glMatrix = glMatrix;\n}\n\nvar degree = Math.PI / 180;\n\n/**\n* Convert Degree To Radian\n*\n* @param {Number} Angle in Degrees\n*/\nglMatrix.toRadian = function(a){\n     return a * degree;\n}\n;\n/* Copyright (c) 2013, Brandon Jones, Colin MacKenzie IV. All rights reserved.\n\nRedistribution and use in source and binary forms, with or without modification,\nare permitted provided that the following conditions are met:\n\n  * Redistributions of source code must retain the above copyright notice, this\n    list of conditions and the following disclaimer.\n  * Redistributions in binary form must reproduce the above copyright notice,\n    this list of conditions and the following disclaimer in the documentation \n    and/or other materials provided with the distribution.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE \nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR\nANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\nANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. */\n\n/**\n * @class 2 Dimensional Vector\n * @name vec2\n */\n\nvar vec2 = {};\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\nvec2.create = function() {\n    var out = new GLMAT_ARRAY_TYPE(2);\n    out[0] = 0;\n    out[1] = 0;\n    return out;\n};\n\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {vec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\nvec2.clone = function(a) {\n    var out = new GLMAT_ARRAY_TYPE(2);\n    out[0] = a[0];\n    out[1] = a[1];\n    return out;\n};\n\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\nvec2.fromValues = function(x, y) {\n    var out = new GLMAT_ARRAY_TYPE(2);\n    out[0] = x;\n    out[1] = y;\n    return out;\n};\n\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the source vector\n * @returns {vec2} out\n */\nvec2.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    return out;\n};\n\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\nvec2.set = function(out, x, y) {\n    out[0] = x;\n    out[1] = y;\n    return out;\n};\n\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nvec2.add = function(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    return out;\n};\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nvec2.subtract = function(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    return out;\n};\n\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\nvec2.sub = vec2.subtract;\n\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nvec2.multiply = function(out, a, b) {\n    out[0] = a[0] * b[0];\n    out[1] = a[1] * b[1];\n    return out;\n};\n\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\nvec2.mul = vec2.multiply;\n\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nvec2.divide = function(out, a, b) {\n    out[0] = a[0] / b[0];\n    out[1] = a[1] / b[1];\n    return out;\n};\n\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\nvec2.div = vec2.divide;\n\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nvec2.min = function(out, a, b) {\n    out[0] = Math.min(a[0], b[0]);\n    out[1] = Math.min(a[1], b[1]);\n    return out;\n};\n\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nvec2.max = function(out, a, b) {\n    out[0] = Math.max(a[0], b[0]);\n    out[1] = Math.max(a[1], b[1]);\n    return out;\n};\n\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\nvec2.scale = function(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    return out;\n};\n\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\nvec2.scaleAndAdd = function(out, a, b, scale) {\n    out[0] = a[0] + (b[0] * scale);\n    out[1] = a[1] + (b[1] * scale);\n    return out;\n};\n\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} distance between a and b\n */\nvec2.distance = function(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1];\n    return Math.sqrt(x*x + y*y);\n};\n\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\nvec2.dist = vec2.distance;\n\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\nvec2.squaredDistance = function(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1];\n    return x*x + y*y;\n};\n\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\nvec2.sqrDist = vec2.squaredDistance;\n\n/**\n * Calculates the length of a vec2\n *\n * @param {vec2} a vector to calculate length of\n * @returns {Number} length of a\n */\nvec2.length = function (a) {\n    var x = a[0],\n        y = a[1];\n    return Math.sqrt(x*x + y*y);\n};\n\n/**\n * Alias for {@link vec2.length}\n * @function\n */\nvec2.len = vec2.length;\n\n/**\n * Calculates the squared length of a vec2\n *\n * @param {vec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nvec2.squaredLength = function (a) {\n    var x = a[0],\n        y = a[1];\n    return x*x + y*y;\n};\n\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\nvec2.sqrLen = vec2.squaredLength;\n\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to negate\n * @returns {vec2} out\n */\nvec2.negate = function(out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    return out;\n};\n\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to normalize\n * @returns {vec2} out\n */\nvec2.normalize = function(out, a) {\n    var x = a[0],\n        y = a[1];\n    var len = x*x + y*y;\n    if (len > 0) {\n        //TODO: evaluate use of glm_invsqrt here?\n        len = 1 / Math.sqrt(len);\n        out[0] = a[0] * len;\n        out[1] = a[1] * len;\n    }\n    return out;\n};\n\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} dot product of a and b\n */\nvec2.dot = function (a, b) {\n    return a[0] * b[0] + a[1] * b[1];\n};\n\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec3} out\n */\nvec2.cross = function(out, a, b) {\n    var z = a[0] * b[1] - a[1] * b[0];\n    out[0] = out[1] = 0;\n    out[2] = z;\n    return out;\n};\n\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec2} out\n */\nvec2.lerp = function (out, a, b, t) {\n    var ax = a[0],\n        ay = a[1];\n    out[0] = ax + t * (b[0] - ax);\n    out[1] = ay + t * (b[1] - ay);\n    return out;\n};\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\nvec2.random = function (out, scale) {\n    scale = scale || 1.0;\n    var r = GLMAT_RANDOM() * 2.0 * Math.PI;\n    out[0] = Math.cos(r) * scale;\n    out[1] = Math.sin(r) * scale;\n    return out;\n};\n\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2} m matrix to transform with\n * @returns {vec2} out\n */\nvec2.transformMat2 = function(out, a, m) {\n    var x = a[0],\n        y = a[1];\n    out[0] = m[0] * x + m[2] * y;\n    out[1] = m[1] * x + m[3] * y;\n    return out;\n};\n\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2d} m matrix to transform with\n * @returns {vec2} out\n */\nvec2.transformMat2d = function(out, a, m) {\n    var x = a[0],\n        y = a[1];\n    out[0] = m[0] * x + m[2] * y + m[4];\n    out[1] = m[1] * x + m[3] * y + m[5];\n    return out;\n};\n\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat3} m matrix to transform with\n * @returns {vec2} out\n */\nvec2.transformMat3 = function(out, a, m) {\n    var x = a[0],\n        y = a[1];\n    out[0] = m[0] * x + m[3] * y + m[6];\n    out[1] = m[1] * x + m[4] * y + m[7];\n    return out;\n};\n\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec2} out\n */\nvec2.transformMat4 = function(out, a, m) {\n    var x = a[0], \n        y = a[1];\n    out[0] = m[0] * x + m[4] * y + m[12];\n    out[1] = m[1] * x + m[5] * y + m[13];\n    return out;\n};\n\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\nvec2.forEach = (function() {\n    var vec = vec2.create();\n\n    return function(a, stride, offset, count, fn, arg) {\n        var i, l;\n        if(!stride) {\n            stride = 2;\n        }\n\n        if(!offset) {\n            offset = 0;\n        }\n        \n        if(count) {\n            l = Math.min((count * stride) + offset, a.length);\n        } else {\n            l = a.length;\n        }\n\n        for(i = offset; i < l; i += stride) {\n            vec[0] = a[i]; vec[1] = a[i+1];\n            fn(vec, vec, arg);\n            a[i] = vec[0]; a[i+1] = vec[1];\n        }\n        \n        return a;\n    };\n})();\n\n/**\n * Returns a string representation of a vector\n *\n * @param {vec2} vec vector to represent as a string\n * @returns {String} string representation of the vector\n */\nvec2.str = function (a) {\n    return 'vec2(' + a[0] + ', ' + a[1] + ')';\n};\n\nif(typeof(exports) !== 'undefined') {\n    exports.vec2 = vec2;\n}\n;\n/* Copyright (c) 2013, Brandon Jones, Colin MacKenzie IV. All rights reserved.\n\nRedistribution and use in source and binary forms, with or without modification,\nare permitted provided that the following conditions are met:\n\n  * Redistributions of source code must retain the above copyright notice, this\n    list of conditions and the following disclaimer.\n  * Redistributions in binary form must reproduce the above copyright notice,\n    this list of conditions and the following disclaimer in the documentation \n    and/or other materials provided with the distribution.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE \nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR\nANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\nANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. */\n\n/**\n * @class 3 Dimensional Vector\n * @name vec3\n */\n\nvar vec3 = {};\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\nvec3.create = function() {\n    var out = new GLMAT_ARRAY_TYPE(3);\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    return out;\n};\n\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {vec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\nvec3.clone = function(a) {\n    var out = new GLMAT_ARRAY_TYPE(3);\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    return out;\n};\n\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\nvec3.fromValues = function(x, y, z) {\n    var out = new GLMAT_ARRAY_TYPE(3);\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    return out;\n};\n\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the source vector\n * @returns {vec3} out\n */\nvec3.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    return out;\n};\n\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\nvec3.set = function(out, x, y, z) {\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    return out;\n};\n\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nvec3.add = function(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    out[2] = a[2] + b[2];\n    return out;\n};\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nvec3.subtract = function(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    out[2] = a[2] - b[2];\n    return out;\n};\n\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\nvec3.sub = vec3.subtract;\n\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nvec3.multiply = function(out, a, b) {\n    out[0] = a[0] * b[0];\n    out[1] = a[1] * b[1];\n    out[2] = a[2] * b[2];\n    return out;\n};\n\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\nvec3.mul = vec3.multiply;\n\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nvec3.divide = function(out, a, b) {\n    out[0] = a[0] / b[0];\n    out[1] = a[1] / b[1];\n    out[2] = a[2] / b[2];\n    return out;\n};\n\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\nvec3.div = vec3.divide;\n\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nvec3.min = function(out, a, b) {\n    out[0] = Math.min(a[0], b[0]);\n    out[1] = Math.min(a[1], b[1]);\n    out[2] = Math.min(a[2], b[2]);\n    return out;\n};\n\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nvec3.max = function(out, a, b) {\n    out[0] = Math.max(a[0], b[0]);\n    out[1] = Math.max(a[1], b[1]);\n    out[2] = Math.max(a[2], b[2]);\n    return out;\n};\n\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\nvec3.scale = function(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    out[2] = a[2] * b;\n    return out;\n};\n\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\nvec3.scaleAndAdd = function(out, a, b, scale) {\n    out[0] = a[0] + (b[0] * scale);\n    out[1] = a[1] + (b[1] * scale);\n    out[2] = a[2] + (b[2] * scale);\n    return out;\n};\n\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} distance between a and b\n */\nvec3.distance = function(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1],\n        z = b[2] - a[2];\n    return Math.sqrt(x*x + y*y + z*z);\n};\n\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\nvec3.dist = vec3.distance;\n\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\nvec3.squaredDistance = function(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1],\n        z = b[2] - a[2];\n    return x*x + y*y + z*z;\n};\n\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\nvec3.sqrDist = vec3.squaredDistance;\n\n/**\n * Calculates the length of a vec3\n *\n * @param {vec3} a vector to calculate length of\n * @returns {Number} length of a\n */\nvec3.length = function (a) {\n    var x = a[0],\n        y = a[1],\n        z = a[2];\n    return Math.sqrt(x*x + y*y + z*z);\n};\n\n/**\n * Alias for {@link vec3.length}\n * @function\n */\nvec3.len = vec3.length;\n\n/**\n * Calculates the squared length of a vec3\n *\n * @param {vec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nvec3.squaredLength = function (a) {\n    var x = a[0],\n        y = a[1],\n        z = a[2];\n    return x*x + y*y + z*z;\n};\n\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\nvec3.sqrLen = vec3.squaredLength;\n\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to negate\n * @returns {vec3} out\n */\nvec3.negate = function(out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    out[2] = -a[2];\n    return out;\n};\n\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to normalize\n * @returns {vec3} out\n */\nvec3.normalize = function(out, a) {\n    var x = a[0],\n        y = a[1],\n        z = a[2];\n    var len = x*x + y*y + z*z;\n    if (len > 0) {\n        //TODO: evaluate use of glm_invsqrt here?\n        len = 1 / Math.sqrt(len);\n        out[0] = a[0] * len;\n        out[1] = a[1] * len;\n        out[2] = a[2] * len;\n    }\n    return out;\n};\n\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} dot product of a and b\n */\nvec3.dot = function (a, b) {\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n};\n\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nvec3.cross = function(out, a, b) {\n    var ax = a[0], ay = a[1], az = a[2],\n        bx = b[0], by = b[1], bz = b[2];\n\n    out[0] = ay * bz - az * by;\n    out[1] = az * bx - ax * bz;\n    out[2] = ax * by - ay * bx;\n    return out;\n};\n\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec3} out\n */\nvec3.lerp = function (out, a, b, t) {\n    var ax = a[0],\n        ay = a[1],\n        az = a[2];\n    out[0] = ax + t * (b[0] - ax);\n    out[1] = ay + t * (b[1] - ay);\n    out[2] = az + t * (b[2] - az);\n    return out;\n};\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\nvec3.random = function (out, scale) {\n    scale = scale || 1.0;\n\n    var r = GLMAT_RANDOM() * 2.0 * Math.PI;\n    var z = (GLMAT_RANDOM() * 2.0) - 1.0;\n    var zScale = Math.sqrt(1.0-z*z) * scale;\n\n    out[0] = Math.cos(r) * zScale;\n    out[1] = Math.sin(r) * zScale;\n    out[2] = z * scale;\n    return out;\n};\n\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec3} out\n */\nvec3.transformMat4 = function(out, a, m) {\n    var x = a[0], y = a[1], z = a[2];\n    out[0] = m[0] * x + m[4] * y + m[8] * z + m[12];\n    out[1] = m[1] * x + m[5] * y + m[9] * z + m[13];\n    out[2] = m[2] * x + m[6] * y + m[10] * z + m[14];\n    return out;\n};\n\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat4} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\nvec3.transformMat3 = function(out, a, m) {\n    var x = a[0], y = a[1], z = a[2];\n    out[0] = x * m[0] + y * m[3] + z * m[6];\n    out[1] = x * m[1] + y * m[4] + z * m[7];\n    out[2] = x * m[2] + y * m[5] + z * m[8];\n    return out;\n};\n\n/**\n * Transforms the vec3 with a quat\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {quat} q quaternion to transform with\n * @returns {vec3} out\n */\nvec3.transformQuat = function(out, a, q) {\n    // benchmarks: http://jsperf.com/quaternion-transform-vec3-implementations\n\n    var x = a[0], y = a[1], z = a[2],\n        qx = q[0], qy = q[1], qz = q[2], qw = q[3],\n\n        // calculate quat * vec\n        ix = qw * x + qy * z - qz * y,\n        iy = qw * y + qz * x - qx * z,\n        iz = qw * z + qx * y - qy * x,\n        iw = -qx * x - qy * y - qz * z;\n\n    // calculate result * inverse quat\n    out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n    out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n    out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n    return out;\n};\n\n/*\n* Rotate a 3D vector around the x-axis\n* @param {vec3} out The receiving vec3\n* @param {vec3} a The vec3 point to rotate\n* @param {vec3} b The origin of the rotation\n* @param {Number} c The angle of rotation\n* @returns {vec3} out\n*/\nvec3.rotateX = function(out, a, b, c){\n   var p = [], r=[];\n\t  //Translate point to the origin\n\t  p[0] = a[0] - b[0];\n\t  p[1] = a[1] - b[1];\n  \tp[2] = a[2] - b[2];\n\n\t  //perform rotation\n\t  r[0] = p[0];\n\t  r[1] = p[1]*Math.cos(c) - p[2]*Math.sin(c);\n\t  r[2] = p[1]*Math.sin(c) + p[2]*Math.cos(c);\n\n\t  //translate to correct position\n\t  out[0] = r[0] + b[0];\n\t  out[1] = r[1] + b[1];\n\t  out[2] = r[2] + b[2];\n\n  \treturn out;\n};\n\n/*\n* Rotate a 3D vector around the y-axis\n* @param {vec3} out The receiving vec3\n* @param {vec3} a The vec3 point to rotate\n* @param {vec3} b The origin of the rotation\n* @param {Number} c The angle of rotation\n* @returns {vec3} out\n*/\nvec3.rotateY = function(out, a, b, c){\n  \tvar p = [], r=[];\n  \t//Translate point to the origin\n  \tp[0] = a[0] - b[0];\n  \tp[1] = a[1] - b[1];\n  \tp[2] = a[2] - b[2];\n  \n  \t//perform rotation\n  \tr[0] = p[2]*Math.sin(c) + p[0]*Math.cos(c);\n  \tr[1] = p[1];\n  \tr[2] = p[2]*Math.cos(c) - p[0]*Math.sin(c);\n  \n  \t//translate to correct position\n  \tout[0] = r[0] + b[0];\n  \tout[1] = r[1] + b[1];\n  \tout[2] = r[2] + b[2];\n  \n  \treturn out;\n};\n\n/*\n* Rotate a 3D vector around the z-axis\n* @param {vec3} out The receiving vec3\n* @param {vec3} a The vec3 point to rotate\n* @param {vec3} b The origin of the rotation\n* @param {Number} c The angle of rotation\n* @returns {vec3} out\n*/\nvec3.rotateZ = function(out, a, b, c){\n  \tvar p = [], r=[];\n  \t//Translate point to the origin\n  \tp[0] = a[0] - b[0];\n  \tp[1] = a[1] - b[1];\n  \tp[2] = a[2] - b[2];\n  \n  \t//perform rotation\n  \tr[0] = p[0]*Math.cos(c) - p[1]*Math.sin(c);\n  \tr[1] = p[0]*Math.sin(c) + p[1]*Math.cos(c);\n  \tr[2] = p[2];\n  \n  \t//translate to correct position\n  \tout[0] = r[0] + b[0];\n  \tout[1] = r[1] + b[1];\n  \tout[2] = r[2] + b[2];\n  \n  \treturn out;\n};\n\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\nvec3.forEach = (function() {\n    var vec = vec3.create();\n\n    return function(a, stride, offset, count, fn, arg) {\n        var i, l;\n        if(!stride) {\n            stride = 3;\n        }\n\n        if(!offset) {\n            offset = 0;\n        }\n        \n        if(count) {\n            l = Math.min((count * stride) + offset, a.length);\n        } else {\n            l = a.length;\n        }\n\n        for(i = offset; i < l; i += stride) {\n            vec[0] = a[i]; vec[1] = a[i+1]; vec[2] = a[i+2];\n            fn(vec, vec, arg);\n            a[i] = vec[0]; a[i+1] = vec[1]; a[i+2] = vec[2];\n        }\n        \n        return a;\n    };\n})();\n\n/**\n * Returns a string representation of a vector\n *\n * @param {vec3} vec vector to represent as a string\n * @returns {String} string representation of the vector\n */\nvec3.str = function (a) {\n    return 'vec3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ')';\n};\n\nif(typeof(exports) !== 'undefined') {\n    exports.vec3 = vec3;\n}\n;\n/* Copyright (c) 2013, Brandon Jones, Colin MacKenzie IV. All rights reserved.\n\nRedistribution and use in source and binary forms, with or without modification,\nare permitted provided that the following conditions are met:\n\n  * Redistributions of source code must retain the above copyright notice, this\n    list of conditions and the following disclaimer.\n  * Redistributions in binary form must reproduce the above copyright notice,\n    this list of conditions and the following disclaimer in the documentation \n    and/or other materials provided with the distribution.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE \nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR\nANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\nANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. */\n\n/**\n * @class 4 Dimensional Vector\n * @name vec4\n */\n\nvar vec4 = {};\n\n/**\n * Creates a new, empty vec4\n *\n * @returns {vec4} a new 4D vector\n */\nvec4.create = function() {\n    var out = new GLMAT_ARRAY_TYPE(4);\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    return out;\n};\n\n/**\n * Creates a new vec4 initialized with values from an existing vector\n *\n * @param {vec4} a vector to clone\n * @returns {vec4} a new 4D vector\n */\nvec4.clone = function(a) {\n    var out = new GLMAT_ARRAY_TYPE(4);\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    return out;\n};\n\n/**\n * Creates a new vec4 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} a new 4D vector\n */\nvec4.fromValues = function(x, y, z, w) {\n    var out = new GLMAT_ARRAY_TYPE(4);\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    out[3] = w;\n    return out;\n};\n\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the source vector\n * @returns {vec4} out\n */\nvec4.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    return out;\n};\n\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\nvec4.set = function(out, x, y, z, w) {\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    out[3] = w;\n    return out;\n};\n\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nvec4.add = function(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    out[2] = a[2] + b[2];\n    out[3] = a[3] + b[3];\n    return out;\n};\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nvec4.subtract = function(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    out[2] = a[2] - b[2];\n    out[3] = a[3] - b[3];\n    return out;\n};\n\n/**\n * Alias for {@link vec4.subtract}\n * @function\n */\nvec4.sub = vec4.subtract;\n\n/**\n * Multiplies two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nvec4.multiply = function(out, a, b) {\n    out[0] = a[0] * b[0];\n    out[1] = a[1] * b[1];\n    out[2] = a[2] * b[2];\n    out[3] = a[3] * b[3];\n    return out;\n};\n\n/**\n * Alias for {@link vec4.multiply}\n * @function\n */\nvec4.mul = vec4.multiply;\n\n/**\n * Divides two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nvec4.divide = function(out, a, b) {\n    out[0] = a[0] / b[0];\n    out[1] = a[1] / b[1];\n    out[2] = a[2] / b[2];\n    out[3] = a[3] / b[3];\n    return out;\n};\n\n/**\n * Alias for {@link vec4.divide}\n * @function\n */\nvec4.div = vec4.divide;\n\n/**\n * Returns the minimum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nvec4.min = function(out, a, b) {\n    out[0] = Math.min(a[0], b[0]);\n    out[1] = Math.min(a[1], b[1]);\n    out[2] = Math.min(a[2], b[2]);\n    out[3] = Math.min(a[3], b[3]);\n    return out;\n};\n\n/**\n * Returns the maximum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nvec4.max = function(out, a, b) {\n    out[0] = Math.max(a[0], b[0]);\n    out[1] = Math.max(a[1], b[1]);\n    out[2] = Math.max(a[2], b[2]);\n    out[3] = Math.max(a[3], b[3]);\n    return out;\n};\n\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\nvec4.scale = function(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    out[2] = a[2] * b;\n    out[3] = a[3] * b;\n    return out;\n};\n\n/**\n * Adds two vec4's after scaling the second operand by a scalar value\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec4} out\n */\nvec4.scaleAndAdd = function(out, a, b, scale) {\n    out[0] = a[0] + (b[0] * scale);\n    out[1] = a[1] + (b[1] * scale);\n    out[2] = a[2] + (b[2] * scale);\n    out[3] = a[3] + (b[3] * scale);\n    return out;\n};\n\n/**\n * Calculates the euclidian distance between two vec4's\n *\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {Number} distance between a and b\n */\nvec4.distance = function(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1],\n        z = b[2] - a[2],\n        w = b[3] - a[3];\n    return Math.sqrt(x*x + y*y + z*z + w*w);\n};\n\n/**\n * Alias for {@link vec4.distance}\n * @function\n */\nvec4.dist = vec4.distance;\n\n/**\n * Calculates the squared euclidian distance between two vec4's\n *\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {Number} squared distance between a and b\n */\nvec4.squaredDistance = function(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1],\n        z = b[2] - a[2],\n        w = b[3] - a[3];\n    return x*x + y*y + z*z + w*w;\n};\n\n/**\n * Alias for {@link vec4.squaredDistance}\n * @function\n */\nvec4.sqrDist = vec4.squaredDistance;\n\n/**\n * Calculates the length of a vec4\n *\n * @param {vec4} a vector to calculate length of\n * @returns {Number} length of a\n */\nvec4.length = function (a) {\n    var x = a[0],\n        y = a[1],\n        z = a[2],\n        w = a[3];\n    return Math.sqrt(x*x + y*y + z*z + w*w);\n};\n\n/**\n * Alias for {@link vec4.length}\n * @function\n */\nvec4.len = vec4.length;\n\n/**\n * Calculates the squared length of a vec4\n *\n * @param {vec4} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nvec4.squaredLength = function (a) {\n    var x = a[0],\n        y = a[1],\n        z = a[2],\n        w = a[3];\n    return x*x + y*y + z*z + w*w;\n};\n\n/**\n * Alias for {@link vec4.squaredLength}\n * @function\n */\nvec4.sqrLen = vec4.squaredLength;\n\n/**\n * Negates the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a vector to negate\n * @returns {vec4} out\n */\nvec4.negate = function(out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    out[2] = -a[2];\n    out[3] = -a[3];\n    return out;\n};\n\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a vector to normalize\n * @returns {vec4} out\n */\nvec4.normalize = function(out, a) {\n    var x = a[0],\n        y = a[1],\n        z = a[2],\n        w = a[3];\n    var len = x*x + y*y + z*z + w*w;\n    if (len > 0) {\n        len = 1 / Math.sqrt(len);\n        out[0] = a[0] * len;\n        out[1] = a[1] * len;\n        out[2] = a[2] * len;\n        out[3] = a[3] * len;\n    }\n    return out;\n};\n\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {Number} dot product of a and b\n */\nvec4.dot = function (a, b) {\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n};\n\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec4} out\n */\nvec4.lerp = function (out, a, b, t) {\n    var ax = a[0],\n        ay = a[1],\n        az = a[2],\n        aw = a[3];\n    out[0] = ax + t * (b[0] - ax);\n    out[1] = ay + t * (b[1] - ay);\n    out[2] = az + t * (b[2] - az);\n    out[3] = aw + t * (b[3] - aw);\n    return out;\n};\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec4} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec4} out\n */\nvec4.random = function (out, scale) {\n    scale = scale || 1.0;\n\n    //TODO: This is a pretty awful way of doing this. Find something better.\n    out[0] = GLMAT_RANDOM();\n    out[1] = GLMAT_RANDOM();\n    out[2] = GLMAT_RANDOM();\n    out[3] = GLMAT_RANDOM();\n    vec4.normalize(out, out);\n    vec4.scale(out, out, scale);\n    return out;\n};\n\n/**\n * Transforms the vec4 with a mat4.\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec4} out\n */\nvec4.transformMat4 = function(out, a, m) {\n    var x = a[0], y = a[1], z = a[2], w = a[3];\n    out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n    out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n    out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n    out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n    return out;\n};\n\n/**\n * Transforms the vec4 with a quat\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the vector to transform\n * @param {quat} q quaternion to transform with\n * @returns {vec4} out\n */\nvec4.transformQuat = function(out, a, q) {\n    var x = a[0], y = a[1], z = a[2],\n        qx = q[0], qy = q[1], qz = q[2], qw = q[3],\n\n        // calculate quat * vec\n        ix = qw * x + qy * z - qz * y,\n        iy = qw * y + qz * x - qx * z,\n        iz = qw * z + qx * y - qy * x,\n        iw = -qx * x - qy * y - qz * z;\n\n    // calculate result * inverse quat\n    out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n    out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n    out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n    return out;\n};\n\n/**\n * Perform some operation over an array of vec4s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\nvec4.forEach = (function() {\n    var vec = vec4.create();\n\n    return function(a, stride, offset, count, fn, arg) {\n        var i, l;\n        if(!stride) {\n            stride = 4;\n        }\n\n        if(!offset) {\n            offset = 0;\n        }\n        \n        if(count) {\n            l = Math.min((count * stride) + offset, a.length);\n        } else {\n            l = a.length;\n        }\n\n        for(i = offset; i < l; i += stride) {\n            vec[0] = a[i]; vec[1] = a[i+1]; vec[2] = a[i+2]; vec[3] = a[i+3];\n            fn(vec, vec, arg);\n            a[i] = vec[0]; a[i+1] = vec[1]; a[i+2] = vec[2]; a[i+3] = vec[3];\n        }\n        \n        return a;\n    };\n})();\n\n/**\n * Returns a string representation of a vector\n *\n * @param {vec4} vec vector to represent as a string\n * @returns {String} string representation of the vector\n */\nvec4.str = function (a) {\n    return 'vec4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n};\n\nif(typeof(exports) !== 'undefined') {\n    exports.vec4 = vec4;\n}\n;\n/* Copyright (c) 2013, Brandon Jones, Colin MacKenzie IV. All rights reserved.\n\nRedistribution and use in source and binary forms, with or without modification,\nare permitted provided that the following conditions are met:\n\n  * Redistributions of source code must retain the above copyright notice, this\n    list of conditions and the following disclaimer.\n  * Redistributions in binary form must reproduce the above copyright notice,\n    this list of conditions and the following disclaimer in the documentation \n    and/or other materials provided with the distribution.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE \nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR\nANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\nANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. */\n\n/**\n * @class 2x2 Matrix\n * @name mat2\n */\n\nvar mat2 = {};\n\n/**\n * Creates a new identity mat2\n *\n * @returns {mat2} a new 2x2 matrix\n */\nmat2.create = function() {\n    var out = new GLMAT_ARRAY_TYPE(4);\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    return out;\n};\n\n/**\n * Creates a new mat2 initialized with values from an existing matrix\n *\n * @param {mat2} a matrix to clone\n * @returns {mat2} a new 2x2 matrix\n */\nmat2.clone = function(a) {\n    var out = new GLMAT_ARRAY_TYPE(4);\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    return out;\n};\n\n/**\n * Copy the values from one mat2 to another\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the source matrix\n * @returns {mat2} out\n */\nmat2.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    return out;\n};\n\n/**\n * Set a mat2 to the identity matrix\n *\n * @param {mat2} out the receiving matrix\n * @returns {mat2} out\n */\nmat2.identity = function(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    return out;\n};\n\n/**\n * Transpose the values of a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the source matrix\n * @returns {mat2} out\n */\nmat2.transpose = function(out, a) {\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\n    if (out === a) {\n        var a1 = a[1];\n        out[1] = a[2];\n        out[2] = a1;\n    } else {\n        out[0] = a[0];\n        out[1] = a[2];\n        out[2] = a[1];\n        out[3] = a[3];\n    }\n    \n    return out;\n};\n\n/**\n * Inverts a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the source matrix\n * @returns {mat2} out\n */\nmat2.invert = function(out, a) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3],\n\n        // Calculate the determinant\n        det = a0 * a3 - a2 * a1;\n\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n    \n    out[0] =  a3 * det;\n    out[1] = -a1 * det;\n    out[2] = -a2 * det;\n    out[3] =  a0 * det;\n\n    return out;\n};\n\n/**\n * Calculates the adjugate of a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the source matrix\n * @returns {mat2} out\n */\nmat2.adjoint = function(out, a) {\n    // Caching this value is nessecary if out == a\n    var a0 = a[0];\n    out[0] =  a[3];\n    out[1] = -a[1];\n    out[2] = -a[2];\n    out[3] =  a0;\n\n    return out;\n};\n\n/**\n * Calculates the determinant of a mat2\n *\n * @param {mat2} a the source matrix\n * @returns {Number} determinant of a\n */\nmat2.determinant = function (a) {\n    return a[0] * a[3] - a[2] * a[1];\n};\n\n/**\n * Multiplies two mat2's\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the first operand\n * @param {mat2} b the second operand\n * @returns {mat2} out\n */\nmat2.multiply = function (out, a, b) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];\n    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];\n    out[0] = a0 * b0 + a2 * b1;\n    out[1] = a1 * b0 + a3 * b1;\n    out[2] = a0 * b2 + a2 * b3;\n    out[3] = a1 * b2 + a3 * b3;\n    return out;\n};\n\n/**\n * Alias for {@link mat2.multiply}\n * @function\n */\nmat2.mul = mat2.multiply;\n\n/**\n * Rotates a mat2 by the given angle\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2} out\n */\nmat2.rotate = function (out, a, rad) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3],\n        s = Math.sin(rad),\n        c = Math.cos(rad);\n    out[0] = a0 *  c + a2 * s;\n    out[1] = a1 *  c + a3 * s;\n    out[2] = a0 * -s + a2 * c;\n    out[3] = a1 * -s + a3 * c;\n    return out;\n};\n\n/**\n * Scales the mat2 by the dimensions in the given vec2\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the matrix to rotate\n * @param {vec2} v the vec2 to scale the matrix by\n * @returns {mat2} out\n **/\nmat2.scale = function(out, a, v) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3],\n        v0 = v[0], v1 = v[1];\n    out[0] = a0 * v0;\n    out[1] = a1 * v0;\n    out[2] = a2 * v1;\n    out[3] = a3 * v1;\n    return out;\n};\n\n/**\n * Returns a string representation of a mat2\n *\n * @param {mat2} mat matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\nmat2.str = function (a) {\n    return 'mat2(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n};\n\n/**\n * Returns Frobenius norm of a mat2\n *\n * @param {mat2} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\nmat2.frob = function (a) {\n    return(Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2)))\n};\n\n/**\n * Returns L, D and U matrices (Lower triangular, Diagonal and Upper triangular) by factorizing the input matrix\n * @param {mat2} L the lower triangular matrix \n * @param {mat2} D the diagonal matrix \n * @param {mat2} U the upper triangular matrix \n * @param {mat2} a the input matrix to factorize\n */\n\nmat2.LDU = function (L, D, U, a) { \n    L[2] = a[2]/a[0]; \n    U[0] = a[0]; \n    U[1] = a[1]; \n    U[3] = a[3] - L[2] * U[1]; \n    return [L, D, U];       \n}; \n\nif(typeof(exports) !== 'undefined') {\n    exports.mat2 = mat2;\n}\n;\n/* Copyright (c) 2013, Brandon Jones, Colin MacKenzie IV. All rights reserved.\n\nRedistribution and use in source and binary forms, with or without modification,\nare permitted provided that the following conditions are met:\n\n  * Redistributions of source code must retain the above copyright notice, this\n    list of conditions and the following disclaimer.\n  * Redistributions in binary form must reproduce the above copyright notice,\n    this list of conditions and the following disclaimer in the documentation \n    and/or other materials provided with the distribution.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE \nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR\nANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\nANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. */\n\n/**\n * @class 2x3 Matrix\n * @name mat2d\n * \n * @description \n * A mat2d contains six elements defined as:\n * <pre>\n * [a, c, tx,\n *  b, d, ty]\n * </pre>\n * This is a short form for the 3x3 matrix:\n * <pre>\n * [a, c, tx,\n *  b, d, ty,\n *  0, 0, 1]\n * </pre>\n * The last row is ignored so the array is shorter and operations are faster.\n */\n\nvar mat2d = {};\n\n/**\n * Creates a new identity mat2d\n *\n * @returns {mat2d} a new 2x3 matrix\n */\nmat2d.create = function() {\n    var out = new GLMAT_ARRAY_TYPE(6);\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    out[4] = 0;\n    out[5] = 0;\n    return out;\n};\n\n/**\n * Creates a new mat2d initialized with values from an existing matrix\n *\n * @param {mat2d} a matrix to clone\n * @returns {mat2d} a new 2x3 matrix\n */\nmat2d.clone = function(a) {\n    var out = new GLMAT_ARRAY_TYPE(6);\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    return out;\n};\n\n/**\n * Copy the values from one mat2d to another\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the source matrix\n * @returns {mat2d} out\n */\nmat2d.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    return out;\n};\n\n/**\n * Set a mat2d to the identity matrix\n *\n * @param {mat2d} out the receiving matrix\n * @returns {mat2d} out\n */\nmat2d.identity = function(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    out[4] = 0;\n    out[5] = 0;\n    return out;\n};\n\n/**\n * Inverts a mat2d\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the source matrix\n * @returns {mat2d} out\n */\nmat2d.invert = function(out, a) {\n    var aa = a[0], ab = a[1], ac = a[2], ad = a[3],\n        atx = a[4], aty = a[5];\n\n    var det = aa * ad - ab * ac;\n    if(!det){\n        return null;\n    }\n    det = 1.0 / det;\n\n    out[0] = ad * det;\n    out[1] = -ab * det;\n    out[2] = -ac * det;\n    out[3] = aa * det;\n    out[4] = (ac * aty - ad * atx) * det;\n    out[5] = (ab * atx - aa * aty) * det;\n    return out;\n};\n\n/**\n * Calculates the determinant of a mat2d\n *\n * @param {mat2d} a the source matrix\n * @returns {Number} determinant of a\n */\nmat2d.determinant = function (a) {\n    return a[0] * a[3] - a[1] * a[2];\n};\n\n/**\n * Multiplies two mat2d's\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the first operand\n * @param {mat2d} b the second operand\n * @returns {mat2d} out\n */\nmat2d.multiply = function (out, a, b) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3], a4 = a[4], a5 = a[5],\n        b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3], b4 = b[4], b5 = b[5];\n    out[0] = a0 * b0 + a2 * b1;\n    out[1] = a1 * b0 + a3 * b1;\n    out[2] = a0 * b2 + a2 * b3;\n    out[3] = a1 * b2 + a3 * b3;\n    out[4] = a0 * b4 + a2 * b5 + a4;\n    out[5] = a1 * b4 + a3 * b5 + a5;\n    return out;\n};\n\n/**\n * Alias for {@link mat2d.multiply}\n * @function\n */\nmat2d.mul = mat2d.multiply;\n\n\n/**\n * Rotates a mat2d by the given angle\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2d} out\n */\nmat2d.rotate = function (out, a, rad) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3], a4 = a[4], a5 = a[5],\n        s = Math.sin(rad),\n        c = Math.cos(rad);\n    out[0] = a0 *  c + a2 * s;\n    out[1] = a1 *  c + a3 * s;\n    out[2] = a0 * -s + a2 * c;\n    out[3] = a1 * -s + a3 * c;\n    out[4] = a4;\n    out[5] = a5;\n    return out;\n};\n\n/**\n * Scales the mat2d by the dimensions in the given vec2\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the matrix to translate\n * @param {vec2} v the vec2 to scale the matrix by\n * @returns {mat2d} out\n **/\nmat2d.scale = function(out, a, v) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3], a4 = a[4], a5 = a[5],\n        v0 = v[0], v1 = v[1];\n    out[0] = a0 * v0;\n    out[1] = a1 * v0;\n    out[2] = a2 * v1;\n    out[3] = a3 * v1;\n    out[4] = a4;\n    out[5] = a5;\n    return out;\n};\n\n/**\n * Translates the mat2d by the dimensions in the given vec2\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the matrix to translate\n * @param {vec2} v the vec2 to translate the matrix by\n * @returns {mat2d} out\n **/\nmat2d.translate = function(out, a, v) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3], a4 = a[4], a5 = a[5],\n        v0 = v[0], v1 = v[1];\n    out[0] = a0;\n    out[1] = a1;\n    out[2] = a2;\n    out[3] = a3;\n    out[4] = a0 * v0 + a2 * v1 + a4;\n    out[5] = a1 * v0 + a3 * v1 + a5;\n    return out;\n};\n\n/**\n * Returns a string representation of a mat2d\n *\n * @param {mat2d} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\nmat2d.str = function (a) {\n    return 'mat2d(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + \n                    a[3] + ', ' + a[4] + ', ' + a[5] + ')';\n};\n\n/**\n * Returns Frobenius norm of a mat2d\n *\n * @param {mat2d} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\nmat2d.frob = function (a) { \n    return(Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + 1))\n}; \n\nif(typeof(exports) !== 'undefined') {\n    exports.mat2d = mat2d;\n}\n;\n/* Copyright (c) 2013, Brandon Jones, Colin MacKenzie IV. All rights reserved.\n\nRedistribution and use in source and binary forms, with or without modification,\nare permitted provided that the following conditions are met:\n\n  * Redistributions of source code must retain the above copyright notice, this\n    list of conditions and the following disclaimer.\n  * Redistributions in binary form must reproduce the above copyright notice,\n    this list of conditions and the following disclaimer in the documentation \n    and/or other materials provided with the distribution.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE \nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR\nANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\nANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. */\n\n/**\n * @class 3x3 Matrix\n * @name mat3\n */\n\nvar mat3 = {};\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\nmat3.create = function() {\n    var out = new GLMAT_ARRAY_TYPE(9);\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 1;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 1;\n    return out;\n};\n\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {mat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\nmat3.fromMat4 = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[4];\n    out[4] = a[5];\n    out[5] = a[6];\n    out[6] = a[8];\n    out[7] = a[9];\n    out[8] = a[10];\n    return out;\n};\n\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {mat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\nmat3.clone = function(a) {\n    var out = new GLMAT_ARRAY_TYPE(9);\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    return out;\n};\n\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nmat3.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    return out;\n};\n\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\nmat3.identity = function(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 1;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 1;\n    return out;\n};\n\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nmat3.transpose = function(out, a) {\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\n    if (out === a) {\n        var a01 = a[1], a02 = a[2], a12 = a[5];\n        out[1] = a[3];\n        out[2] = a[6];\n        out[3] = a01;\n        out[5] = a[7];\n        out[6] = a02;\n        out[7] = a12;\n    } else {\n        out[0] = a[0];\n        out[1] = a[3];\n        out[2] = a[6];\n        out[3] = a[1];\n        out[4] = a[4];\n        out[5] = a[7];\n        out[6] = a[2];\n        out[7] = a[5];\n        out[8] = a[8];\n    }\n    \n    return out;\n};\n\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nmat3.invert = function(out, a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2],\n        a10 = a[3], a11 = a[4], a12 = a[5],\n        a20 = a[6], a21 = a[7], a22 = a[8],\n\n        b01 = a22 * a11 - a12 * a21,\n        b11 = -a22 * a10 + a12 * a20,\n        b21 = a21 * a10 - a11 * a20,\n\n        // Calculate the determinant\n        det = a00 * b01 + a01 * b11 + a02 * b21;\n\n    if (!det) { \n        return null; \n    }\n    det = 1.0 / det;\n\n    out[0] = b01 * det;\n    out[1] = (-a22 * a01 + a02 * a21) * det;\n    out[2] = (a12 * a01 - a02 * a11) * det;\n    out[3] = b11 * det;\n    out[4] = (a22 * a00 - a02 * a20) * det;\n    out[5] = (-a12 * a00 + a02 * a10) * det;\n    out[6] = b21 * det;\n    out[7] = (-a21 * a00 + a01 * a20) * det;\n    out[8] = (a11 * a00 - a01 * a10) * det;\n    return out;\n};\n\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nmat3.adjoint = function(out, a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2],\n        a10 = a[3], a11 = a[4], a12 = a[5],\n        a20 = a[6], a21 = a[7], a22 = a[8];\n\n    out[0] = (a11 * a22 - a12 * a21);\n    out[1] = (a02 * a21 - a01 * a22);\n    out[2] = (a01 * a12 - a02 * a11);\n    out[3] = (a12 * a20 - a10 * a22);\n    out[4] = (a00 * a22 - a02 * a20);\n    out[5] = (a02 * a10 - a00 * a12);\n    out[6] = (a10 * a21 - a11 * a20);\n    out[7] = (a01 * a20 - a00 * a21);\n    out[8] = (a00 * a11 - a01 * a10);\n    return out;\n};\n\n/**\n * Calculates the determinant of a mat3\n *\n * @param {mat3} a the source matrix\n * @returns {Number} determinant of a\n */\nmat3.determinant = function (a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2],\n        a10 = a[3], a11 = a[4], a12 = a[5],\n        a20 = a[6], a21 = a[7], a22 = a[8];\n\n    return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n};\n\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nmat3.multiply = function (out, a, b) {\n    var a00 = a[0], a01 = a[1], a02 = a[2],\n        a10 = a[3], a11 = a[4], a12 = a[5],\n        a20 = a[6], a21 = a[7], a22 = a[8],\n\n        b00 = b[0], b01 = b[1], b02 = b[2],\n        b10 = b[3], b11 = b[4], b12 = b[5],\n        b20 = b[6], b21 = b[7], b22 = b[8];\n\n    out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n    out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n    out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n\n    out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n    out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n    out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n\n    out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n    out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n    out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n    return out;\n};\n\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\nmat3.mul = mat3.multiply;\n\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to translate\n * @param {vec2} v vector to translate by\n * @returns {mat3} out\n */\nmat3.translate = function(out, a, v) {\n    var a00 = a[0], a01 = a[1], a02 = a[2],\n        a10 = a[3], a11 = a[4], a12 = a[5],\n        a20 = a[6], a21 = a[7], a22 = a[8],\n        x = v[0], y = v[1];\n\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n\n    out[3] = a10;\n    out[4] = a11;\n    out[5] = a12;\n\n    out[6] = x * a00 + y * a10 + a20;\n    out[7] = x * a01 + y * a11 + a21;\n    out[8] = x * a02 + y * a12 + a22;\n    return out;\n};\n\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\nmat3.rotate = function (out, a, rad) {\n    var a00 = a[0], a01 = a[1], a02 = a[2],\n        a10 = a[3], a11 = a[4], a12 = a[5],\n        a20 = a[6], a21 = a[7], a22 = a[8],\n\n        s = Math.sin(rad),\n        c = Math.cos(rad);\n\n    out[0] = c * a00 + s * a10;\n    out[1] = c * a01 + s * a11;\n    out[2] = c * a02 + s * a12;\n\n    out[3] = c * a10 - s * a00;\n    out[4] = c * a11 - s * a01;\n    out[5] = c * a12 - s * a02;\n\n    out[6] = a20;\n    out[7] = a21;\n    out[8] = a22;\n    return out;\n};\n\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {vec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\nmat3.scale = function(out, a, v) {\n    var x = v[0], y = v[1];\n\n    out[0] = x * a[0];\n    out[1] = x * a[1];\n    out[2] = x * a[2];\n\n    out[3] = y * a[3];\n    out[4] = y * a[4];\n    out[5] = y * a[5];\n\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    return out;\n};\n\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat2d} a the matrix to copy\n * @returns {mat3} out\n **/\nmat3.fromMat2d = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = 0;\n\n    out[3] = a[2];\n    out[4] = a[3];\n    out[5] = 0;\n\n    out[6] = a[4];\n    out[7] = a[5];\n    out[8] = 1;\n    return out;\n};\n\n/**\n* Calculates a 3x3 matrix from the given quaternion\n*\n* @param {mat3} out mat3 receiving operation result\n* @param {quat} q Quaternion to create matrix from\n*\n* @returns {mat3} out\n*/\nmat3.fromQuat = function (out, q) {\n    var x = q[0], y = q[1], z = q[2], w = q[3],\n        x2 = x + x,\n        y2 = y + y,\n        z2 = z + z,\n\n        xx = x * x2,\n        yx = y * x2,\n        yy = y * y2,\n        zx = z * x2,\n        zy = z * y2,\n        zz = z * z2,\n        wx = w * x2,\n        wy = w * y2,\n        wz = w * z2;\n\n    out[0] = 1 - yy - zz;\n    out[3] = yx - wz;\n    out[6] = zx + wy;\n\n    out[1] = yx + wz;\n    out[4] = 1 - xx - zz;\n    out[7] = zy - wx;\n\n    out[2] = zx - wy;\n    out[5] = zy + wx;\n    out[8] = 1 - xx - yy;\n\n    return out;\n};\n\n/**\n* Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n*\n* @param {mat3} out mat3 receiving operation result\n* @param {mat4} a Mat4 to derive the normal matrix from\n*\n* @returns {mat3} out\n*/\nmat3.normalFromMat4 = function (out, a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\n        a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\n        a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\n        a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15],\n\n        b00 = a00 * a11 - a01 * a10,\n        b01 = a00 * a12 - a02 * a10,\n        b02 = a00 * a13 - a03 * a10,\n        b03 = a01 * a12 - a02 * a11,\n        b04 = a01 * a13 - a03 * a11,\n        b05 = a02 * a13 - a03 * a12,\n        b06 = a20 * a31 - a21 * a30,\n        b07 = a20 * a32 - a22 * a30,\n        b08 = a20 * a33 - a23 * a30,\n        b09 = a21 * a32 - a22 * a31,\n        b10 = a21 * a33 - a23 * a31,\n        b11 = a22 * a33 - a23 * a32,\n\n        // Calculate the determinant\n        det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n    if (!det) { \n        return null; \n    }\n    det = 1.0 / det;\n\n    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n    out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n    out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n\n    out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n    out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n    out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n\n    out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n    out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n    out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n\n    return out;\n};\n\n/**\n * Returns a string representation of a mat3\n *\n * @param {mat3} mat matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\nmat3.str = function (a) {\n    return 'mat3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + \n                    a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + \n                    a[6] + ', ' + a[7] + ', ' + a[8] + ')';\n};\n\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {mat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\nmat3.frob = function (a) {\n    return(Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + Math.pow(a[6], 2) + Math.pow(a[7], 2) + Math.pow(a[8], 2)))\n};\n\n\nif(typeof(exports) !== 'undefined') {\n    exports.mat3 = mat3;\n}\n;\n/* Copyright (c) 2013, Brandon Jones, Colin MacKenzie IV. All rights reserved.\n\nRedistribution and use in source and binary forms, with or without modification,\nare permitted provided that the following conditions are met:\n\n  * Redistributions of source code must retain the above copyright notice, this\n    list of conditions and the following disclaimer.\n  * Redistributions in binary form must reproduce the above copyright notice,\n    this list of conditions and the following disclaimer in the documentation \n    and/or other materials provided with the distribution.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE \nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR\nANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\nANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. */\n\n/**\n * @class 4x4 Matrix\n * @name mat4\n */\n\nvar mat4 = {};\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\nmat4.create = function() {\n    var out = new GLMAT_ARRAY_TYPE(16);\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = 1;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 1;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n    return out;\n};\n\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {mat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\nmat4.clone = function(a) {\n    var out = new GLMAT_ARRAY_TYPE(16);\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n    return out;\n};\n\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nmat4.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n    return out;\n};\n\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\nmat4.identity = function(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = 1;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 1;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n    return out;\n};\n\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nmat4.transpose = function(out, a) {\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\n    if (out === a) {\n        var a01 = a[1], a02 = a[2], a03 = a[3],\n            a12 = a[6], a13 = a[7],\n            a23 = a[11];\n\n        out[1] = a[4];\n        out[2] = a[8];\n        out[3] = a[12];\n        out[4] = a01;\n        out[6] = a[9];\n        out[7] = a[13];\n        out[8] = a02;\n        out[9] = a12;\n        out[11] = a[14];\n        out[12] = a03;\n        out[13] = a13;\n        out[14] = a23;\n    } else {\n        out[0] = a[0];\n        out[1] = a[4];\n        out[2] = a[8];\n        out[3] = a[12];\n        out[4] = a[1];\n        out[5] = a[5];\n        out[6] = a[9];\n        out[7] = a[13];\n        out[8] = a[2];\n        out[9] = a[6];\n        out[10] = a[10];\n        out[11] = a[14];\n        out[12] = a[3];\n        out[13] = a[7];\n        out[14] = a[11];\n        out[15] = a[15];\n    }\n    \n    return out;\n};\n\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nmat4.invert = function(out, a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\n        a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\n        a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\n        a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15],\n\n        b00 = a00 * a11 - a01 * a10,\n        b01 = a00 * a12 - a02 * a10,\n        b02 = a00 * a13 - a03 * a10,\n        b03 = a01 * a12 - a02 * a11,\n        b04 = a01 * a13 - a03 * a11,\n        b05 = a02 * a13 - a03 * a12,\n        b06 = a20 * a31 - a21 * a30,\n        b07 = a20 * a32 - a22 * a30,\n        b08 = a20 * a33 - a23 * a30,\n        b09 = a21 * a32 - a22 * a31,\n        b10 = a21 * a33 - a23 * a31,\n        b11 = a22 * a33 - a23 * a32,\n\n        // Calculate the determinant\n        det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n    if (!det) { \n        return null; \n    }\n    det = 1.0 / det;\n\n    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n    out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n    out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n    out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n    out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n    out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n    out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n    out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n    out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n    out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n    out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n    out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n    out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n    out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n    out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n    out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n\n    return out;\n};\n\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nmat4.adjoint = function(out, a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\n        a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\n        a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\n        a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n\n    out[0]  =  (a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22));\n    out[1]  = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n    out[2]  =  (a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12));\n    out[3]  = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n    out[4]  = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n    out[5]  =  (a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22));\n    out[6]  = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n    out[7]  =  (a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12));\n    out[8]  =  (a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21));\n    out[9]  = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n    out[10] =  (a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11));\n    out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n    out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n    out[13] =  (a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21));\n    out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n    out[15] =  (a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11));\n    return out;\n};\n\n/**\n * Calculates the determinant of a mat4\n *\n * @param {mat4} a the source matrix\n * @returns {Number} determinant of a\n */\nmat4.determinant = function (a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\n        a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\n        a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\n        a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15],\n\n        b00 = a00 * a11 - a01 * a10,\n        b01 = a00 * a12 - a02 * a10,\n        b02 = a00 * a13 - a03 * a10,\n        b03 = a01 * a12 - a02 * a11,\n        b04 = a01 * a13 - a03 * a11,\n        b05 = a02 * a13 - a03 * a12,\n        b06 = a20 * a31 - a21 * a30,\n        b07 = a20 * a32 - a22 * a30,\n        b08 = a20 * a33 - a23 * a30,\n        b09 = a21 * a32 - a22 * a31,\n        b10 = a21 * a33 - a23 * a31,\n        b11 = a22 * a33 - a23 * a32;\n\n    // Calculate the determinant\n    return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n};\n\n/**\n * Multiplies two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @returns {mat4} out\n */\nmat4.multiply = function (out, a, b) {\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\n        a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\n        a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\n        a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n\n    // Cache only the current line of the second matrix\n    var b0  = b[0], b1 = b[1], b2 = b[2], b3 = b[3];  \n    out[0] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n    out[1] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n    out[2] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n    out[3] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n\n    b0 = b[4]; b1 = b[5]; b2 = b[6]; b3 = b[7];\n    out[4] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n    out[5] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n    out[6] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n    out[7] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n\n    b0 = b[8]; b1 = b[9]; b2 = b[10]; b3 = b[11];\n    out[8] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n    out[9] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n    out[10] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n    out[11] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n\n    b0 = b[12]; b1 = b[13]; b2 = b[14]; b3 = b[15];\n    out[12] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n    out[13] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n    out[14] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n    out[15] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n    return out;\n};\n\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\nmat4.mul = mat4.multiply;\n\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to translate\n * @param {vec3} v vector to translate by\n * @returns {mat4} out\n */\nmat4.translate = function (out, a, v) {\n    var x = v[0], y = v[1], z = v[2],\n        a00, a01, a02, a03,\n        a10, a11, a12, a13,\n        a20, a21, a22, a23;\n\n    if (a === out) {\n        out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n        out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n        out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n        out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n    } else {\n        a00 = a[0]; a01 = a[1]; a02 = a[2]; a03 = a[3];\n        a10 = a[4]; a11 = a[5]; a12 = a[6]; a13 = a[7];\n        a20 = a[8]; a21 = a[9]; a22 = a[10]; a23 = a[11];\n\n        out[0] = a00; out[1] = a01; out[2] = a02; out[3] = a03;\n        out[4] = a10; out[5] = a11; out[6] = a12; out[7] = a13;\n        out[8] = a20; out[9] = a21; out[10] = a22; out[11] = a23;\n\n        out[12] = a00 * x + a10 * y + a20 * z + a[12];\n        out[13] = a01 * x + a11 * y + a21 * z + a[13];\n        out[14] = a02 * x + a12 * y + a22 * z + a[14];\n        out[15] = a03 * x + a13 * y + a23 * z + a[15];\n    }\n\n    return out;\n};\n\n/**\n * Scales the mat4 by the dimensions in the given vec3\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to scale\n * @param {vec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\nmat4.scale = function(out, a, v) {\n    var x = v[0], y = v[1], z = v[2];\n\n    out[0] = a[0] * x;\n    out[1] = a[1] * x;\n    out[2] = a[2] * x;\n    out[3] = a[3] * x;\n    out[4] = a[4] * y;\n    out[5] = a[5] * y;\n    out[6] = a[6] * y;\n    out[7] = a[7] * y;\n    out[8] = a[8] * z;\n    out[9] = a[9] * z;\n    out[10] = a[10] * z;\n    out[11] = a[11] * z;\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n    return out;\n};\n\n/**\n * Rotates a mat4 by the given angle\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {vec3} axis the axis to rotate around\n * @returns {mat4} out\n */\nmat4.rotate = function (out, a, rad, axis) {\n    var x = axis[0], y = axis[1], z = axis[2],\n        len = Math.sqrt(x * x + y * y + z * z),\n        s, c, t,\n        a00, a01, a02, a03,\n        a10, a11, a12, a13,\n        a20, a21, a22, a23,\n        b00, b01, b02,\n        b10, b11, b12,\n        b20, b21, b22;\n\n    if (Math.abs(len) < GLMAT_EPSILON) { return null; }\n    \n    len = 1 / len;\n    x *= len;\n    y *= len;\n    z *= len;\n\n    s = Math.sin(rad);\n    c = Math.cos(rad);\n    t = 1 - c;\n\n    a00 = a[0]; a01 = a[1]; a02 = a[2]; a03 = a[3];\n    a10 = a[4]; a11 = a[5]; a12 = a[6]; a13 = a[7];\n    a20 = a[8]; a21 = a[9]; a22 = a[10]; a23 = a[11];\n\n    // Construct the elements of the rotation matrix\n    b00 = x * x * t + c; b01 = y * x * t + z * s; b02 = z * x * t - y * s;\n    b10 = x * y * t - z * s; b11 = y * y * t + c; b12 = z * y * t + x * s;\n    b20 = x * z * t + y * s; b21 = y * z * t - x * s; b22 = z * z * t + c;\n\n    // Perform rotation-specific matrix multiplication\n    out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n    out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n    out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n    out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n    out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n    out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n    out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n    out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n    out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n    out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n    out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n    out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n    if (a !== out) { // If the source and destination differ, copy the unchanged last row\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n    }\n    return out;\n};\n\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nmat4.rotateX = function (out, a, rad) {\n    var s = Math.sin(rad),\n        c = Math.cos(rad),\n        a10 = a[4],\n        a11 = a[5],\n        a12 = a[6],\n        a13 = a[7],\n        a20 = a[8],\n        a21 = a[9],\n        a22 = a[10],\n        a23 = a[11];\n\n    if (a !== out) { // If the source and destination differ, copy the unchanged rows\n        out[0]  = a[0];\n        out[1]  = a[1];\n        out[2]  = a[2];\n        out[3]  = a[3];\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n    }\n\n    // Perform axis-specific matrix multiplication\n    out[4] = a10 * c + a20 * s;\n    out[5] = a11 * c + a21 * s;\n    out[6] = a12 * c + a22 * s;\n    out[7] = a13 * c + a23 * s;\n    out[8] = a20 * c - a10 * s;\n    out[9] = a21 * c - a11 * s;\n    out[10] = a22 * c - a12 * s;\n    out[11] = a23 * c - a13 * s;\n    return out;\n};\n\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nmat4.rotateY = function (out, a, rad) {\n    var s = Math.sin(rad),\n        c = Math.cos(rad),\n        a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a03 = a[3],\n        a20 = a[8],\n        a21 = a[9],\n        a22 = a[10],\n        a23 = a[11];\n\n    if (a !== out) { // If the source and destination differ, copy the unchanged rows\n        out[4]  = a[4];\n        out[5]  = a[5];\n        out[6]  = a[6];\n        out[7]  = a[7];\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n    }\n\n    // Perform axis-specific matrix multiplication\n    out[0] = a00 * c - a20 * s;\n    out[1] = a01 * c - a21 * s;\n    out[2] = a02 * c - a22 * s;\n    out[3] = a03 * c - a23 * s;\n    out[8] = a00 * s + a20 * c;\n    out[9] = a01 * s + a21 * c;\n    out[10] = a02 * s + a22 * c;\n    out[11] = a03 * s + a23 * c;\n    return out;\n};\n\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nmat4.rotateZ = function (out, a, rad) {\n    var s = Math.sin(rad),\n        c = Math.cos(rad),\n        a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a03 = a[3],\n        a10 = a[4],\n        a11 = a[5],\n        a12 = a[6],\n        a13 = a[7];\n\n    if (a !== out) { // If the source and destination differ, copy the unchanged last row\n        out[8]  = a[8];\n        out[9]  = a[9];\n        out[10] = a[10];\n        out[11] = a[11];\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n    }\n\n    // Perform axis-specific matrix multiplication\n    out[0] = a00 * c + a10 * s;\n    out[1] = a01 * c + a11 * s;\n    out[2] = a02 * c + a12 * s;\n    out[3] = a03 * c + a13 * s;\n    out[4] = a10 * c - a00 * s;\n    out[5] = a11 * c - a01 * s;\n    out[6] = a12 * c - a02 * s;\n    out[7] = a13 * c - a03 * s;\n    return out;\n};\n\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     var quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {vec3} v Translation vector\n * @returns {mat4} out\n */\nmat4.fromRotationTranslation = function (out, q, v) {\n    // Quaternion math\n    var x = q[0], y = q[1], z = q[2], w = q[3],\n        x2 = x + x,\n        y2 = y + y,\n        z2 = z + z,\n\n        xx = x * x2,\n        xy = x * y2,\n        xz = x * z2,\n        yy = y * y2,\n        yz = y * z2,\n        zz = z * z2,\n        wx = w * x2,\n        wy = w * y2,\n        wz = w * z2;\n\n    out[0] = 1 - (yy + zz);\n    out[1] = xy + wz;\n    out[2] = xz - wy;\n    out[3] = 0;\n    out[4] = xy - wz;\n    out[5] = 1 - (xx + zz);\n    out[6] = yz + wx;\n    out[7] = 0;\n    out[8] = xz + wy;\n    out[9] = yz - wx;\n    out[10] = 1 - (xx + yy);\n    out[11] = 0;\n    out[12] = v[0];\n    out[13] = v[1];\n    out[14] = v[2];\n    out[15] = 1;\n    \n    return out;\n};\n\nmat4.fromQuat = function (out, q) {\n    var x = q[0], y = q[1], z = q[2], w = q[3],\n        x2 = x + x,\n        y2 = y + y,\n        z2 = z + z,\n\n        xx = x * x2,\n        yx = y * x2,\n        yy = y * y2,\n        zx = z * x2,\n        zy = z * y2,\n        zz = z * z2,\n        wx = w * x2,\n        wy = w * y2,\n        wz = w * z2;\n\n    out[0] = 1 - yy - zz;\n    out[1] = yx + wz;\n    out[2] = zx - wy;\n    out[3] = 0;\n\n    out[4] = yx - wz;\n    out[5] = 1 - xx - zz;\n    out[6] = zy + wx;\n    out[7] = 0;\n\n    out[8] = zx + wy;\n    out[9] = zy - wx;\n    out[10] = 1 - xx - yy;\n    out[11] = 0;\n\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n\n    return out;\n};\n\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\nmat4.frustum = function (out, left, right, bottom, top, near, far) {\n    var rl = 1 / (right - left),\n        tb = 1 / (top - bottom),\n        nf = 1 / (near - far);\n    out[0] = (near * 2) * rl;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = (near * 2) * tb;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = (right + left) * rl;\n    out[9] = (top + bottom) * tb;\n    out[10] = (far + near) * nf;\n    out[11] = -1;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = (far * near * 2) * nf;\n    out[15] = 0;\n    return out;\n};\n\n/**\n * Generates a perspective projection matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\nmat4.perspective = function (out, fovy, aspect, near, far) {\n    var f = 1.0 / Math.tan(fovy / 2),\n        nf = 1 / (near - far);\n    out[0] = f / aspect;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = f;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = (far + near) * nf;\n    out[11] = -1;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = (2 * far * near) * nf;\n    out[15] = 0;\n    return out;\n};\n\n/**\n * Generates a orthogonal projection matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\nmat4.ortho = function (out, left, right, bottom, top, near, far) {\n    var lr = 1 / (left - right),\n        bt = 1 / (bottom - top),\n        nf = 1 / (near - far);\n    out[0] = -2 * lr;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = -2 * bt;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 2 * nf;\n    out[11] = 0;\n    out[12] = (left + right) * lr;\n    out[13] = (top + bottom) * bt;\n    out[14] = (far + near) * nf;\n    out[15] = 1;\n    return out;\n};\n\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {vec3} eye Position of the viewer\n * @param {vec3} center Point the viewer is looking at\n * @param {vec3} up vec3 pointing up\n * @returns {mat4} out\n */\nmat4.lookAt = function (out, eye, center, up) {\n    var x0, x1, x2, y0, y1, y2, z0, z1, z2, len,\n        eyex = eye[0],\n        eyey = eye[1],\n        eyez = eye[2],\n        upx = up[0],\n        upy = up[1],\n        upz = up[2],\n        centerx = center[0],\n        centery = center[1],\n        centerz = center[2];\n\n    if (Math.abs(eyex - centerx) < GLMAT_EPSILON &&\n        Math.abs(eyey - centery) < GLMAT_EPSILON &&\n        Math.abs(eyez - centerz) < GLMAT_EPSILON) {\n        return mat4.identity(out);\n    }\n\n    z0 = eyex - centerx;\n    z1 = eyey - centery;\n    z2 = eyez - centerz;\n\n    len = 1 / Math.sqrt(z0 * z0 + z1 * z1 + z2 * z2);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n\n    x0 = upy * z2 - upz * z1;\n    x1 = upz * z0 - upx * z2;\n    x2 = upx * z1 - upy * z0;\n    len = Math.sqrt(x0 * x0 + x1 * x1 + x2 * x2);\n    if (!len) {\n        x0 = 0;\n        x1 = 0;\n        x2 = 0;\n    } else {\n        len = 1 / len;\n        x0 *= len;\n        x1 *= len;\n        x2 *= len;\n    }\n\n    y0 = z1 * x2 - z2 * x1;\n    y1 = z2 * x0 - z0 * x2;\n    y2 = z0 * x1 - z1 * x0;\n\n    len = Math.sqrt(y0 * y0 + y1 * y1 + y2 * y2);\n    if (!len) {\n        y0 = 0;\n        y1 = 0;\n        y2 = 0;\n    } else {\n        len = 1 / len;\n        y0 *= len;\n        y1 *= len;\n        y2 *= len;\n    }\n\n    out[0] = x0;\n    out[1] = y0;\n    out[2] = z0;\n    out[3] = 0;\n    out[4] = x1;\n    out[5] = y1;\n    out[6] = z1;\n    out[7] = 0;\n    out[8] = x2;\n    out[9] = y2;\n    out[10] = z2;\n    out[11] = 0;\n    out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n    out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n    out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n    out[15] = 1;\n\n    return out;\n};\n\n/**\n * Returns a string representation of a mat4\n *\n * @param {mat4} mat matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\nmat4.str = function (a) {\n    return 'mat4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' +\n                    a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' +\n                    a[8] + ', ' + a[9] + ', ' + a[10] + ', ' + a[11] + ', ' + \n                    a[12] + ', ' + a[13] + ', ' + a[14] + ', ' + a[15] + ')';\n};\n\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {mat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\nmat4.frob = function (a) {\n    return(Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + Math.pow(a[6], 2) + Math.pow(a[6], 2) + Math.pow(a[7], 2) + Math.pow(a[8], 2) + Math.pow(a[9], 2) + Math.pow(a[10], 2) + Math.pow(a[11], 2) + Math.pow(a[12], 2) + Math.pow(a[13], 2) + Math.pow(a[14], 2) + Math.pow(a[15], 2) ))\n};\n\n\nif(typeof(exports) !== 'undefined') {\n    exports.mat4 = mat4;\n}\n;\n/* Copyright (c) 2013, Brandon Jones, Colin MacKenzie IV. All rights reserved.\n\nRedistribution and use in source and binary forms, with or without modification,\nare permitted provided that the following conditions are met:\n\n  * Redistributions of source code must retain the above copyright notice, this\n    list of conditions and the following disclaimer.\n  * Redistributions in binary form must reproduce the above copyright notice,\n    this list of conditions and the following disclaimer in the documentation \n    and/or other materials provided with the distribution.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE \nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR\nANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\nANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. */\n\n/**\n * @class Quaternion\n * @name quat\n */\n\nvar quat = {};\n\n/**\n * Creates a new identity quat\n *\n * @returns {quat} a new quaternion\n */\nquat.create = function() {\n    var out = new GLMAT_ARRAY_TYPE(4);\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    return out;\n};\n\n/**\n * Sets a quaternion to represent the shortest rotation from one\n * vector to another.\n *\n * Both vectors are assumed to be unit length.\n *\n * @param {quat} out the receiving quaternion.\n * @param {vec3} a the initial vector\n * @param {vec3} b the destination vector\n * @returns {quat} out\n */\nquat.rotationTo = (function() {\n    var tmpvec3 = vec3.create();\n    var xUnitVec3 = vec3.fromValues(1,0,0);\n    var yUnitVec3 = vec3.fromValues(0,1,0);\n\n    return function(out, a, b) {\n        var dot = vec3.dot(a, b);\n        if (dot < -0.999999) {\n            vec3.cross(tmpvec3, xUnitVec3, a);\n            if (vec3.length(tmpvec3) < 0.000001)\n                vec3.cross(tmpvec3, yUnitVec3, a);\n            vec3.normalize(tmpvec3, tmpvec3);\n            quat.setAxisAngle(out, tmpvec3, Math.PI);\n            return out;\n        } else if (dot > 0.999999) {\n            out[0] = 0;\n            out[1] = 0;\n            out[2] = 0;\n            out[3] = 1;\n            return out;\n        } else {\n            vec3.cross(tmpvec3, a, b);\n            out[0] = tmpvec3[0];\n            out[1] = tmpvec3[1];\n            out[2] = tmpvec3[2];\n            out[3] = 1 + dot;\n            return quat.normalize(out, out);\n        }\n    };\n})();\n\n/**\n * Sets the specified quaternion with values corresponding to the given\n * axes. Each axis is a vec3 and is expected to be unit length and\n * perpendicular to all other specified axes.\n *\n * @param {vec3} view  the vector representing the viewing direction\n * @param {vec3} right the vector representing the local \"right\" direction\n * @param {vec3} up    the vector representing the local \"up\" direction\n * @returns {quat} out\n */\nquat.setAxes = (function() {\n    var matr = mat3.create();\n\n    return function(out, view, right, up) {\n        matr[0] = right[0];\n        matr[3] = right[1];\n        matr[6] = right[2];\n\n        matr[1] = up[0];\n        matr[4] = up[1];\n        matr[7] = up[2];\n\n        matr[2] = -view[0];\n        matr[5] = -view[1];\n        matr[8] = -view[2];\n\n        return quat.normalize(out, quat.fromMat3(out, matr));\n    };\n})();\n\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {quat} a quaternion to clone\n * @returns {quat} a new quaternion\n * @function\n */\nquat.clone = vec4.clone;\n\n/**\n * Creates a new quat initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} a new quaternion\n * @function\n */\nquat.fromValues = vec4.fromValues;\n\n/**\n * Copy the values from one quat to another\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the source quaternion\n * @returns {quat} out\n * @function\n */\nquat.copy = vec4.copy;\n\n/**\n * Set the components of a quat to the given values\n *\n * @param {quat} out the receiving quaternion\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} out\n * @function\n */\nquat.set = vec4.set;\n\n/**\n * Set a quat to the identity quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\nquat.identity = function(out) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    return out;\n};\n\n/**\n * Sets a quat from the given angle and rotation axis,\n * then returns it.\n *\n * @param {quat} out the receiving quaternion\n * @param {vec3} axis the axis around which to rotate\n * @param {Number} rad the angle in radians\n * @returns {quat} out\n **/\nquat.setAxisAngle = function(out, axis, rad) {\n    rad = rad * 0.5;\n    var s = Math.sin(rad);\n    out[0] = s * axis[0];\n    out[1] = s * axis[1];\n    out[2] = s * axis[2];\n    out[3] = Math.cos(rad);\n    return out;\n};\n\n/**\n * Adds two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {quat} out\n * @function\n */\nquat.add = vec4.add;\n\n/**\n * Multiplies two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {quat} out\n */\nquat.multiply = function(out, a, b) {\n    var ax = a[0], ay = a[1], az = a[2], aw = a[3],\n        bx = b[0], by = b[1], bz = b[2], bw = b[3];\n\n    out[0] = ax * bw + aw * bx + ay * bz - az * by;\n    out[1] = ay * bw + aw * by + az * bx - ax * bz;\n    out[2] = az * bw + aw * bz + ax * by - ay * bx;\n    out[3] = aw * bw - ax * bx - ay * by - az * bz;\n    return out;\n};\n\n/**\n * Alias for {@link quat.multiply}\n * @function\n */\nquat.mul = quat.multiply;\n\n/**\n * Scales a quat by a scalar number\n *\n * @param {quat} out the receiving vector\n * @param {quat} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {quat} out\n * @function\n */\nquat.scale = vec4.scale;\n\n/**\n * Rotates a quaternion by the given angle about the X axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nquat.rotateX = function (out, a, rad) {\n    rad *= 0.5; \n\n    var ax = a[0], ay = a[1], az = a[2], aw = a[3],\n        bx = Math.sin(rad), bw = Math.cos(rad);\n\n    out[0] = ax * bw + aw * bx;\n    out[1] = ay * bw + az * bx;\n    out[2] = az * bw - ay * bx;\n    out[3] = aw * bw - ax * bx;\n    return out;\n};\n\n/**\n * Rotates a quaternion by the given angle about the Y axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nquat.rotateY = function (out, a, rad) {\n    rad *= 0.5; \n\n    var ax = a[0], ay = a[1], az = a[2], aw = a[3],\n        by = Math.sin(rad), bw = Math.cos(rad);\n\n    out[0] = ax * bw - az * by;\n    out[1] = ay * bw + aw * by;\n    out[2] = az * bw + ax * by;\n    out[3] = aw * bw - ay * by;\n    return out;\n};\n\n/**\n * Rotates a quaternion by the given angle about the Z axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nquat.rotateZ = function (out, a, rad) {\n    rad *= 0.5; \n\n    var ax = a[0], ay = a[1], az = a[2], aw = a[3],\n        bz = Math.sin(rad), bw = Math.cos(rad);\n\n    out[0] = ax * bw + ay * bz;\n    out[1] = ay * bw - ax * bz;\n    out[2] = az * bw + aw * bz;\n    out[3] = aw * bw - az * bz;\n    return out;\n};\n\n/**\n * Calculates the W component of a quat from the X, Y, and Z components.\n * Assumes that quaternion is 1 unit in length.\n * Any existing W component will be ignored.\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quat to calculate W component of\n * @returns {quat} out\n */\nquat.calculateW = function (out, a) {\n    var x = a[0], y = a[1], z = a[2];\n\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    out[3] = -Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n    return out;\n};\n\n/**\n * Calculates the dot product of two quat's\n *\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\nquat.dot = vec4.dot;\n\n/**\n * Performs a linear interpolation between two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {quat} out\n * @function\n */\nquat.lerp = vec4.lerp;\n\n/**\n * Performs a spherical linear interpolation between two quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {quat} out\n */\nquat.slerp = function (out, a, b, t) {\n    // benchmarks:\n    //    http://jsperf.com/quaternion-slerp-implementations\n\n    var ax = a[0], ay = a[1], az = a[2], aw = a[3],\n        bx = b[0], by = b[1], bz = b[2], bw = b[3];\n\n    var        omega, cosom, sinom, scale0, scale1;\n\n    // calc cosine\n    cosom = ax * bx + ay * by + az * bz + aw * bw;\n    // adjust signs (if necessary)\n    if ( cosom < 0.0 ) {\n        cosom = -cosom;\n        bx = - bx;\n        by = - by;\n        bz = - bz;\n        bw = - bw;\n    }\n    // calculate coefficients\n    if ( (1.0 - cosom) > 0.000001 ) {\n        // standard case (slerp)\n        omega  = Math.acos(cosom);\n        sinom  = Math.sin(omega);\n        scale0 = Math.sin((1.0 - t) * omega) / sinom;\n        scale1 = Math.sin(t * omega) / sinom;\n    } else {        \n        // \"from\" and \"to\" quaternions are very close \n        //  ... so we can do a linear interpolation\n        scale0 = 1.0 - t;\n        scale1 = t;\n    }\n    // calculate final values\n    out[0] = scale0 * ax + scale1 * bx;\n    out[1] = scale0 * ay + scale1 * by;\n    out[2] = scale0 * az + scale1 * bz;\n    out[3] = scale0 * aw + scale1 * bw;\n    \n    return out;\n};\n\n/**\n * Calculates the inverse of a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quat to calculate inverse of\n * @returns {quat} out\n */\nquat.invert = function(out, a) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3],\n        dot = a0*a0 + a1*a1 + a2*a2 + a3*a3,\n        invDot = dot ? 1.0/dot : 0;\n    \n    // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n    out[0] = -a0*invDot;\n    out[1] = -a1*invDot;\n    out[2] = -a2*invDot;\n    out[3] = a3*invDot;\n    return out;\n};\n\n/**\n * Calculates the conjugate of a quat\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quat to calculate conjugate of\n * @returns {quat} out\n */\nquat.conjugate = function (out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    out[2] = -a[2];\n    out[3] = a[3];\n    return out;\n};\n\n/**\n * Calculates the length of a quat\n *\n * @param {quat} a vector to calculate length of\n * @returns {Number} length of a\n * @function\n */\nquat.length = vec4.length;\n\n/**\n * Alias for {@link quat.length}\n * @function\n */\nquat.len = quat.length;\n\n/**\n * Calculates the squared length of a quat\n *\n * @param {quat} a vector to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\nquat.squaredLength = vec4.squaredLength;\n\n/**\n * Alias for {@link quat.squaredLength}\n * @function\n */\nquat.sqrLen = quat.squaredLength;\n\n/**\n * Normalize a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quaternion to normalize\n * @returns {quat} out\n * @function\n */\nquat.normalize = vec4.normalize;\n\n/**\n * Creates a quaternion from the given 3x3 rotation matrix.\n *\n * NOTE: The resultant quaternion is not normalized, so you should be sure\n * to renormalize the quaternion yourself where necessary.\n *\n * @param {quat} out the receiving quaternion\n * @param {mat3} m rotation matrix\n * @returns {quat} out\n * @function\n */\nquat.fromMat3 = function(out, m) {\n    // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n    // article \"Quaternion Calculus and Fast Animation\".\n    var fTrace = m[0] + m[4] + m[8];\n    var fRoot;\n\n    if ( fTrace > 0.0 ) {\n        // |w| > 1/2, may as well choose w > 1/2\n        fRoot = Math.sqrt(fTrace + 1.0);  // 2w\n        out[3] = 0.5 * fRoot;\n        fRoot = 0.5/fRoot;  // 1/(4w)\n        out[0] = (m[7]-m[5])*fRoot;\n        out[1] = (m[2]-m[6])*fRoot;\n        out[2] = (m[3]-m[1])*fRoot;\n    } else {\n        // |w| <= 1/2\n        var i = 0;\n        if ( m[4] > m[0] )\n          i = 1;\n        if ( m[8] > m[i*3+i] )\n          i = 2;\n        var j = (i+1)%3;\n        var k = (i+2)%3;\n        \n        fRoot = Math.sqrt(m[i*3+i]-m[j*3+j]-m[k*3+k] + 1.0);\n        out[i] = 0.5 * fRoot;\n        fRoot = 0.5 / fRoot;\n        out[3] = (m[k*3+j] - m[j*3+k]) * fRoot;\n        out[j] = (m[j*3+i] + m[i*3+j]) * fRoot;\n        out[k] = (m[k*3+i] + m[i*3+k]) * fRoot;\n    }\n    \n    return out;\n};\n\n/**\n * Returns a string representation of a quatenion\n *\n * @param {quat} vec vector to represent as a string\n * @returns {String} string representation of the vector\n */\nquat.str = function (a) {\n    return 'quat(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n};\n\nif(typeof(exports) !== 'undefined') {\n    exports.quat = quat;\n}\n;\n\n\n\n\n\n\n\n\n\n\n\n\n\n  })(shim.exports);\n})(this);\n",
    "'use strict';\n\n\nvar yaml = require('./lib/js-yaml.js');\n\n\nmodule.exports = yaml;\n",
    "'use strict';\n\n\nvar loader = require('./js-yaml/loader');\nvar dumper = require('./js-yaml/dumper');\n\n\nfunction deprecated(name) {\n  return function () {\n    throw new Error('Function ' + name + ' is deprecated and cannot be used.');\n  };\n}\n\n\nmodule.exports.Type                = require('./js-yaml/type');\nmodule.exports.Schema              = require('./js-yaml/schema');\nmodule.exports.FAILSAFE_SCHEMA     = require('./js-yaml/schema/failsafe');\nmodule.exports.JSON_SCHEMA         = require('./js-yaml/schema/json');\nmodule.exports.CORE_SCHEMA         = require('./js-yaml/schema/core');\nmodule.exports.DEFAULT_SAFE_SCHEMA = require('./js-yaml/schema/default_safe');\nmodule.exports.DEFAULT_FULL_SCHEMA = require('./js-yaml/schema/default_full');\nmodule.exports.load                = loader.load;\nmodule.exports.loadAll             = loader.loadAll;\nmodule.exports.safeLoad            = loader.safeLoad;\nmodule.exports.safeLoadAll         = loader.safeLoadAll;\nmodule.exports.dump                = dumper.dump;\nmodule.exports.safeDump            = dumper.safeDump;\nmodule.exports.YAMLException       = require('./js-yaml/exception');\n\n// Deprecared schema names from JS-YAML 2.0.x\nmodule.exports.MINIMAL_SCHEMA = require('./js-yaml/schema/failsafe');\nmodule.exports.SAFE_SCHEMA    = require('./js-yaml/schema/default_safe');\nmodule.exports.DEFAULT_SCHEMA = require('./js-yaml/schema/default_full');\n\n// Deprecated functions from JS-YAML 1.x.x\nmodule.exports.scan           = deprecated('scan');\nmodule.exports.parse          = deprecated('parse');\nmodule.exports.compose        = deprecated('compose');\nmodule.exports.addConstructor = deprecated('addConstructor');\n",
    "'use strict';\n\n\nfunction isNothing(subject) {\n  return (undefined === subject) || (null === subject);\n}\n\n\nfunction isObject(subject) {\n  return ('object' === typeof subject) && (null !== subject);\n}\n\n\nfunction toArray(sequence) {\n  if (Array.isArray(sequence)) {\n    return sequence;\n  } else if (isNothing(sequence)) {\n    return [];\n  } else {\n    return [ sequence ];\n  }\n}\n\n\nfunction extend(target, source) {\n  var index, length, key, sourceKeys;\n\n  if (source) {\n    sourceKeys = Object.keys(source);\n\n    for (index = 0, length = sourceKeys.length; index < length; index += 1) {\n      key = sourceKeys[index];\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\n\nfunction repeat(string, count) {\n  var result = '', cycle;\n\n  for (cycle = 0; cycle < count; cycle += 1) {\n    result += string;\n  }\n\n  return result;\n}\n\n\nfunction isNegativeZero(number) {\n  return (0 === number) && (Number.NEGATIVE_INFINITY === 1 / number);\n}\n\n\nmodule.exports.isNothing      = isNothing;\nmodule.exports.isObject       = isObject;\nmodule.exports.toArray        = toArray;\nmodule.exports.repeat         = repeat;\nmodule.exports.isNegativeZero = isNegativeZero;\nmodule.exports.extend         = extend;\n",
    "'use strict';\n\n\nvar common              = require('./common');\nvar YAMLException       = require('./exception');\nvar DEFAULT_FULL_SCHEMA = require('./schema/default_full');\nvar DEFAULT_SAFE_SCHEMA = require('./schema/default_safe');\n\n\nvar _toString       = Object.prototype.toString;\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\n\nvar CHAR_TAB                  = 0x09; /* Tab */\nvar CHAR_LINE_FEED            = 0x0A; /* LF */\nvar CHAR_CARRIAGE_RETURN      = 0x0D; /* CR */\nvar CHAR_SPACE                = 0x20; /* Space */\nvar CHAR_EXCLAMATION          = 0x21; /* ! */\nvar CHAR_DOUBLE_QUOTE         = 0x22; /* \" */\nvar CHAR_SHARP                = 0x23; /* # */\nvar CHAR_PERCENT              = 0x25; /* % */\nvar CHAR_AMPERSAND            = 0x26; /* & */\nvar CHAR_SINGLE_QUOTE         = 0x27; /* ' */\nvar CHAR_ASTERISK             = 0x2A; /* * */\nvar CHAR_COMMA                = 0x2C; /* , */\nvar CHAR_MINUS                = 0x2D; /* - */\nvar CHAR_COLON                = 0x3A; /* : */\nvar CHAR_GREATER_THAN         = 0x3E; /* > */\nvar CHAR_QUESTION             = 0x3F; /* ? */\nvar CHAR_COMMERCIAL_AT        = 0x40; /* @ */\nvar CHAR_LEFT_SQUARE_BRACKET  = 0x5B; /* [ */\nvar CHAR_RIGHT_SQUARE_BRACKET = 0x5D; /* ] */\nvar CHAR_GRAVE_ACCENT         = 0x60; /* ` */\nvar CHAR_LEFT_CURLY_BRACKET   = 0x7B; /* { */\nvar CHAR_VERTICAL_LINE        = 0x7C; /* | */\nvar CHAR_RIGHT_CURLY_BRACKET  = 0x7D; /* } */\n\n\nvar ESCAPE_SEQUENCES = {};\n\nESCAPE_SEQUENCES[0x00]   = '\\\\0';\nESCAPE_SEQUENCES[0x07]   = '\\\\a';\nESCAPE_SEQUENCES[0x08]   = '\\\\b';\nESCAPE_SEQUENCES[0x09]   = '\\\\t';\nESCAPE_SEQUENCES[0x0A]   = '\\\\n';\nESCAPE_SEQUENCES[0x0B]   = '\\\\v';\nESCAPE_SEQUENCES[0x0C]   = '\\\\f';\nESCAPE_SEQUENCES[0x0D]   = '\\\\r';\nESCAPE_SEQUENCES[0x1B]   = '\\\\e';\nESCAPE_SEQUENCES[0x22]   = '\\\\\"';\nESCAPE_SEQUENCES[0x5C]   = '\\\\\\\\';\nESCAPE_SEQUENCES[0x85]   = '\\\\N';\nESCAPE_SEQUENCES[0xA0]   = '\\\\_';\nESCAPE_SEQUENCES[0x2028] = '\\\\L';\nESCAPE_SEQUENCES[0x2029] = '\\\\P';\n\n\nvar DEPRECATED_BOOLEANS_SYNTAX = [\n  'y', 'Y', 'yes', 'Yes', 'YES', 'on', 'On', 'ON',\n  'n', 'N', 'no', 'No', 'NO', 'off', 'Off', 'OFF'\n];\n\n\nfunction compileStyleMap(schema, map) {\n  var result, keys, index, length, tag, style, type;\n\n  if (null === map) {\n    return {};\n  }\n\n  result = {};\n  keys = Object.keys(map);\n\n  for (index = 0, length = keys.length; index < length; index += 1) {\n    tag = keys[index];\n    style = String(map[tag]);\n\n    if ('!!' === tag.slice(0, 2)) {\n      tag = 'tag:yaml.org,2002:' + tag.slice(2);\n    }\n\n    type = schema.compiledTypeMap[tag];\n\n    if (type && _hasOwnProperty.call(type.styleAliases, style)) {\n      style = type.styleAliases[style];\n    }\n\n    result[tag] = style;\n  }\n\n  return result;\n}\n\n\nfunction encodeHex(character) {\n  var string, handle, length;\n\n  string = character.toString(16).toUpperCase();\n\n  if (character <= 0xFF) {\n    handle = 'x';\n    length = 2;\n  } else if (character <= 0xFFFF) {\n    handle = 'u';\n    length = 4;\n  } else if (character <= 0xFFFFFFFF) {\n    handle = 'U';\n    length = 8;\n  } else {\n    throw new YAMLException('code point within a string may not be greater than 0xFFFFFFFF');\n  }\n\n  return '\\\\' + handle + common.repeat('0', length - string.length) + string;\n}\n\n\nfunction State(options) {\n  this.schema      = options['schema'] || DEFAULT_FULL_SCHEMA;\n  this.indent      = Math.max(1, (options['indent'] || 2));\n  this.skipInvalid = options['skipInvalid'] || false;\n  this.flowLevel   = (common.isNothing(options['flowLevel']) ? -1 : options['flowLevel']);\n  this.styleMap    = compileStyleMap(this.schema, options['styles'] || null);\n\n  this.implicitTypes = this.schema.compiledImplicit;\n  this.explicitTypes = this.schema.compiledExplicit;\n\n  this.tag = null;\n  this.result = '';\n\n  this.duplicates = [];\n  this.usedDuplicates = null;\n}\n\n\nfunction generateNextLine(state, level) {\n  return '\\n' + common.repeat(' ', state.indent * level);\n}\n\nfunction testImplicitResolving(state, str) {\n  var index, length, type;\n\n  for (index = 0, length = state.implicitTypes.length; index < length; index += 1) {\n    type = state.implicitTypes[index];\n\n    if (type.resolve(str)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction writeScalar(state, object) {\n  var isQuoted, checkpoint, position, length, character, first;\n\n  state.dump = '';\n  isQuoted = false;\n  checkpoint = 0;\n  first = object.charCodeAt(0) || 0;\n\n  if (-1 !== DEPRECATED_BOOLEANS_SYNTAX.indexOf(object)) {\n    // Ensure compatibility with YAML 1.0/1.1 loaders.\n    isQuoted = true;\n  } else if (0 === object.length) {\n    // Quote empty string\n    isQuoted = true;\n  } else if (CHAR_SPACE    === first ||\n             CHAR_SPACE    === object.charCodeAt(object.length - 1)) {\n    isQuoted = true;\n  } else if (CHAR_MINUS    === first ||\n             CHAR_QUESTION === first) {\n    // Don't check second symbol for simplicity\n    isQuoted = true;\n  }\n\n  for (position = 0, length = object.length; position < length; position += 1) {\n    character = object.charCodeAt(position);\n\n    if (!isQuoted) {\n      if (CHAR_TAB                  === character ||\n          CHAR_LINE_FEED            === character ||\n          CHAR_CARRIAGE_RETURN      === character ||\n          CHAR_COMMA                === character ||\n          CHAR_LEFT_SQUARE_BRACKET  === character ||\n          CHAR_RIGHT_SQUARE_BRACKET === character ||\n          CHAR_LEFT_CURLY_BRACKET   === character ||\n          CHAR_RIGHT_CURLY_BRACKET  === character ||\n          CHAR_SHARP                === character ||\n          CHAR_AMPERSAND            === character ||\n          CHAR_ASTERISK             === character ||\n          CHAR_EXCLAMATION          === character ||\n          CHAR_VERTICAL_LINE        === character ||\n          CHAR_GREATER_THAN         === character ||\n          CHAR_SINGLE_QUOTE         === character ||\n          CHAR_DOUBLE_QUOTE         === character ||\n          CHAR_PERCENT              === character ||\n          CHAR_COMMERCIAL_AT        === character ||\n          CHAR_COLON                === character ||\n          CHAR_GRAVE_ACCENT         === character) {\n        isQuoted = true;\n      }\n    }\n\n    if (ESCAPE_SEQUENCES[character] ||\n        !((0x00020 <= character && character <= 0x00007E) ||\n          (0x00085 === character)                         ||\n          (0x000A0 <= character && character <= 0x00D7FF) ||\n          (0x0E000 <= character && character <= 0x00FFFD) ||\n          (0x10000 <= character && character <= 0x10FFFF))) {\n      state.dump += object.slice(checkpoint, position);\n      state.dump += ESCAPE_SEQUENCES[character] || encodeHex(character);\n      checkpoint = position + 1;\n      isQuoted = true;\n    }\n  }\n\n  if (checkpoint < position) {\n    state.dump += object.slice(checkpoint, position);\n  }\n\n  if (!isQuoted && testImplicitResolving(state, state.dump)) {\n    isQuoted = true;\n  }\n\n  if (isQuoted) {\n    state.dump = '\"' + state.dump + '\"';\n  }\n}\n\nfunction writeFlowSequence(state, level, object) {\n  var _result = '',\n      _tag    = state.tag,\n      index,\n      length;\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    // Write only valid elements.\n    if (writeNode(state, level, object[index], false, false)) {\n      if (0 !== index) {\n        _result += ', ';\n      }\n      _result += state.dump;\n    }\n  }\n\n  state.tag = _tag;\n  state.dump = '[' + _result + ']';\n}\n\nfunction writeBlockSequence(state, level, object, compact) {\n  var _result = '',\n      _tag    = state.tag,\n      index,\n      length;\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    // Write only valid elements.\n    if (writeNode(state, level + 1, object[index], true, true)) {\n      if (!compact || 0 !== index) {\n        _result += generateNextLine(state, level);\n      }\n      _result += '- ' + state.dump;\n    }\n  }\n\n  state.tag = _tag;\n  state.dump = _result || '[]'; // Empty sequence if no valid values.\n}\n\nfunction writeFlowMapping(state, level, object) {\n  var _result       = '',\n      _tag          = state.tag,\n      objectKeyList = Object.keys(object),\n      index,\n      length,\n      objectKey,\n      objectValue,\n      pairBuffer;\n\n  for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n    pairBuffer = '';\n\n    if (0 !== index) {\n      pairBuffer += ', ';\n    }\n\n    objectKey = objectKeyList[index];\n    objectValue = object[objectKey];\n\n    if (!writeNode(state, level, objectKey, false, false)) {\n      continue; // Skip this pair because of invalid key;\n    }\n\n    if (state.dump.length > 1024) {\n      pairBuffer += '? ';\n    }\n\n    pairBuffer += state.dump + ': ';\n\n    if (!writeNode(state, level, objectValue, false, false)) {\n      continue; // Skip this pair because of invalid value.\n    }\n\n    pairBuffer += state.dump;\n\n    // Both key and value are valid.\n    _result += pairBuffer;\n  }\n\n  state.tag = _tag;\n  state.dump = '{' + _result + '}';\n}\n\nfunction writeBlockMapping(state, level, object, compact) {\n  var _result       = '',\n      _tag          = state.tag,\n      objectKeyList = Object.keys(object),\n      index,\n      length,\n      objectKey,\n      objectValue,\n      explicitPair,\n      pairBuffer;\n\n  for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n    pairBuffer = '';\n\n    if (!compact || 0 !== index) {\n      pairBuffer += generateNextLine(state, level);\n    }\n\n    objectKey = objectKeyList[index];\n    objectValue = object[objectKey];\n\n    if (!writeNode(state, level + 1, objectKey, true, true)) {\n      continue; // Skip this pair because of invalid key.\n    }\n\n    explicitPair = (null !== state.tag && '?' !== state.tag) ||\n                   (state.dump && state.dump.length > 1024);\n\n    if (explicitPair) {\n      if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n        pairBuffer += '?';\n      } else {\n        pairBuffer += '? ';\n      }\n    }\n\n    pairBuffer += state.dump;\n\n    if (explicitPair) {\n      pairBuffer += generateNextLine(state, level);\n    }\n\n    if (!writeNode(state, level + 1, objectValue, true, explicitPair)) {\n      continue; // Skip this pair because of invalid value.\n    }\n\n    if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n      pairBuffer += ':';\n    } else {\n      pairBuffer += ': ';\n    }\n\n    pairBuffer += state.dump;\n\n    // Both key and value are valid.\n    _result += pairBuffer;\n  }\n\n  state.tag = _tag;\n  state.dump = _result || '{}'; // Empty mapping if no valid pairs.\n}\n\nfunction detectType(state, object, explicit) {\n  var _result, typeList, index, length, type, style;\n\n  typeList = explicit ? state.explicitTypes : state.implicitTypes;\n\n  for (index = 0, length = typeList.length; index < length; index += 1) {\n    type = typeList[index];\n\n    if ((type.instanceOf  || type.predicate) &&\n        (!type.instanceOf || (('object' === typeof object) && (object instanceof type.instanceOf))) &&\n        (!type.predicate  || type.predicate(object))) {\n\n      state.tag = explicit ? type.tag : '?';\n\n      if (type.represent) {\n        style = state.styleMap[type.tag] || type.defaultStyle;\n\n        if ('[object Function]' === _toString.call(type.represent)) {\n          _result = type.represent(object, style);\n        } else if (_hasOwnProperty.call(type.represent, style)) {\n          _result = type.represent[style](object, style);\n        } else {\n          throw new YAMLException('!<' + type.tag + '> tag resolver accepts not \"' + style + '\" style');\n        }\n\n        state.dump = _result;\n      }\n\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// Serializes `object` and writes it to global `result`.\n// Returns true on success, or false on invalid object.\n//\nfunction writeNode(state, level, object, block, compact) {\n  state.tag = null;\n  state.dump = object;\n\n  if (!detectType(state, object, false)) {\n    detectType(state, object, true);\n  }\n\n  var type = _toString.call(state.dump);\n\n  if (block) {\n    block = (0 > state.flowLevel || state.flowLevel > level);\n  }\n\n  if ((null !== state.tag && '?' !== state.tag) || (2 !== state.indent && level > 0)) {\n    compact = false;\n  }\n\n  var objectOrArray = '[object Object]' === type || '[object Array]' === type,\n      duplicateIndex,\n      duplicate;\n\n  if (objectOrArray) {\n    duplicateIndex = state.duplicates.indexOf(object);\n    duplicate = duplicateIndex !== -1;\n  }\n\n  if (duplicate && state.usedDuplicates[duplicateIndex]) {\n    state.dump = '*ref_' + duplicateIndex;\n  } else {\n    if (objectOrArray && duplicate && !state.usedDuplicates[duplicateIndex]) {\n      state.usedDuplicates[duplicateIndex] = true;\n    }\n    if ('[object Object]' === type) {\n      if (block && (0 !== Object.keys(state.dump).length)) {\n        writeBlockMapping(state, level, state.dump, compact);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + (0 === level ? '\\n' : '') + state.dump;\n        }\n      } else {\n        writeFlowMapping(state, level, state.dump);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + ' ' + state.dump;\n        }\n      }\n    } else if ('[object Array]' === type) {\n      if (block && (0 !== state.dump.length)) {\n        writeBlockSequence(state, level, state.dump, compact);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + (0 === level ? '\\n' : '') + state.dump;\n        }\n      } else {\n        writeFlowSequence(state, level, state.dump);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + ' ' + state.dump;\n        }\n      }\n    } else if ('[object String]' === type) {\n      if ('?' !== state.tag) {\n        writeScalar(state, state.dump);\n      }\n    } else if (state.skipInvalid) {\n      return false;\n    } else {\n      throw new YAMLException('unacceptable kind of an object to dump ' + type);\n    }\n\n    if (null !== state.tag && '?' !== state.tag) {\n      state.dump = '!<' + state.tag + '> ' + state.dump;\n    }\n  }\n\n  return true;\n}\n\nfunction getDuplicateReferences(object, state) {\n  var objects = [],\n      duplicatesIndexes = [],\n      index,\n      length;\n\n  inspectNode(object, objects, duplicatesIndexes);\n\n  for (index = 0, length = duplicatesIndexes.length; index < length; index += 1) {\n    state.duplicates.push(objects[duplicatesIndexes[index]]);\n  }\n  state.usedDuplicates = new Array(length);\n}\n\nfunction inspectNode(object, objects, duplicatesIndexes) {\n  var type = _toString.call(object),\n      objectKeyList,\n      index,\n      length;\n\n  if (null !== object && 'object' === typeof object) {\n    index = objects.indexOf(object);\n    if (-1 !== index) {\n      if (-1 === duplicatesIndexes.indexOf(index)) {\n        duplicatesIndexes.push(index);\n      }\n    } else {\n      objects.push(object);\n    \n      if(Array.isArray(object)) {\n        for (index = 0, length = object.length; index < length; index += 1) {\n          inspectNode(object[index], objects, duplicatesIndexes);\n        }\n      } else {\n        objectKeyList = Object.keys(object);\n\n        for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n          inspectNode(object[objectKeyList[index]], objects, duplicatesIndexes);\n        }\n      }\n    }\n  }\n}\n\nfunction dump(input, options) {\n  options = options || {};\n\n  var state = new State(options);\n\n  getDuplicateReferences(input, state);\n\n  if (writeNode(state, 0, input, true, true)) {\n    return state.dump + '\\n';\n  } else {\n    return '';\n  }\n}\n\n\nfunction safeDump(input, options) {\n  return dump(input, common.extend({ schema: DEFAULT_SAFE_SCHEMA }, options));\n}\n\n\nmodule.exports.dump     = dump;\nmodule.exports.safeDump = safeDump;\n",
    "'use strict';\n\n\nfunction YAMLException(reason, mark) {\n  this.name    = 'YAMLException';\n  this.reason  = reason;\n  this.mark    = mark;\n  this.message = this.toString(false);\n}\n\n\nYAMLException.prototype.toString = function toString(compact) {\n  var result;\n\n  result = 'JS-YAML: ' + (this.reason || '(unknown reason)');\n\n  if (!compact && this.mark) {\n    result += ' ' + this.mark.toString();\n  }\n\n  return result;\n};\n\n\nmodule.exports = YAMLException;\n",
    "'use strict';\n\n\nvar common              = require('./common');\nvar YAMLException       = require('./exception');\nvar Mark                = require('./mark');\nvar DEFAULT_SAFE_SCHEMA = require('./schema/default_safe');\nvar DEFAULT_FULL_SCHEMA = require('./schema/default_full');\n\n\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\n\nvar CONTEXT_FLOW_IN   = 1;\nvar CONTEXT_FLOW_OUT  = 2;\nvar CONTEXT_BLOCK_IN  = 3;\nvar CONTEXT_BLOCK_OUT = 4;\n\n\nvar CHOMPING_CLIP  = 1;\nvar CHOMPING_STRIP = 2;\nvar CHOMPING_KEEP  = 3;\n\n\nvar PATTERN_NON_PRINTABLE         = /[\\x00-\\x08\\x0B\\x0C\\x0E-\\x1F\\x7F-\\x84\\x86-\\x9F\\uD800-\\uDFFF\\uFFFE\\uFFFF]/;\nvar PATTERN_NON_ASCII_LINE_BREAKS = /[\\x85\\u2028\\u2029]/;\nvar PATTERN_FLOW_INDICATORS       = /[,\\[\\]\\{\\}]/;\nvar PATTERN_TAG_HANDLE            = /^(?:!|!!|![a-z\\-]+!)$/i;\nvar PATTERN_TAG_URI               = /^(?:!|[^,\\[\\]\\{\\}])(?:%[0-9a-f]{2}|[0-9a-z\\-#;\\/\\?:@&=\\+\\$,_\\.!~\\*'\\(\\)\\[\\]])*$/i;\n\n\nfunction is_EOL(c) {\n  return (c === 0x0A/* LF */) || (c === 0x0D/* CR */);\n}\n\nfunction is_WHITE_SPACE(c) {\n  return (c === 0x09/* Tab */) || (c === 0x20/* Space */);\n}\n\nfunction is_WS_OR_EOL(c) {\n  return (c === 0x09/* Tab */) ||\n         (c === 0x20/* Space */) ||\n         (c === 0x0A/* LF */) ||\n         (c === 0x0D/* CR */);\n}\n\nfunction is_FLOW_INDICATOR(c) {\n  return 0x2C/* , */ === c ||\n         0x5B/* [ */ === c ||\n         0x5D/* ] */ === c ||\n         0x7B/* { */ === c ||\n         0x7D/* } */ === c;\n}\n\nfunction fromHexCode(c) {\n  var lc;\n\n  if ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */)) {\n    return c - 0x30;\n  }\n\n  lc = c | 0x20;\n  if ((0x61/* a */ <= lc) && (lc <= 0x66/* f */)) {\n    return lc - 0x61 + 10;\n  }\n\n  return -1;\n}\n\nfunction escapedHexLen(c) {\n  if (c === 0x78/* x */) { return 2; }\n  if (c === 0x75/* u */) { return 4; }\n  if (c === 0x55/* U */) { return 8; }\n  return 0;\n}\n\nfunction fromDecimalCode(c) {\n  if ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */)) {\n    return c - 0x30;\n  }\n\n  return -1;\n}\n\nfunction simpleEscapeSequence(c) {\n return (c === 0x30/* 0 */) ? '\\x00' :\n        (c === 0x61/* a */) ? '\\x07' :\n        (c === 0x62/* b */) ? '\\x08' :\n        (c === 0x74/* t */) ? '\\x09' :\n        (c === 0x09/* Tab */) ? '\\x09' :\n        (c === 0x6E/* n */) ? '\\x0A' :\n        (c === 0x76/* v */) ? '\\x0B' :\n        (c === 0x66/* f */) ? '\\x0C' :\n        (c === 0x72/* r */) ? '\\x0D' :\n        (c === 0x65/* e */) ? '\\x1B' :\n        (c === 0x20/* Space */) ? ' ' :\n        (c === 0x22/* \" */) ? '\\x22' :\n        (c === 0x2F/* / */) ? '/' :\n        (c === 0x5C/* \\ */) ? '\\x5C' :\n        (c === 0x4E/* N */) ? '\\x85' :\n        (c === 0x5F/* _ */) ? '\\xA0' :\n        (c === 0x4C/* L */) ? '\\u2028' :\n        (c === 0x50/* P */) ? '\\u2029' : '';\n}\n\nvar simpleEscapeCheck = new Array(256); // integer, for fast access\nvar simpleEscapeMap = new Array(256);\nfor (var i = 0; i < 256; i++) {\n  simpleEscapeCheck[i] = simpleEscapeSequence(i) ? 1 : 0;\n  simpleEscapeMap[i] = simpleEscapeSequence(i);\n}\n\n\nfunction State(input, options) {\n  this.input = input;\n\n  this.filename  = options['filename']  || null;\n  this.schema    = options['schema']    || DEFAULT_FULL_SCHEMA;\n  this.onWarning = options['onWarning'] || null;\n  this.legacy    = options['legacy']    || false;\n\n  this.implicitTypes = this.schema.compiledImplicit;\n  this.typeMap       = this.schema.compiledTypeMap;\n\n  this.length     = input.length;\n  this.position   = 0;\n  this.line       = 0;\n  this.lineStart  = 0;\n  this.lineIndent = 0;\n\n  this.documents = [];\n\n  /*\n  this.version;\n  this.checkLineBreaks;\n  this.tagMap;\n  this.anchorMap;\n  this.tag;\n  this.anchor;\n  this.kind;\n  this.result;*/\n\n}\n\n\nfunction generateError(state, message) {\n  return new YAMLException(\n    message,\n    new Mark(state.filename, state.input, state.position, state.line, (state.position - state.lineStart)));\n}\n\nfunction throwError(state, message) {\n  throw generateError(state, message);\n}\n\nfunction throwWarning(state, message) {\n  var error = generateError(state, message);\n\n  if (state.onWarning) {\n    state.onWarning.call(null, error);\n  } else {\n    throw error;\n  }\n}\n\n\nvar directiveHandlers = {\n\n  'YAML': function handleYamlDirective(state, name, args) {\n\n      var match, major, minor;\n\n      if (null !== state.version) {\n        throwError(state, 'duplication of %YAML directive');\n      }\n\n      if (1 !== args.length) {\n        throwError(state, 'YAML directive accepts exactly one argument');\n      }\n\n      match = /^([0-9]+)\\.([0-9]+)$/.exec(args[0]);\n\n      if (null === match) {\n        throwError(state, 'ill-formed argument of the YAML directive');\n      }\n\n      major = parseInt(match[1], 10);\n      minor = parseInt(match[2], 10);\n\n      if (1 !== major) {\n        throwError(state, 'unacceptable YAML version of the document');\n      }\n\n      state.version = args[0];\n      state.checkLineBreaks = (minor < 2);\n\n      if (1 !== minor && 2 !== minor) {\n        throwWarning(state, 'unsupported YAML version of the document');\n      }\n    },\n\n  'TAG': function handleTagDirective(state, name, args) {\n\n      var handle, prefix;\n\n      if (2 !== args.length) {\n        throwError(state, 'TAG directive accepts exactly two arguments');\n      }\n\n      handle = args[0];\n      prefix = args[1];\n\n      if (!PATTERN_TAG_HANDLE.test(handle)) {\n        throwError(state, 'ill-formed tag handle (first argument) of the TAG directive');\n      }\n\n      if (_hasOwnProperty.call(state.tagMap, handle)) {\n        throwError(state, 'there is a previously declared suffix for \"' + handle + '\" tag handle');\n      }\n\n      if (!PATTERN_TAG_URI.test(prefix)) {\n        throwError(state, 'ill-formed tag prefix (second argument) of the TAG directive');\n      }\n\n      state.tagMap[handle] = prefix;\n    }\n};\n\n\nfunction captureSegment(state, start, end, checkJson) {\n  var _position, _length, _character, _result;\n\n  if (start < end) {\n    _result = state.input.slice(start, end);\n\n    if (checkJson) {\n      for (_position = 0, _length = _result.length;\n           _position < _length;\n           _position += 1) {\n        _character = _result.charCodeAt(_position);\n        if (!(0x09 === _character ||\n              0x20 <= _character && _character <= 0x10FFFF)) {\n          throwError(state, 'expected valid JSON character');\n        }\n      }\n    }\n\n    state.result += _result;\n  }\n}\n\nfunction mergeMappings(state, destination, source) {\n  var sourceKeys, key, index, quantity;\n\n  if (!common.isObject(source)) {\n    throwError(state, 'cannot merge mappings; the provided source object is unacceptable');\n  }\n\n  sourceKeys = Object.keys(source);\n\n  for (index = 0, quantity = sourceKeys.length; index < quantity; index += 1) {\n    key = sourceKeys[index];\n\n    if (!_hasOwnProperty.call(destination, key)) {\n      destination[key] = source[key];\n    }\n  }\n}\n\nfunction storeMappingPair(state, _result, keyTag, keyNode, valueNode) {\n  var index, quantity;\n\n  keyNode = String(keyNode);\n\n  if (null === _result) {\n    _result = {};\n  }\n\n  if ('tag:yaml.org,2002:merge' === keyTag) {\n    if (Array.isArray(valueNode)) {\n      for (index = 0, quantity = valueNode.length; index < quantity; index += 1) {\n        mergeMappings(state, _result, valueNode[index]);\n      }\n    } else {\n      mergeMappings(state, _result, valueNode);\n    }\n  } else {\n    _result[keyNode] = valueNode;\n  }\n\n  return _result;\n}\n\nfunction readLineBreak(state) {\n  var ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (0x0A/* LF */ === ch) {\n    state.position++;\n  } else if (0x0D/* CR */ === ch) {\n    state.position++;\n    if (0x0A/* LF */ === state.input.charCodeAt(state.position)) {\n      state.position++;\n    }\n  } else {\n    throwError(state, 'a line break is expected');\n  }\n\n  state.line += 1;\n  state.lineStart = state.position;\n}\n\nfunction skipSeparationSpace(state, allowComments, checkIndent) {\n  var lineBreaks = 0,\n      ch = state.input.charCodeAt(state.position);\n\n  while (0 !== ch) {\n    while (is_WHITE_SPACE(ch)) {\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    if (allowComments && 0x23/* # */ === ch) {\n      do {\n        ch = state.input.charCodeAt(++state.position);\n      } while (ch !== 0x0A/* LF */ && ch !== 0x0D/* CR */ && 0 !== ch);\n    }\n\n    if (is_EOL(ch)) {\n      readLineBreak(state);\n\n      ch = state.input.charCodeAt(state.position);\n      lineBreaks++;\n      state.lineIndent = 0;\n\n      while (0x20/* Space */ === ch) {\n        state.lineIndent++;\n        ch = state.input.charCodeAt(++state.position);\n      }\n\n      if (state.lineIndent < checkIndent) {\n        throwWarning(state, 'deficient indentation');\n      }\n    } else {\n      break;\n    }\n  }\n\n  return lineBreaks;\n}\n\nfunction testDocumentSeparator(state) {\n  var _position = state.position,\n      ch;\n\n  ch = state.input.charCodeAt(_position);\n\n  // Condition state.position === state.lineStart is tested\n  // in parent on each call, for efficiency. No needs to test here again.\n  if ((0x2D/* - */ === ch || 0x2E/* . */ === ch) &&\n      state.input.charCodeAt(_position + 1) === ch &&\n      state.input.charCodeAt(_position+ 2) === ch) {\n\n    _position += 3;\n\n    ch = state.input.charCodeAt(_position);\n\n    if (ch === 0 || is_WS_OR_EOL(ch)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction writeFoldedLines(state, count) {\n  if (1 === count) {\n    state.result += ' ';\n  } else if (count > 1) {\n    state.result += common.repeat('\\n', count - 1);\n  }\n}\n\n\nfunction readPlainScalar(state, nodeIndent, withinFlowCollection) {\n  var preceding,\n      following,\n      captureStart,\n      captureEnd,\n      hasPendingContent,\n      _line,\n      _lineStart,\n      _lineIndent,\n      _kind = state.kind,\n      _result = state.result,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (is_WS_OR_EOL(ch)             ||\n      is_FLOW_INDICATOR(ch)        ||\n      0x23/* # */           === ch ||\n      0x26/* & */           === ch ||\n      0x2A/* * */           === ch ||\n      0x21/* ! */           === ch ||\n      0x7C/* | */           === ch ||\n      0x3E/* > */           === ch ||\n      0x27/* ' */           === ch ||\n      0x22/* \" */           === ch ||\n      0x25/* % */           === ch ||\n      0x40/* @ */           === ch ||\n      0x60/* ` */           === ch) {\n    return false;\n  }\n\n  if (0x3F/* ? */ === ch || 0x2D/* - */ === ch) {\n    following = state.input.charCodeAt(state.position + 1);\n\n    if (is_WS_OR_EOL(following) ||\n        withinFlowCollection && is_FLOW_INDICATOR(following)) {\n      return false;\n    }\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n  captureStart = captureEnd = state.position;\n  hasPendingContent = false;\n\n  while (0 !== ch) {\n    if (0x3A/* : */ === ch) {\n      following = state.input.charCodeAt(state.position+1);\n\n      if (is_WS_OR_EOL(following) ||\n          withinFlowCollection && is_FLOW_INDICATOR(following)) {\n        break;\n      }\n\n    } else if (0x23/* # */ === ch) {\n      preceding = state.input.charCodeAt(state.position - 1);\n\n      if (is_WS_OR_EOL(preceding)) {\n        break;\n      }\n\n    } else if ((state.position === state.lineStart && testDocumentSeparator(state)) ||\n               withinFlowCollection && is_FLOW_INDICATOR(ch)) {\n      break;\n\n    } else if (is_EOL(ch)) {\n      _line = state.line;\n      _lineStart = state.lineStart;\n      _lineIndent = state.lineIndent;\n      skipSeparationSpace(state, false, -1);\n\n      if (state.lineIndent >= nodeIndent) {\n        hasPendingContent = true;\n        ch = state.input.charCodeAt(state.position);\n        continue;\n      } else {\n        state.position = captureEnd;\n        state.line = _line;\n        state.lineStart = _lineStart;\n        state.lineIndent = _lineIndent;\n        break;\n      }\n    }\n\n    if (hasPendingContent) {\n      captureSegment(state, captureStart, captureEnd, false);\n      writeFoldedLines(state, state.line - _line);\n      captureStart = captureEnd = state.position;\n      hasPendingContent = false;\n    }\n\n    if (!is_WHITE_SPACE(ch)) {\n      captureEnd = state.position + 1;\n    }\n\n    ch = state.input.charCodeAt(++state.position);\n  }\n\n  captureSegment(state, captureStart, captureEnd, false);\n\n  if (state.result) {\n    return true;\n  } else {\n    state.kind = _kind;\n    state.result = _result;\n    return false;\n  }\n}\n\nfunction readSingleQuotedScalar(state, nodeIndent) {\n  var ch,\n      captureStart, captureEnd;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (0x27/* ' */ !== ch) {\n    return false;\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n  state.position++;\n  captureStart = captureEnd = state.position;\n\n  while (0 !== (ch = state.input.charCodeAt(state.position))) {\n    if (0x27/* ' */ === ch) {\n      captureSegment(state, captureStart, state.position, true);\n      ch = state.input.charCodeAt(++state.position);\n\n      if (0x27/* ' */ === ch) {\n        captureStart = captureEnd = state.position;\n        state.position++;\n      } else {\n        return true;\n      }\n\n    } else if (is_EOL(ch)) {\n      captureSegment(state, captureStart, captureEnd, true);\n      writeFoldedLines(state, skipSeparationSpace(state, false, nodeIndent));\n      captureStart = captureEnd = state.position;\n\n    } else if (state.position === state.lineStart && testDocumentSeparator(state)) {\n      throwError(state, 'unexpected end of the document within a single quoted scalar');\n\n    } else {\n      state.position++;\n      captureEnd = state.position;\n    }\n  }\n\n  throwError(state, 'unexpected end of the stream within a single quoted scalar');\n}\n\nfunction readDoubleQuotedScalar(state, nodeIndent) {\n  var captureStart,\n      captureEnd,\n      hexLength,\n      hexResult,\n      tmp, tmpEsc,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (0x22/* \" */ !== ch) {\n    return false;\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n  state.position++;\n  captureStart = captureEnd = state.position;\n\n  while (0 !== (ch = state.input.charCodeAt(state.position))) {\n    if (0x22/* \" */ === ch) {\n      captureSegment(state, captureStart, state.position, true);\n      state.position++;\n      return true;\n\n    } else if (0x5C/* \\ */ === ch) {\n      captureSegment(state, captureStart, state.position, true);\n      ch = state.input.charCodeAt(++state.position);\n\n      if (is_EOL(ch)) {\n        skipSeparationSpace(state, false, nodeIndent);\n\n        //TODO: rework to inline fn with no type cast?\n      } else if (ch < 256 && simpleEscapeCheck[ch]) {\n        state.result += simpleEscapeMap[ch];\n        state.position++;\n\n      } else if ((tmp = escapedHexLen(ch)) > 0) {\n        hexLength = tmp;\n        hexResult = 0;\n\n        for (; hexLength > 0; hexLength--) {\n          ch = state.input.charCodeAt(++state.position);\n\n          if ((tmp = fromHexCode(ch)) >= 0) {\n            hexResult = (hexResult << 4) + tmp;\n\n          } else {\n            throwError(state, 'expected hexadecimal character');\n          }\n        }\n\n        state.result += String.fromCharCode(hexResult);\n        state.position++;\n\n      } else {\n        throwError(state, 'unknown escape sequence');\n      }\n\n      captureStart = captureEnd = state.position;\n\n    } else if (is_EOL(ch)) {\n      captureSegment(state, captureStart, captureEnd, true);\n      writeFoldedLines(state, skipSeparationSpace(state, false, nodeIndent));\n      captureStart = captureEnd = state.position;\n\n    } else if (state.position === state.lineStart && testDocumentSeparator(state)) {\n      throwError(state, 'unexpected end of the document within a double quoted scalar');\n\n    } else {\n      state.position++;\n      captureEnd = state.position;\n    }\n  }\n\n  throwError(state, 'unexpected end of the stream within a double quoted scalar');\n}\n\nfunction readFlowCollection(state, nodeIndent) {\n  var readNext = true,\n      _line,\n      _tag     = state.tag,\n      _result,\n      _anchor  = state.anchor,\n      following,\n      terminator,\n      isPair,\n      isExplicitPair,\n      isMapping,\n      keyNode,\n      keyTag,\n      valueNode,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch === 0x5B/* [ */) {\n    terminator = 0x5D/* ] */;\n    isMapping = false;\n    _result = [];\n  } else if (ch === 0x7B/* { */) {\n    terminator = 0x7D/* } */;\n    isMapping = true;\n    _result = {};\n  } else {\n    return false;\n  }\n\n  if (null !== state.anchor) {\n    state.anchorMap[state.anchor] = _result;\n  }\n\n  ch = state.input.charCodeAt(++state.position);\n\n  while (0 !== ch) {\n    skipSeparationSpace(state, true, nodeIndent);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if (ch === terminator) {\n      state.position++;\n      state.tag = _tag;\n      state.anchor = _anchor;\n      state.kind = isMapping ? 'mapping' : 'sequence';\n      state.result = _result;\n      return true;\n    } else if (!readNext) {\n      throwError(state, 'missed comma between flow collection entries');\n    }\n\n    keyTag = keyNode = valueNode = null;\n    isPair = isExplicitPair = false;\n\n    if (0x3F/* ? */ === ch) {\n      following = state.input.charCodeAt(state.position + 1);\n\n      if (is_WS_OR_EOL(following)) {\n        isPair = isExplicitPair = true;\n        state.position++;\n        skipSeparationSpace(state, true, nodeIndent);\n      }\n    }\n\n    _line = state.line;\n    composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);\n    keyTag = state.tag;\n    keyNode = state.result;\n    skipSeparationSpace(state, true, nodeIndent);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if ((isExplicitPair || state.line === _line) && 0x3A/* : */ === ch) {\n      isPair = true;\n      ch = state.input.charCodeAt(++state.position);\n      skipSeparationSpace(state, true, nodeIndent);\n      composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);\n      valueNode = state.result;\n    }\n\n    if (isMapping) {\n      storeMappingPair(state, _result, keyTag, keyNode, valueNode);\n    } else if (isPair) {\n      _result.push(storeMappingPair(state, null, keyTag, keyNode, valueNode));\n    } else {\n      _result.push(keyNode);\n    }\n\n    skipSeparationSpace(state, true, nodeIndent);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if (0x2C/* , */ === ch) {\n      readNext = true;\n      ch = state.input.charCodeAt(++state.position);\n    } else {\n      readNext = false;\n    }\n  }\n\n  throwError(state, 'unexpected end of the stream within a flow collection');\n}\n\nfunction readBlockScalar(state, nodeIndent) {\n  var captureStart,\n      folding,\n      chomping       = CHOMPING_CLIP,\n      detectedIndent = false,\n      textIndent     = nodeIndent,\n      emptyLines     = 0,\n      atMoreIndented = false,\n      tmp,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch === 0x7C/* | */) {\n    folding = false;\n  } else if (ch === 0x3E/* > */) {\n    folding = true;\n  } else {\n    return false;\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n\n  while (0 !== ch) {\n    ch = state.input.charCodeAt(++state.position);\n\n    if (0x2B/* + */ === ch || 0x2D/* - */ === ch) {\n      if (CHOMPING_CLIP === chomping) {\n        chomping = (0x2B/* + */ === ch) ? CHOMPING_KEEP : CHOMPING_STRIP;\n      } else {\n        throwError(state, 'repeat of a chomping mode identifier');\n      }\n\n    } else if ((tmp = fromDecimalCode(ch)) >= 0) {\n      if (tmp === 0) {\n        throwError(state, 'bad explicit indentation width of a block scalar; it cannot be less than one');\n      } else if (!detectedIndent) {\n        textIndent = nodeIndent + tmp - 1;\n        detectedIndent = true;\n      } else {\n        throwError(state, 'repeat of an indentation width identifier');\n      }\n\n    } else {\n      break;\n    }\n  }\n\n  if (is_WHITE_SPACE(ch)) {\n    do { ch = state.input.charCodeAt(++state.position); }\n    while (is_WHITE_SPACE(ch));\n\n    if (0x23/* # */ === ch) {\n      do { ch = state.input.charCodeAt(++state.position); }\n      while (!is_EOL(ch) && (0 !== ch));\n    }\n  }\n\n  while (0 !== ch) {\n    readLineBreak(state);\n    state.lineIndent = 0;\n\n    ch = state.input.charCodeAt(state.position);\n\n    while ((!detectedIndent || state.lineIndent < textIndent) &&\n           (0x20/* Space */ === ch)) {\n      state.lineIndent++;\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    if (!detectedIndent && state.lineIndent > textIndent) {\n      textIndent = state.lineIndent;\n    }\n\n    if (is_EOL(ch)) {\n      emptyLines++;\n      continue;\n    }\n\n    // End of the scalar.\n    if (state.lineIndent < textIndent) {\n\n      // Perform the chomping.\n      if (chomping === CHOMPING_KEEP) {\n        state.result += common.repeat('\\n', emptyLines);\n      } else if (chomping === CHOMPING_CLIP) {\n        if (detectedIndent) { // i.e. only if the scalar is not empty.\n          state.result += '\\n';\n        }\n      }\n\n      // Break this `while` cycle and go to the funciton's epilogue.\n      break;\n    }\n\n    // Folded style: use fancy rules to handle line breaks.\n    if (folding) {\n\n      // Lines starting with white space characters (more-indented lines) are not folded.\n      if (is_WHITE_SPACE(ch)) {\n        atMoreIndented = true;\n        state.result += common.repeat('\\n', emptyLines + 1);\n\n      // End of more-indented block.\n      } else if (atMoreIndented) {\n        atMoreIndented = false;\n        state.result += common.repeat('\\n', emptyLines + 1);\n\n      // Just one line break - perceive as the same line.\n      } else if (0 === emptyLines) {\n        if (detectedIndent) { // i.e. only if we have already read some scalar content.\n          state.result += ' ';\n        }\n\n      // Several line breaks - perceive as different lines.\n      } else {\n        state.result += common.repeat('\\n', emptyLines);\n      }\n\n    // Literal style: just add exact number of line breaks between content lines.\n    } else {\n\n      // If current line isn't the first one - count line break from the last content line.\n      if (detectedIndent) {\n        state.result += common.repeat('\\n', emptyLines + 1);\n\n      // In case of the first content line - count only empty lines.\n      } else {\n        state.result += common.repeat('\\n', emptyLines);\n      }\n    }\n\n    detectedIndent = true;\n    emptyLines = 0;\n    captureStart = state.position;\n\n    while (!is_EOL(ch) && (0 !== ch))\n    { ch = state.input.charCodeAt(++state.position); }\n\n    captureSegment(state, captureStart, state.position, false);\n  }\n\n  return true;\n}\n\nfunction readBlockSequence(state, nodeIndent) {\n  var _line,\n      _tag      = state.tag,\n      _anchor   = state.anchor,\n      _result   = [],\n      following,\n      detected  = false,\n      ch;\n\n  if (null !== state.anchor) {\n    state.anchorMap[state.anchor] = _result;\n  }\n\n  ch = state.input.charCodeAt(state.position);\n\n  while (0 !== ch) {\n\n    if (0x2D/* - */ !== ch) {\n      break;\n    }\n\n    following = state.input.charCodeAt(state.position + 1);\n\n    if (!is_WS_OR_EOL(following)) {\n      break;\n    }\n\n    detected = true;\n    state.position++;\n\n    if (skipSeparationSpace(state, true, -1)) {\n      if (state.lineIndent <= nodeIndent) {\n        _result.push(null);\n        ch = state.input.charCodeAt(state.position);\n        continue;\n      }\n    }\n\n    _line = state.line;\n    composeNode(state, nodeIndent, CONTEXT_BLOCK_IN, false, true);\n    _result.push(state.result);\n    skipSeparationSpace(state, true, -1);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if ((state.line === _line || state.lineIndent > nodeIndent) && (0 !== ch)) {\n      throwError(state, 'bad indentation of a sequence entry');\n    } else if (state.lineIndent < nodeIndent) {\n      break;\n    }\n  }\n\n  if (detected) {\n    state.tag = _tag;\n    state.anchor = _anchor;\n    state.kind = 'sequence';\n    state.result = _result;\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction readBlockMapping(state, nodeIndent, flowIndent) {\n  var following,\n      allowCompact,\n      _line,\n      _tag          = state.tag,\n      _anchor       = state.anchor,\n      _result       = {},\n      keyTag        = null,\n      keyNode       = null,\n      valueNode     = null,\n      atExplicitKey = false,\n      detected      = false,\n      ch;\n\n  if (null !== state.anchor) {\n    state.anchorMap[state.anchor] = _result;\n  }\n\n  ch = state.input.charCodeAt(state.position);\n\n  while (0 !== ch) {\n    following = state.input.charCodeAt(state.position + 1);\n    _line = state.line; // Save the current line.\n\n    //\n    // Explicit notation case. There are two separate blocks:\n    // first for the key (denoted by \"?\") and second for the value (denoted by \":\")\n    //\n    if ((0x3F/* ? */ === ch || 0x3A/* : */  === ch) && is_WS_OR_EOL(following)) {\n\n      if (0x3F/* ? */ === ch) {\n        if (atExplicitKey) {\n          storeMappingPair(state, _result, keyTag, keyNode, null);\n          keyTag = keyNode = valueNode = null;\n        }\n\n        detected = true;\n        atExplicitKey = true;\n        allowCompact = true;\n\n      } else if (atExplicitKey) {\n        // i.e. 0x3A/* : */ === character after the explicit key.\n        atExplicitKey = false;\n        allowCompact = true;\n\n      } else {\n        throwError(state, 'incomplete explicit mapping pair; a key node is missed');\n      }\n\n      state.position += 1;\n      ch = following;\n\n    //\n    // Implicit notation case. Flow-style node as the key first, then \":\", and the value.\n    //\n    } else if (composeNode(state, flowIndent, CONTEXT_FLOW_OUT, false, true)) {\n\n      if (state.line === _line) {\n        ch = state.input.charCodeAt(state.position);\n\n        while (is_WHITE_SPACE(ch)) {\n          ch = state.input.charCodeAt(++state.position);\n        }\n\n        if (0x3A/* : */ === ch) {\n          ch = state.input.charCodeAt(++state.position);\n\n          if (!is_WS_OR_EOL(ch)) {\n            throwError(state, 'a whitespace character is expected after the key-value separator within a block mapping');\n          }\n\n          if (atExplicitKey) {\n            storeMappingPair(state, _result, keyTag, keyNode, null);\n            keyTag = keyNode = valueNode = null;\n          }\n\n          detected = true;\n          atExplicitKey = false;\n          allowCompact = false;\n          keyTag = state.tag;\n          keyNode = state.result;\n\n        } else if (detected) {\n          throwError(state, 'can not read an implicit mapping pair; a colon is missed');\n\n        } else {\n          state.tag = _tag;\n          state.anchor = _anchor;\n          return true; // Keep the result of `composeNode`.\n        }\n\n      } else if (detected) {\n        throwError(state, 'can not read a block mapping entry; a multiline key may not be an implicit key');\n\n      } else {\n        state.tag = _tag;\n        state.anchor = _anchor;\n        return true; // Keep the result of `composeNode`.\n      }\n\n    } else {\n      break; // Reading is done. Go to the epilogue.\n    }\n\n    //\n    // Common reading code for both explicit and implicit notations.\n    //\n    if (state.line === _line || state.lineIndent > nodeIndent) {\n      if (composeNode(state, nodeIndent, CONTEXT_BLOCK_OUT, true, allowCompact)) {\n        if (atExplicitKey) {\n          keyNode = state.result;\n        } else {\n          valueNode = state.result;\n        }\n      }\n\n      if (!atExplicitKey) {\n        storeMappingPair(state, _result, keyTag, keyNode, valueNode);\n        keyTag = keyNode = valueNode = null;\n      }\n\n      skipSeparationSpace(state, true, -1);\n      ch = state.input.charCodeAt(state.position);\n    }\n\n    if (state.lineIndent > nodeIndent && (0 !== ch)) {\n      throwError(state, 'bad indentation of a mapping entry');\n    } else if (state.lineIndent < nodeIndent) {\n      break;\n    }\n  }\n\n  //\n  // Epilogue.\n  //\n\n  // Special case: last mapping's node contains only the key in explicit notation.\n  if (atExplicitKey) {\n    storeMappingPair(state, _result, keyTag, keyNode, null);\n  }\n\n  // Expose the resulting mapping.\n  if (detected) {\n    state.tag = _tag;\n    state.anchor = _anchor;\n    state.kind = 'mapping';\n    state.result = _result;\n  }\n\n  return detected;\n}\n\nfunction readTagProperty(state) {\n  var _position,\n      isVerbatim = false,\n      isNamed    = false,\n      tagHandle,\n      tagName,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (0x21/* ! */ !== ch) {\n    return false;\n  }\n\n  if (null !== state.tag) {\n    throwError(state, 'duplication of a tag property');\n  }\n\n  ch = state.input.charCodeAt(++state.position);\n\n  if (0x3C/* < */ === ch) {\n    isVerbatim = true;\n    ch = state.input.charCodeAt(++state.position);\n\n  } else if (0x21/* ! */ === ch) {\n    isNamed = true;\n    tagHandle = '!!';\n    ch = state.input.charCodeAt(++state.position);\n\n  } else {\n    tagHandle = '!';\n  }\n\n  _position = state.position;\n\n  if (isVerbatim) {\n    do { ch = state.input.charCodeAt(++state.position); }\n    while (0 !== ch && 0x3E/* > */ !== ch);\n\n    if (state.position < state.length) {\n      tagName = state.input.slice(_position, state.position);\n      ch = state.input.charCodeAt(++state.position);\n    } else {\n      throwError(state, 'unexpected end of the stream within a verbatim tag');\n    }\n  } else {\n    while (0 !== ch && !is_WS_OR_EOL(ch)) {\n\n      if (0x21/* ! */ === ch) {\n        if (!isNamed) {\n          tagHandle = state.input.slice(_position - 1, state.position + 1);\n\n          if (!PATTERN_TAG_HANDLE.test(tagHandle)) {\n            throwError(state, 'named tag handle cannot contain such characters');\n          }\n\n          isNamed = true;\n          _position = state.position + 1;\n        } else {\n          throwError(state, 'tag suffix cannot contain exclamation marks');\n        }\n      }\n\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    tagName = state.input.slice(_position, state.position);\n\n    if (PATTERN_FLOW_INDICATORS.test(tagName)) {\n      throwError(state, 'tag suffix cannot contain flow indicator characters');\n    }\n  }\n\n  if (tagName && !PATTERN_TAG_URI.test(tagName)) {\n    throwError(state, 'tag name cannot contain such characters: ' + tagName);\n  }\n\n  if (isVerbatim) {\n    state.tag = tagName;\n\n  } else if (_hasOwnProperty.call(state.tagMap, tagHandle)) {\n    state.tag = state.tagMap[tagHandle] + tagName;\n\n  } else if ('!' === tagHandle) {\n    state.tag = '!' + tagName;\n\n  } else if ('!!' === tagHandle) {\n    state.tag = 'tag:yaml.org,2002:' + tagName;\n\n  } else {\n    throwError(state, 'undeclared tag handle \"' + tagHandle + '\"');\n  }\n\n  return true;\n}\n\nfunction readAnchorProperty(state) {\n  var _position,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (0x26/* & */ !== ch) {\n    return false;\n  }\n\n  if (null !== state.anchor) {\n    throwError(state, 'duplication of an anchor property');\n  }\n\n  ch = state.input.charCodeAt(++state.position);\n  _position = state.position;\n\n  while (0 !== ch && !is_WS_OR_EOL(ch) && !is_FLOW_INDICATOR(ch)) {\n    ch = state.input.charCodeAt(++state.position);\n  }\n\n  if (state.position === _position) {\n    throwError(state, 'name of an anchor node must contain at least one character');\n  }\n\n  state.anchor = state.input.slice(_position, state.position);\n  return true;\n}\n\nfunction readAlias(state) {\n  var _position, alias,\n      len = state.length,\n      input = state.input,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (0x2A/* * */ !== ch) {\n    return false;\n  }\n\n  ch = state.input.charCodeAt(++state.position);\n  _position = state.position;\n\n  while (0 !== ch && !is_WS_OR_EOL(ch) && !is_FLOW_INDICATOR(ch)) {\n    ch = state.input.charCodeAt(++state.position);\n  }\n\n  if (state.position === _position) {\n    throwError(state, 'name of an alias node must contain at least one character');\n  }\n\n  alias = state.input.slice(_position, state.position);\n\n  if (!state.anchorMap.hasOwnProperty(alias)) {\n    throwError(state, 'unidentified alias \"' + alias + '\"');\n  }\n\n  state.result = state.anchorMap[alias];\n  skipSeparationSpace(state, true, -1);\n  return true;\n}\n\nfunction composeNode(state, parentIndent, nodeContext, allowToSeek, allowCompact) {\n  var allowBlockStyles,\n      allowBlockScalars,\n      allowBlockCollections,\n      atNewLine  = false,\n      isIndented = true,\n      hasContent = false,\n      typeIndex,\n      typeQuantity,\n      type,\n      flowIndent,\n      blockIndent,\n      _result;\n\n  state.tag    = null;\n  state.anchor = null;\n  state.kind   = null;\n  state.result = null;\n\n  allowBlockStyles = allowBlockScalars = allowBlockCollections =\n    CONTEXT_BLOCK_OUT === nodeContext ||\n    CONTEXT_BLOCK_IN  === nodeContext;\n\n  if (allowToSeek) {\n    if (skipSeparationSpace(state, true, -1)) {\n      atNewLine = true;\n\n      if (state.lineIndent === parentIndent) {\n        isIndented = false;\n\n      } else if (state.lineIndent > parentIndent) {\n        isIndented = true;\n\n      } else {\n        return false;\n      }\n    }\n  }\n\n  if (isIndented) {\n    while (readTagProperty(state) || readAnchorProperty(state)) {\n      if (skipSeparationSpace(state, true, -1)) {\n        atNewLine = true;\n\n        if (state.lineIndent > parentIndent) {\n          isIndented = true;\n          allowBlockCollections = allowBlockStyles;\n\n        } else if (state.lineIndent === parentIndent) {\n          isIndented = false;\n          allowBlockCollections = allowBlockStyles;\n\n        } else {\n          return true;\n        }\n      } else {\n        allowBlockCollections = false;\n      }\n    }\n  }\n\n  if (allowBlockCollections) {\n    allowBlockCollections = atNewLine || allowCompact;\n  }\n\n  if (isIndented || CONTEXT_BLOCK_OUT === nodeContext) {\n    if (CONTEXT_FLOW_IN === nodeContext || CONTEXT_FLOW_OUT === nodeContext) {\n      flowIndent = parentIndent;\n    } else {\n      flowIndent = parentIndent + 1;\n    }\n\n    blockIndent = state.position - state.lineStart;\n\n    if (isIndented) {\n      if (allowBlockCollections &&\n          (readBlockSequence(state, blockIndent) ||\n           readBlockMapping(state, blockIndent, flowIndent)) ||\n          readFlowCollection(state, flowIndent)) {\n        hasContent = true;\n      } else {\n        if ((allowBlockScalars && readBlockScalar(state, flowIndent)) ||\n            readSingleQuotedScalar(state, flowIndent) ||\n            readDoubleQuotedScalar(state, flowIndent)) {\n          hasContent = true;\n\n        } else if (readAlias(state)) {\n          hasContent = true;\n\n          if (null !== state.tag || null !== state.anchor) {\n            throwError(state, 'alias node should not have any properties');\n          }\n\n        } else if (readPlainScalar(state, flowIndent, CONTEXT_FLOW_IN === nodeContext)) {\n          hasContent = true;\n\n          if (null === state.tag) {\n            state.tag = '?';\n          }\n        }\n\n        if (null !== state.anchor) {\n          state.anchorMap[state.anchor] = state.result;\n        }\n      }\n    } else {\n      hasContent = allowBlockCollections && readBlockSequence(state, blockIndent);\n    }\n  }\n\n  if (null !== state.tag && '!' !== state.tag) {\n    if ('?' === state.tag) {\n      for (typeIndex = 0, typeQuantity = state.implicitTypes.length;\n           typeIndex < typeQuantity;\n           typeIndex += 1) {\n        type = state.implicitTypes[typeIndex];\n\n        // Implicit resolving is not allowed for non-scalar types, and '?'\n        // non-specific tag is only assigned to plain scalars. So, it isn't\n        // needed to check for 'kind' conformity.\n\n        if (type.resolve(state.result)) { // `state.result` updated in resolver if matched\n          state.result = type.construct(state.result);\n          state.tag = type.tag;\n          if (null !== state.anchor) {\n            state.anchorMap[state.anchor] = state.result;\n          }\n          break;\n        }\n      }\n    } else if (_hasOwnProperty.call(state.typeMap, state.tag)) {\n      type = state.typeMap[state.tag];\n\n      if (null !== state.result && type.kind !== state.kind) {\n        throwError(state, 'unacceptable node kind for !<' + state.tag + '> tag; it should be \"' + type.kind + '\", not \"' + state.kind + '\"');\n      }\n\n      if (!type.resolve(state.result)) { // `state.result` updated in resolver if matched\n        throwError(state, 'cannot resolve a node with !<' + state.tag + '> explicit tag');\n      } else {\n        state.result = type.construct(state.result);\n        if (null !== state.anchor) {\n          state.anchorMap[state.anchor] = state.result;\n        }\n      }\n    } else {\n      throwWarning(state, 'unknown tag !<' + state.tag + '>');\n    }\n  }\n\n  return null !== state.tag || null !== state.anchor || hasContent;\n}\n\nfunction readDocument(state) {\n  var documentStart = state.position,\n      _position,\n      directiveName,\n      directiveArgs,\n      hasDirectives = false,\n      ch;\n\n  state.version = null;\n  state.checkLineBreaks = state.legacy;\n  state.tagMap = {};\n  state.anchorMap = {};\n\n  while (0 !== (ch = state.input.charCodeAt(state.position))) {\n    skipSeparationSpace(state, true, -1);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if (state.lineIndent > 0 || 0x25/* % */ !== ch) {\n      break;\n    }\n\n    hasDirectives = true;\n    ch = state.input.charCodeAt(++state.position);\n    _position = state.position;\n\n    while (0 !== ch && !is_WS_OR_EOL(ch)) {\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    directiveName = state.input.slice(_position, state.position);\n    directiveArgs = [];\n\n    if (directiveName.length < 1) {\n      throwError(state, 'directive name must not be less than one character in length');\n    }\n\n    while (0 !== ch) {\n      while (is_WHITE_SPACE(ch)) {\n        ch = state.input.charCodeAt(++state.position);\n      }\n\n      if (0x23/* # */ === ch) {\n        do { ch = state.input.charCodeAt(++state.position); }\n        while (0 !== ch && !is_EOL(ch));\n        break;\n      }\n\n      if (is_EOL(ch)) {\n        break;\n      }\n\n      _position = state.position;\n\n      while (0 !== ch && !is_WS_OR_EOL(ch)) {\n        ch = state.input.charCodeAt(++state.position);\n      }\n\n      directiveArgs.push(state.input.slice(_position, state.position));\n    }\n\n    if (0 !== ch) {\n      readLineBreak(state);\n    }\n\n    if (_hasOwnProperty.call(directiveHandlers, directiveName)) {\n      directiveHandlers[directiveName](state, directiveName, directiveArgs);\n    } else {\n      throwWarning(state, 'unknown document directive \"' + directiveName + '\"');\n    }\n  }\n\n  skipSeparationSpace(state, true, -1);\n\n  if (0 === state.lineIndent &&\n      0x2D/* - */ === state.input.charCodeAt(state.position) &&\n      0x2D/* - */ === state.input.charCodeAt(state.position + 1) &&\n      0x2D/* - */ === state.input.charCodeAt(state.position + 2)) {\n    state.position += 3;\n    skipSeparationSpace(state, true, -1);\n\n  } else if (hasDirectives) {\n    throwError(state, 'directives end mark is expected');\n  }\n\n  composeNode(state, state.lineIndent - 1, CONTEXT_BLOCK_OUT, false, true);\n  skipSeparationSpace(state, true, -1);\n\n  if (state.checkLineBreaks &&\n      PATTERN_NON_ASCII_LINE_BREAKS.test(state.input.slice(documentStart, state.position))) {\n    throwWarning(state, 'non-ASCII line breaks are interpreted as content');\n  }\n\n  state.documents.push(state.result);\n\n  if (state.position === state.lineStart && testDocumentSeparator(state)) {\n\n    if (0x2E/* . */ === state.input.charCodeAt(state.position)) {\n      state.position += 3;\n      skipSeparationSpace(state, true, -1);\n    }\n    return;\n  }\n\n  if (state.position < (state.length - 1)) {\n    throwError(state, 'end of the stream or a document separator is expected');\n  } else {\n    return;\n  }\n}\n\n\nfunction loadDocuments(input, options) {\n  input = String(input);\n  options = options || {};\n\n  if (0 !== input.length &&\n      0x0A/* LF */ !== input.charCodeAt(input.length - 1) &&\n      0x0D/* CR */ !== input.charCodeAt(input.length - 1)) {\n    input += '\\n';\n  }\n\n  var state = new State(input, options);\n\n  if (PATTERN_NON_PRINTABLE.test(state.input)) {\n    throwError(state, 'the stream contains non-printable characters');\n  }\n\n  // Use 0 as string terminator. That significantly simplifies bounds check.\n  state.input += '\\0';\n\n  while (0x20/* Space */ === state.input.charCodeAt(state.position)) {\n    state.lineIndent += 1;\n    state.position += 1;\n  }\n\n  while (state.position < (state.length - 1)) {\n    readDocument(state);\n  }\n\n  return state.documents;\n}\n\n\nfunction loadAll(input, iterator, options) {\n  var documents = loadDocuments(input, options), index, length;\n\n  for (index = 0, length = documents.length; index < length; index += 1) {\n    iterator(documents[index]);\n  }\n}\n\n\nfunction load(input, options) {\n  var documents = loadDocuments(input, options), index, length;\n\n  if (0 === documents.length) {\n    return undefined;\n  } else if (1 === documents.length) {\n    return documents[0];\n  } else {\n    throw new YAMLException('expected a single document in the stream, but found more');\n  }\n}\n\n\nfunction safeLoadAll(input, output, options) {\n  loadAll(input, output, common.extend({ schema: DEFAULT_SAFE_SCHEMA }, options));\n}\n\n\nfunction safeLoad(input, options) {\n  return load(input, common.extend({ schema: DEFAULT_SAFE_SCHEMA }, options));\n}\n\n\nmodule.exports.loadAll     = loadAll;\nmodule.exports.load        = load;\nmodule.exports.safeLoadAll = safeLoadAll;\nmodule.exports.safeLoad    = safeLoad;\n",
    "'use strict';\n\n\nvar common = require('./common');\n\n\nfunction Mark(name, buffer, position, line, column) {\n  this.name     = name;\n  this.buffer   = buffer;\n  this.position = position;\n  this.line     = line;\n  this.column   = column;\n}\n\n\nMark.prototype.getSnippet = function getSnippet(indent, maxLength) {\n  var head, start, tail, end, snippet;\n\n  if (!this.buffer) {\n    return null;\n  }\n\n  indent = indent || 4;\n  maxLength = maxLength || 75;\n\n  head = '';\n  start = this.position;\n\n  while (start > 0 && -1 === '\\x00\\r\\n\\x85\\u2028\\u2029'.indexOf(this.buffer.charAt(start - 1))) {\n    start -= 1;\n    if (this.position - start > (maxLength / 2 - 1)) {\n      head = ' ... ';\n      start += 5;\n      break;\n    }\n  }\n\n  tail = '';\n  end = this.position;\n\n  while (end < this.buffer.length && -1 === '\\x00\\r\\n\\x85\\u2028\\u2029'.indexOf(this.buffer.charAt(end))) {\n    end += 1;\n    if (end - this.position > (maxLength / 2 - 1)) {\n      tail = ' ... ';\n      end -= 5;\n      break;\n    }\n  }\n\n  snippet = this.buffer.slice(start, end);\n\n  return common.repeat(' ', indent) + head + snippet + tail + '\\n' +\n         common.repeat(' ', indent + this.position - start + head.length) + '^';\n};\n\n\nMark.prototype.toString = function toString(compact) {\n  var snippet, where = '';\n\n  if (this.name) {\n    where += 'in \"' + this.name + '\" ';\n  }\n\n  where += 'at line ' + (this.line + 1) + ', column ' + (this.column + 1);\n\n  if (!compact) {\n    snippet = this.getSnippet();\n\n    if (snippet) {\n      where += ':\\n' + snippet;\n    }\n  }\n\n  return where;\n};\n\n\nmodule.exports = Mark;\n",
    "'use strict';\n\n\nvar common        = require('./common');\nvar YAMLException = require('./exception');\nvar Type          = require('./type');\n\n\nfunction compileList(schema, name, result) {\n  var exclude = [];\n\n  schema.include.forEach(function (includedSchema) {\n    result = compileList(includedSchema, name, result);\n  });\n\n  schema[name].forEach(function (currentType) {\n    result.forEach(function (previousType, previousIndex) {\n      if (previousType.tag === currentType.tag) {\n        exclude.push(previousIndex);\n      }\n    });\n\n    result.push(currentType);\n  });\n\n  return result.filter(function (type, index) {\n    return -1 === exclude.indexOf(index);\n  });\n}\n\n\nfunction compileMap(/* lists... */) {\n  var result = {}, index, length;\n\n  function collectType(type) {\n    result[type.tag] = type;\n  }\n\n  for (index = 0, length = arguments.length; index < length; index += 1) {\n    arguments[index].forEach(collectType);\n  }\n\n  return result;\n}\n\n\nfunction Schema(definition) {\n  this.include  = definition.include  || [];\n  this.implicit = definition.implicit || [];\n  this.explicit = definition.explicit || [];\n\n  this.implicit.forEach(function (type) {\n    if (type.loadKind && 'scalar' !== type.loadKind) {\n      throw new YAMLException('There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.');\n    }\n  });\n\n  this.compiledImplicit = compileList(this, 'implicit', []);\n  this.compiledExplicit = compileList(this, 'explicit', []);\n  this.compiledTypeMap  = compileMap(this.compiledImplicit, this.compiledExplicit);\n}\n\n\nSchema.DEFAULT = null;\n\n\nSchema.create = function createSchema() {\n  var schemas, types;\n\n  switch (arguments.length) {\n  case 1:\n    schemas = Schema.DEFAULT;\n    types = arguments[0];\n    break;\n\n  case 2:\n    schemas = arguments[0];\n    types = arguments[1];\n    break;\n\n  default:\n    throw new YAMLException('Wrong number of arguments for Schema.create function');\n  }\n\n  schemas = common.toArray(schemas);\n  types = common.toArray(types);\n\n  if (!schemas.every(function (schema) { return schema instanceof Schema; })) {\n    throw new YAMLException('Specified list of super schemas (or a single Schema object) contains a non-Schema object.');\n  }\n\n  if (!types.every(function (type) { return type instanceof Type; })) {\n    throw new YAMLException('Specified list of YAML types (or a single Type object) contains a non-Type object.');\n  }\n\n  return new Schema({\n    include: schemas,\n    explicit: types\n  });\n};\n\n\nmodule.exports = Schema;\n",
    "// Standard YAML's Core schema.\n// http://www.yaml.org/spec/1.2/spec.html#id2804923\n//\n// NOTE: JS-YAML does not support schema-specific tag resolution restrictions.\n// So, Core schema has no distinctions from JSON schema is JS-YAML.\n\n\n'use strict';\n\n\nvar Schema = require('../schema');\n\n\nmodule.exports = new Schema({\n  include: [\n    require('./json')\n  ]\n});\n",
    "// JS-YAML's default schema for `load` function.\n// It is not described in the YAML specification.\n//\n// This schema is based on JS-YAML's default safe schema and includes\n// JavaScript-specific types: !!js/undefined, !!js/regexp and !!js/function.\n//\n// Also this schema is used as default base schema at `Schema.create` function.\n\n\n'use strict';\n\n\nvar Schema = require('../schema');\n\n\nmodule.exports = Schema.DEFAULT = new Schema({\n  include: [\n    require('./default_safe')\n  ],\n  explicit: [\n    require('../type/js/undefined'),\n    require('../type/js/regexp'),\n    require('../type/js/function')\n  ]\n});\n",
    "// JS-YAML's default schema for `safeLoad` function.\n// It is not described in the YAML specification.\n//\n// This schema is based on standard YAML's Core schema and includes most of\n// extra types described at YAML tag repository. (http://yaml.org/type/)\n\n\n'use strict';\n\n\nvar Schema = require('../schema');\n\n\nmodule.exports = new Schema({\n  include: [\n    require('./core')\n  ],\n  implicit: [\n    require('../type/timestamp'),\n    require('../type/merge')\n  ],\n  explicit: [\n    require('../type/binary'),\n    require('../type/omap'),\n    require('../type/pairs'),\n    require('../type/set')\n  ]\n});\n",
    "// Standard YAML's Failsafe schema.\n// http://www.yaml.org/spec/1.2/spec.html#id2802346\n\n\n'use strict';\n\n\nvar Schema = require('../schema');\n\n\nmodule.exports = new Schema({\n  explicit: [\n    require('../type/str'),\n    require('../type/seq'),\n    require('../type/map')\n  ]\n});\n",
    "// Standard YAML's JSON schema.\n// http://www.yaml.org/spec/1.2/spec.html#id2803231\n//\n// NOTE: JS-YAML does not support schema-specific tag resolution restrictions.\n// So, this schema is not such strict as defined in the YAML specification.\n// It allows numbers in binary notaion, use `Null` and `NULL` as `null`, etc.\n\n\n'use strict';\n\n\nvar Schema = require('../schema');\n\n\nmodule.exports = new Schema({\n  include: [\n    require('./failsafe')\n  ],\n  implicit: [\n    require('../type/null'),\n    require('../type/bool'),\n    require('../type/int'),\n    require('../type/float')\n  ]\n});\n",
    "'use strict';\n\nvar YAMLException = require('./exception');\n\nvar TYPE_CONSTRUCTOR_OPTIONS = [\n  'kind',\n  'resolve',\n  'construct',\n  'instanceOf',\n  'predicate',\n  'represent',\n  'defaultStyle',\n  'styleAliases'\n];\n\nvar YAML_NODE_KINDS = [\n  'scalar',\n  'sequence',\n  'mapping'\n];\n\nfunction compileStyleAliases(map) {\n  var result = {};\n\n  if (null !== map) {\n    Object.keys(map).forEach(function (style) {\n      map[style].forEach(function (alias) {\n        result[String(alias)] = style;\n      });\n    });\n  }\n\n  return result;\n}\n\nfunction Type(tag, options) {\n  options = options || {};\n\n  Object.keys(options).forEach(function (name) {\n    if (-1 === TYPE_CONSTRUCTOR_OPTIONS.indexOf(name)) {\n      throw new YAMLException('Unknown option \"' + name + '\" is met in definition of \"' + tag + '\" YAML type.');\n    }\n  });\n\n  // TODO: Add tag format check.\n  this.tag          = tag;\n  this.kind         = options['kind']         || null;\n  this.resolve      = options['resolve']      || function () { return true; };\n  this.construct    = options['construct']    || function (data) { return data; };\n  this.instanceOf   = options['instanceOf']   || null;\n  this.predicate    = options['predicate']    || null;\n  this.represent    = options['represent']    || null;\n  this.defaultStyle = options['defaultStyle'] || null;\n  this.styleAliases = compileStyleAliases(options['styleAliases'] || null);\n\n  if (-1 === YAML_NODE_KINDS.indexOf(this.kind)) {\n    throw new YAMLException('Unknown kind \"' + this.kind + '\" is specified for \"' + tag + '\" YAML type.');\n  }\n}\n\nmodule.exports = Type;\n",
    "'use strict';\n\n\n// A trick for browserified version.\n// Since we make browserifier to ignore `buffer` module, NodeBuffer will be undefined\nvar NodeBuffer = require('buffer').Buffer;\nvar Type       = require('../type');\n\n\n// [ 64, 65, 66 ] -> [ padding, CR, LF ]\nvar BASE64_MAP = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\\n\\r';\n\n\nfunction resolveYamlBinary(data) {\n  var code, idx, bitlen = 0, len = 0, max = data.length, map = BASE64_MAP;\n\n  // Convert one by one.\n  for (idx = 0; idx < max; idx ++) {\n    code = map.indexOf(data.charAt(idx));\n\n    // Skip CR/LF\n    if (code > 64) { continue; }\n\n    // Fail on illegal characters\n    if (code < 0) { return false; }\n\n    bitlen += 6;\n  }\n\n  // If there are any bits left, source was corrupted\n  return (bitlen % 8) === 0;\n}\n\nfunction constructYamlBinary(data) {\n  var code, idx, tailbits,\n      input = data.replace(/[\\r\\n=]/g, ''), // remove CR/LF & padding to simplify scan\n      max = input.length,\n      map = BASE64_MAP,\n      bits = 0,\n      result = [];\n\n  // Collect by 6*4 bits (3 bytes)\n\n  for (idx = 0; idx < max; idx++) {\n    if ((idx % 4 === 0) && idx) {\n      result.push((bits >> 16) & 0xFF);\n      result.push((bits >> 8) & 0xFF);\n      result.push(bits & 0xFF);\n    }\n\n    bits = (bits << 6) | map.indexOf(input.charAt(idx));\n  }\n\n  // Dump tail\n\n  tailbits = (max % 4)*6;\n\n  if (tailbits === 0) {\n    result.push((bits >> 16) & 0xFF);\n    result.push((bits >> 8) & 0xFF);\n    result.push(bits & 0xFF);\n  } else if (tailbits === 18) {\n    result.push((bits >> 10) & 0xFF);\n    result.push((bits >> 2) & 0xFF);\n  } else if (tailbits === 12) {\n    result.push((bits >> 4) & 0xFF);\n  }\n\n  // Wrap into Buffer for NodeJS and leave Array for browser\n  if (NodeBuffer) {\n    return new NodeBuffer(result);\n  }\n\n  return result;\n}\n\nfunction representYamlBinary(object /*, style*/) {\n  var result = '', bits = 0, idx, tail,\n      max = object.length,\n      map = BASE64_MAP;\n\n  // Convert every three bytes to 4 ASCII characters.\n\n  for (idx = 0; idx < max; idx++) {\n    if ((idx % 3 === 0) && idx) {\n      result += map[(bits >> 18) & 0x3F];\n      result += map[(bits >> 12) & 0x3F];\n      result += map[(bits >> 6) & 0x3F];\n      result += map[bits & 0x3F];\n    }\n\n    bits = (bits << 8) + object[idx];\n  }\n\n  // Dump tail\n\n  tail = max % 3;\n\n  if (tail === 0) {\n    result += map[(bits >> 18) & 0x3F];\n    result += map[(bits >> 12) & 0x3F];\n    result += map[(bits >> 6) & 0x3F];\n    result += map[bits & 0x3F];\n  } else if (tail === 2) {\n    result += map[(bits >> 10) & 0x3F];\n    result += map[(bits >> 4) & 0x3F];\n    result += map[(bits << 2) & 0x3F];\n    result += map[64];\n  } else if (tail === 1) {\n    result += map[(bits >> 2) & 0x3F];\n    result += map[(bits << 4) & 0x3F];\n    result += map[64];\n    result += map[64];\n  }\n\n  return result;\n}\n\nfunction isBinary(object) {\n  return NodeBuffer && NodeBuffer.isBuffer(object);\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:binary', {\n  kind: 'scalar',\n  resolve: resolveYamlBinary,\n  construct: constructYamlBinary,\n  predicate: isBinary,\n  represent: representYamlBinary\n});\n",
    "'use strict';\n\nvar Type = require('../type');\n\nfunction resolveYamlBoolean(data) {\n  var max = data.length;\n\n  return (max === 4 && (data === 'true' || data === 'True' || data === 'TRUE')) ||\n         (max === 5 && (data === 'false' || data === 'False' || data === 'FALSE'));\n}\n\nfunction constructYamlBoolean(data) {\n  return data === 'true' ||\n         data === 'True' ||\n         data === 'TRUE';\n}\n\nfunction isBoolean(object) {\n  return '[object Boolean]' === Object.prototype.toString.call(object);\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:bool', {\n  kind: 'scalar',\n  resolve: resolveYamlBoolean,\n  construct: constructYamlBoolean,\n  predicate: isBoolean,\n  represent: {\n    lowercase: function (object) { return object ? 'true' : 'false'; },\n    uppercase: function (object) { return object ? 'TRUE' : 'FALSE'; },\n    camelcase: function (object) { return object ? 'True' : 'False'; }\n  },\n  defaultStyle: 'lowercase'\n});\n",
    "'use strict';\n\nvar common = require('../common');\nvar Type   = require('../type');\n\nvar YAML_FLOAT_PATTERN = new RegExp(\n  '^(?:[-+]?(?:[0-9][0-9_]*)\\\\.[0-9_]*(?:[eE][-+][0-9]+)?' +\n  '|\\\\.[0-9_]+(?:[eE][-+][0-9]+)?' +\n  '|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\\\.[0-9_]*' +\n  '|[-+]?\\\\.(?:inf|Inf|INF)' +\n  '|\\\\.(?:nan|NaN|NAN))$');\n\nfunction resolveYamlFloat(data) {\n  var value, sign, base, digits;\n\n  if (!YAML_FLOAT_PATTERN.test(data)) {\n    return false;\n  }\n  return true;\n}\n\nfunction constructYamlFloat(data) {\n  var value, sign, base, digits;\n\n  value  = data.replace(/_/g, '').toLowerCase();\n  sign   = '-' === value[0] ? -1 : 1;\n  digits = [];\n\n  if (0 <= '+-'.indexOf(value[0])) {\n    value = value.slice(1);\n  }\n\n  if ('.inf' === value) {\n    return (1 === sign) ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY;\n\n  } else if ('.nan' === value) {\n    return NaN;\n\n  } else if (0 <= value.indexOf(':')) {\n    value.split(':').forEach(function (v) {\n      digits.unshift(parseFloat(v, 10));\n    });\n\n    value = 0.0;\n    base = 1;\n\n    digits.forEach(function (d) {\n      value += d * base;\n      base *= 60;\n    });\n\n    return sign * value;\n\n  } else {\n    return sign * parseFloat(value, 10);\n  }\n}\n\nfunction representYamlFloat(object, style) {\n  if (isNaN(object)) {\n    switch (style) {\n    case 'lowercase':\n      return '.nan';\n    case 'uppercase':\n      return '.NAN';\n    case 'camelcase':\n      return '.NaN';\n    }\n  } else if (Number.POSITIVE_INFINITY === object) {\n    switch (style) {\n    case 'lowercase':\n      return '.inf';\n    case 'uppercase':\n      return '.INF';\n    case 'camelcase':\n      return '.Inf';\n    }\n  } else if (Number.NEGATIVE_INFINITY === object) {\n    switch (style) {\n    case 'lowercase':\n      return '-.inf';\n    case 'uppercase':\n      return '-.INF';\n    case 'camelcase':\n      return '-.Inf';\n    }\n  } else if (common.isNegativeZero(object)) {\n    return '-0.0';\n  } else {\n    return object.toString(10);\n  }\n}\n\nfunction isFloat(object) {\n  return ('[object Number]' === Object.prototype.toString.call(object)) &&\n         (0 !== object % 1 || common.isNegativeZero(object));\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:float', {\n  kind: 'scalar',\n  resolve: resolveYamlFloat,\n  construct: constructYamlFloat,\n  predicate: isFloat,\n  represent: representYamlFloat,\n  defaultStyle: 'lowercase'\n});\n",
    "'use strict';\n\nvar common = require('../common');\nvar Type   = require('../type');\n\nfunction isHexCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */)) ||\n         ((0x41/* A */ <= c) && (c <= 0x46/* F */)) ||\n         ((0x61/* a */ <= c) && (c <= 0x66/* f */));\n}\n\nfunction isOctCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x37/* 7 */));\n}\n\nfunction isDecCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */));\n}\n\nfunction resolveYamlInteger(data) {\n  var max = data.length,\n      index = 0,\n      hasDigits = false,\n      ch;\n\n  if (!max) { return false; }\n\n  ch = data[index];\n\n  // sign\n  if (ch === '-' || ch === '+') {\n    ch = data[++index];\n  }\n\n  if (ch === '0') {\n    // 0\n    if (index+1 === max) { return true; }\n    ch = data[++index];\n\n    // base 2, base 8, base 16\n\n    if (ch === 'b') {\n      // base 2\n      index++;\n\n      for (; index < max; index++) {\n        ch = data[index];\n        if (ch === '_') { continue; }\n        if (ch !== '0' && ch !== '1') {\n          return false;\n        }\n        hasDigits = true;\n      }\n      return hasDigits;\n    }\n\n\n    if (ch === 'x') {\n      // base 16\n      index++;\n\n      for (; index < max; index++) {\n        ch = data[index];\n        if (ch === '_') { continue; }\n        if (!isHexCode(data.charCodeAt(index))) {\n          return false;\n        }\n        hasDigits = true;\n      }\n      return hasDigits;\n    }\n\n    // base 8\n    for (; index < max; index++) {\n      ch = data[index];\n      if (ch === '_') { continue; }\n      if (!isOctCode(data.charCodeAt(index))) {\n        return false;\n      }\n      hasDigits = true;\n    }\n    return hasDigits;\n  }\n\n  // base 10 (except 0) or base 60\n\n  for (; index < max; index++) {\n    ch = data[index];\n    if (ch === '_') { continue; }\n    if (ch === ':') { break; }\n    if (!isDecCode(data.charCodeAt(index))) {\n      return false;\n    }\n    hasDigits = true;\n  }\n\n  if (!hasDigits) { return false; }\n\n  // if !base60 - done;\n  if (ch !== ':') { return true; }\n\n  // base60 almost not used, no needs to optimize\n  return /^(:[0-5]?[0-9])+$/.test(data.slice(index));\n}\n\nfunction constructYamlInteger(data) {\n  var value = data, sign = 1, ch, base, digits = [];\n\n  if (value.indexOf('_') !== -1) {\n    value = value.replace(/_/g, '');\n  }\n\n  ch = value[0];\n\n  if (ch === '-' || ch === '+') {\n    if (ch === '-') { sign = -1; }\n    value = value.slice(1);\n    ch = value[0];\n  }\n\n  if ('0' === value) {\n    return 0;\n  }\n\n  if (ch === '0') {\n    if (value[1] === 'b') {\n      return sign * parseInt(value.slice(2), 2);\n    }\n    if (value[1] === 'x') {\n      return sign * parseInt(value, 16);\n    }\n    return sign * parseInt(value, 8);\n\n  }\n\n  if (value.indexOf(':') !== -1) {\n    value.split(':').forEach(function (v) {\n      digits.unshift(parseInt(v, 10));\n    });\n\n    value = 0;\n    base = 1;\n\n    digits.forEach(function (d) {\n      value += (d * base);\n      base *= 60;\n    });\n\n    return sign * value;\n\n  }\n\n  return sign * parseInt(value, 10);\n}\n\nfunction isInteger(object) {\n  return ('[object Number]' === Object.prototype.toString.call(object)) &&\n         (0 === object % 1 && !common.isNegativeZero(object));\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:int', {\n  kind: 'scalar',\n  resolve: resolveYamlInteger,\n  construct: constructYamlInteger,\n  predicate: isInteger,\n  represent: {\n    binary:      function (object) { return '0b' + object.toString(2); },\n    octal:       function (object) { return '0'  + object.toString(8); },\n    decimal:     function (object) { return        object.toString(10); },\n    hexadecimal: function (object) { return '0x' + object.toString(16).toUpperCase(); }\n  },\n  defaultStyle: 'decimal',\n  styleAliases: {\n    binary:      [ 2,  'bin' ],\n    octal:       [ 8,  'oct' ],\n    decimal:     [ 10, 'dec' ],\n    hexadecimal: [ 16, 'hex' ]\n  }\n});\n",
    "'use strict';\n\nvar esprima;\n\n// Browserified version does not have esprima\n//\n// 1. For node.js just require module as deps\n// 2. For browser try to require mudule via external AMD system.\n//    If not found - try to fallback to window.esprima. If not\n//    found too - then fail to parse.\n//\ntry {\n  esprima = require('esprima');\n} catch (_) {\n  /*global window */\n  if (typeof window !== 'undefined') { esprima = window.esprima; }\n}\n\nvar Type = require('../../type');\n\nfunction resolveJavascriptFunction(data) {\n  try {\n    var source = '(' + data + ')',\n        ast    = esprima.parse(source, { range: true }),\n        params = [],\n        body;\n\n    if ('Program'             !== ast.type         ||\n        1                     !== ast.body.length  ||\n        'ExpressionStatement' !== ast.body[0].type ||\n        'FunctionExpression'  !== ast.body[0].expression.type) {\n      return false;\n    }\n\n    return true;\n  } catch (err) {\n    return false;\n  }\n}\n\nfunction constructJavascriptFunction(data) {\n  /*jslint evil:true*/\n\n  var source = '(' + data + ')',\n      ast    = esprima.parse(source, { range: true }),\n      params = [],\n      body;\n\n  if ('Program'             !== ast.type         ||\n      1                     !== ast.body.length  ||\n      'ExpressionStatement' !== ast.body[0].type ||\n      'FunctionExpression'  !== ast.body[0].expression.type) {\n    throw new Error('Failed to resolve function');\n  }\n\n  ast.body[0].expression.params.forEach(function (param) {\n    params.push(param.name);\n  });\n\n  body = ast.body[0].expression.body.range;\n\n  // Esprima's ranges include the first '{' and the last '}' characters on\n  // function expressions. So cut them out.\n  return new Function(params, source.slice(body[0]+1, body[1]-1));\n}\n\nfunction representJavascriptFunction(object /*, style*/) {\n  return object.toString();\n}\n\nfunction isFunction(object) {\n  return '[object Function]' === Object.prototype.toString.call(object);\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:js/function', {\n  kind: 'scalar',\n  resolve: resolveJavascriptFunction,\n  construct: constructJavascriptFunction,\n  predicate: isFunction,\n  represent: representJavascriptFunction\n});\n",
    "'use strict';\n\nvar Type = require('../../type');\n\nfunction resolveJavascriptRegExp(data) {\n  var regexp = data,\n      tail   = /\\/([gim]*)$/.exec(data),\n      modifiers = '';\n\n  // if regexp starts with '/' it can have modifiers and must be properly closed\n  // `/foo/gim` - modifiers tail can be maximum 3 chars\n  if ('/' === regexp[0]) {\n    if (tail) {\n      modifiers = tail[1];\n    }\n\n    if (modifiers.length > 3) { return false; }\n    // if expression starts with /, is should be properly terminated\n    if (regexp[regexp.length - modifiers.length - 1] !== '/') { return false; }\n\n    regexp = regexp.slice(1, regexp.length - modifiers.length - 1);\n  }\n\n  try {\n    var dummy = new RegExp(regexp, modifiers);\n    return true;\n  } catch (error) {\n    return false;\n  }\n}\n\nfunction constructJavascriptRegExp(data) {\n  var regexp = data,\n      tail   = /\\/([gim]*)$/.exec(data),\n      modifiers = '';\n\n  // `/foo/gim` - tail can be maximum 4 chars\n  if ('/' === regexp[0]) {\n    if (tail) {\n      modifiers = tail[1];\n    }\n    regexp = regexp.slice(1, regexp.length - modifiers.length - 1);\n  }\n\n  return new RegExp(regexp, modifiers);\n}\n\nfunction representJavascriptRegExp(object /*, style*/) {\n  var result = '/' + object.source + '/';\n\n  if (object.global) {\n    result += 'g';\n  }\n\n  if (object.multiline) {\n    result += 'm';\n  }\n\n  if (object.ignoreCase) {\n    result += 'i';\n  }\n\n  return result;\n}\n\nfunction isRegExp(object) {\n  return '[object RegExp]' === Object.prototype.toString.call(object);\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:js/regexp', {\n  kind: 'scalar',\n  resolve: resolveJavascriptRegExp,\n  construct: constructJavascriptRegExp,\n  predicate: isRegExp,\n  represent: representJavascriptRegExp\n});\n",
    "'use strict';\n\nvar Type = require('../../type');\n\nfunction resolveJavascriptUndefined() {\n  return true;\n}\n\nfunction constructJavascriptUndefined() {\n  return undefined;\n}\n\nfunction representJavascriptUndefined() {\n  return '';\n}\n\nfunction isUndefined(object) {\n  return 'undefined' === typeof object;\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:js/undefined', {\n  kind: 'scalar',\n  resolve: resolveJavascriptUndefined,\n  construct: constructJavascriptUndefined,\n  predicate: isUndefined,\n  represent: representJavascriptUndefined\n});\n",
    "'use strict';\n\nvar Type = require('../type');\n\nmodule.exports = new Type('tag:yaml.org,2002:map', {\n  kind: 'mapping'\n});\n",
    "'use strict';\n\nvar Type = require('../type');\n\nfunction resolveYamlMerge(data) {\n  return '<<' === data;\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:merge', {\n  kind: 'scalar',\n  resolve: resolveYamlMerge,\n});\n",
    "'use strict';\n\nvar Type = require('../type');\n\nfunction resolveYamlNull(data) {\n  var max = data.length;\n\n  return (max === 1 && data === '~') ||\n         (max === 4 && (data === 'null' || data === 'Null' || data === 'NULL'));\n}\n\nfunction constructYamlNull() {\n  return null;\n}\n\nfunction isNull(object) {\n  return null === object;\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:null', {\n  kind: 'scalar',\n  resolve: resolveYamlNull,\n  construct: constructYamlNull,\n  predicate: isNull,\n  represent: {\n    canonical: function () { return '~';    },\n    lowercase: function () { return 'null'; },\n    uppercase: function () { return 'NULL'; },\n    camelcase: function () { return 'Null'; }\n  },\n  defaultStyle: 'lowercase'\n});\n",
    "'use strict';\n\nvar Type = require('../type');\n\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\nvar _toString       = Object.prototype.toString;\n\nfunction resolveYamlOmap(data) {\n  var objectKeys = [], index, length, pair, pairKey, pairHasKey,\n      object = data;\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n    pairHasKey = false;\n\n    if ('[object Object]' !== _toString.call(pair)) {\n      return false;\n    }\n\n    for (pairKey in pair) {\n      if (_hasOwnProperty.call(pair, pairKey)) {\n        if (!pairHasKey) {\n          pairHasKey = true;\n        } else {\n          return false;\n        }\n      }\n    }\n\n    if (!pairHasKey) {\n      return false;\n    }\n\n    if (-1 === objectKeys.indexOf(pairKey)) {\n      objectKeys.push(pairKey);\n    } else {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:omap', {\n  kind: 'sequence',\n  resolve: resolveYamlOmap\n});\n",
    "'use strict';\n\nvar Type = require('../type');\n\nvar _toString = Object.prototype.toString;\n\nfunction resolveYamlPairs(data) {\n  var index, length, pair, keys, result,\n      object = data;\n\n  result = new Array(object.length);\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n\n    if ('[object Object]' !== _toString.call(pair)) {\n      return false;\n    }\n\n    keys = Object.keys(pair);\n\n    if (1 !== keys.length) {\n      return false;\n    }\n\n    result[index] = [ keys[0], pair[keys[0]] ];\n  }\n\n  return true;\n}\n\nfunction constructYamlPairs(data) {\n  var index, length, pair, keys, result,\n      object = data;\n\n  result = new Array(object.length);\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n\n    keys = Object.keys(pair);\n\n    result[index] = [ keys[0], pair[keys[0]] ];\n  }\n\n  return result;\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:pairs', {\n  kind: 'sequence',\n  resolve: resolveYamlPairs,\n  construct: constructYamlPairs\n});\n",
    "'use strict';\n\nvar Type = require('../type');\n\nmodule.exports = new Type('tag:yaml.org,2002:seq', {\n  kind: 'sequence'\n});\n",
    "'use strict';\n\nvar Type = require('../type');\n\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction resolveYamlSet(data) {\n  var key, object = data;\n\n  for (key in object) {\n    if (_hasOwnProperty.call(object, key)) {\n      if (null !== object[key]) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:set', {\n  kind: 'mapping',\n  resolve: resolveYamlSet\n});\n",
    "'use strict';\n\nvar Type = require('../type');\n\nmodule.exports = new Type('tag:yaml.org,2002:str', {\n  kind: 'scalar'\n});\n",
    "'use strict';\n\nvar Type = require('../type');\n\nvar YAML_TIMESTAMP_REGEXP = new RegExp(\n  '^([0-9][0-9][0-9][0-9])'          + // [1] year\n  '-([0-9][0-9]?)'                   + // [2] month\n  '-([0-9][0-9]?)'                   + // [3] day\n  '(?:(?:[Tt]|[ \\\\t]+)'              + // ...\n  '([0-9][0-9]?)'                    + // [4] hour\n  ':([0-9][0-9])'                    + // [5] minute\n  ':([0-9][0-9])'                    + // [6] second\n  '(?:\\\\.([0-9]*))?'                 + // [7] fraction\n  '(?:[ \\\\t]*(Z|([-+])([0-9][0-9]?)' + // [8] tz [9] tz_sign [10] tz_hour\n  '(?::([0-9][0-9]))?))?)?$');         // [11] tz_minute\n\nfunction resolveYamlTimestamp(data) {\n  var match, year, month, day, hour, minute, second, fraction = 0,\n      delta = null, tz_hour, tz_minute, date;\n\n  match = YAML_TIMESTAMP_REGEXP.exec(data);\n\n  if (null === match) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction constructYamlTimestamp(data) {\n  var match, year, month, day, hour, minute, second, fraction = 0,\n      delta = null, tz_hour, tz_minute, date;\n\n  match = YAML_TIMESTAMP_REGEXP.exec(data);\n\n  if (null === match) {\n    throw new Error('Date resolve error');\n  }\n\n  // match: [1] year [2] month [3] day\n\n  year = +(match[1]);\n  month = +(match[2]) - 1; // JS month starts with 0\n  day = +(match[3]);\n\n  if (!match[4]) { // no hour\n    return new Date(Date.UTC(year, month, day));\n  }\n\n  // match: [4] hour [5] minute [6] second [7] fraction\n\n  hour = +(match[4]);\n  minute = +(match[5]);\n  second = +(match[6]);\n\n  if (match[7]) {\n    fraction = match[7].slice(0, 3);\n    while (fraction.length < 3) { // milli-seconds\n      fraction += '0';\n    }\n    fraction = +fraction;\n  }\n\n  // match: [8] tz [9] tz_sign [10] tz_hour [11] tz_minute\n\n  if (match[9]) {\n    tz_hour = +(match[10]);\n    tz_minute = +(match[11] || 0);\n    delta = (tz_hour * 60 + tz_minute) * 60000; // delta in mili-seconds\n    if ('-' === match[9]) {\n      delta = -delta;\n    }\n  }\n\n  date = new Date(Date.UTC(year, month, day, hour, minute, second, fraction));\n\n  if (delta) {\n    date.setTime(date.getTime() - delta);\n  }\n\n  return date;\n}\n\nfunction representYamlTimestamp(object /*, style*/) {\n  return object.toISOString();\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:timestamp', {\n  kind: 'scalar',\n  resolve: resolveYamlTimestamp,\n  construct: constructYamlTimestamp,\n  instanceOf: Date,\n  represent: representYamlTimestamp\n});\n",
    "/*\n  Copyright (C) 2012 Ariya Hidayat <ariya.hidayat@gmail.com>\n  Copyright (C) 2012 Mathias Bynens <mathias@qiwi.be>\n  Copyright (C) 2012 Joost-Wim Boekesteijn <joost-wim@boekesteijn.nl>\n  Copyright (C) 2012 Kris Kowal <kris.kowal@cixar.com>\n  Copyright (C) 2012 Yusuke Suzuki <utatane.tea@gmail.com>\n  Copyright (C) 2012 Arpad Borsos <arpad.borsos@googlemail.com>\n  Copyright (C) 2011 Ariya Hidayat <ariya.hidayat@gmail.com>\n\n  Redistribution and use in source and binary forms, with or without\n  modification, are permitted provided that the following conditions are met:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n    * Redistributions in binary form must reproduce the above copyright\n      notice, this list of conditions and the following disclaimer in the\n      documentation and/or other materials provided with the distribution.\n\n  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n  ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY\n  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n/*jslint bitwise:true plusplus:true */\n/*global esprima:true, define:true, exports:true, window: true,\nthrowError: true, createLiteral: true, generateStatement: true,\nparseAssignmentExpression: true, parseBlock: true, parseExpression: true,\nparseFunctionDeclaration: true, parseFunctionExpression: true,\nparseFunctionSourceElements: true, parseVariableIdentifier: true,\nparseLeftHandSideExpression: true,\nparseStatement: true, parseSourceElement: true */\n\n(function (root, factory) {\n    'use strict';\n\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js,\n    // Rhino, and plain browser loading.\n    if (typeof define === 'function' && define.amd) {\n        define(['exports'], factory);\n    } else if (typeof exports !== 'undefined') {\n        factory(exports);\n    } else {\n        factory((root.esprima = {}));\n    }\n}(this, function (exports) {\n    'use strict';\n\n    var Token,\n        TokenName,\n        Syntax,\n        PropertyKind,\n        Messages,\n        Regex,\n        source,\n        strict,\n        index,\n        lineNumber,\n        lineStart,\n        length,\n        buffer,\n        state,\n        extra;\n\n    Token = {\n        BooleanLiteral: 1,\n        EOF: 2,\n        Identifier: 3,\n        Keyword: 4,\n        NullLiteral: 5,\n        NumericLiteral: 6,\n        Punctuator: 7,\n        StringLiteral: 8\n    };\n\n    TokenName = {};\n    TokenName[Token.BooleanLiteral] = 'Boolean';\n    TokenName[Token.EOF] = '<end>';\n    TokenName[Token.Identifier] = 'Identifier';\n    TokenName[Token.Keyword] = 'Keyword';\n    TokenName[Token.NullLiteral] = 'Null';\n    TokenName[Token.NumericLiteral] = 'Numeric';\n    TokenName[Token.Punctuator] = 'Punctuator';\n    TokenName[Token.StringLiteral] = 'String';\n\n    Syntax = {\n        AssignmentExpression: 'AssignmentExpression',\n        ArrayExpression: 'ArrayExpression',\n        BlockStatement: 'BlockStatement',\n        BinaryExpression: 'BinaryExpression',\n        BreakStatement: 'BreakStatement',\n        CallExpression: 'CallExpression',\n        CatchClause: 'CatchClause',\n        ConditionalExpression: 'ConditionalExpression',\n        ContinueStatement: 'ContinueStatement',\n        DoWhileStatement: 'DoWhileStatement',\n        DebuggerStatement: 'DebuggerStatement',\n        EmptyStatement: 'EmptyStatement',\n        ExpressionStatement: 'ExpressionStatement',\n        ForStatement: 'ForStatement',\n        ForInStatement: 'ForInStatement',\n        FunctionDeclaration: 'FunctionDeclaration',\n        FunctionExpression: 'FunctionExpression',\n        Identifier: 'Identifier',\n        IfStatement: 'IfStatement',\n        Literal: 'Literal',\n        LabeledStatement: 'LabeledStatement',\n        LogicalExpression: 'LogicalExpression',\n        MemberExpression: 'MemberExpression',\n        NewExpression: 'NewExpression',\n        ObjectExpression: 'ObjectExpression',\n        Program: 'Program',\n        Property: 'Property',\n        ReturnStatement: 'ReturnStatement',\n        SequenceExpression: 'SequenceExpression',\n        SwitchStatement: 'SwitchStatement',\n        SwitchCase: 'SwitchCase',\n        ThisExpression: 'ThisExpression',\n        ThrowStatement: 'ThrowStatement',\n        TryStatement: 'TryStatement',\n        UnaryExpression: 'UnaryExpression',\n        UpdateExpression: 'UpdateExpression',\n        VariableDeclaration: 'VariableDeclaration',\n        VariableDeclarator: 'VariableDeclarator',\n        WhileStatement: 'WhileStatement',\n        WithStatement: 'WithStatement'\n    };\n\n    PropertyKind = {\n        Data: 1,\n        Get: 2,\n        Set: 4\n    };\n\n    // Error messages should be identical to V8.\n    Messages = {\n        UnexpectedToken:  'Unexpected token %0',\n        UnexpectedNumber:  'Unexpected number',\n        UnexpectedString:  'Unexpected string',\n        UnexpectedIdentifier:  'Unexpected identifier',\n        UnexpectedReserved:  'Unexpected reserved word',\n        UnexpectedEOS:  'Unexpected end of input',\n        NewlineAfterThrow:  'Illegal newline after throw',\n        InvalidRegExp: 'Invalid regular expression',\n        UnterminatedRegExp:  'Invalid regular expression: missing /',\n        InvalidLHSInAssignment:  'Invalid left-hand side in assignment',\n        InvalidLHSInForIn:  'Invalid left-hand side in for-in',\n        MultipleDefaultsInSwitch: 'More than one default clause in switch statement',\n        NoCatchOrFinally:  'Missing catch or finally after try',\n        UnknownLabel: 'Undefined label \\'%0\\'',\n        Redeclaration: '%0 \\'%1\\' has already been declared',\n        IllegalContinue: 'Illegal continue statement',\n        IllegalBreak: 'Illegal break statement',\n        IllegalReturn: 'Illegal return statement',\n        StrictModeWith:  'Strict mode code may not include a with statement',\n        StrictCatchVariable:  'Catch variable may not be eval or arguments in strict mode',\n        StrictVarName:  'Variable name may not be eval or arguments in strict mode',\n        StrictParamName:  'Parameter name eval or arguments is not allowed in strict mode',\n        StrictParamDupe: 'Strict mode function may not have duplicate parameter names',\n        StrictFunctionName:  'Function name may not be eval or arguments in strict mode',\n        StrictOctalLiteral:  'Octal literals are not allowed in strict mode.',\n        StrictDelete:  'Delete of an unqualified identifier in strict mode.',\n        StrictDuplicateProperty:  'Duplicate data property in object literal not allowed in strict mode',\n        AccessorDataProperty:  'Object literal may not have data and accessor property with the same name',\n        AccessorGetSet:  'Object literal may not have multiple get/set accessors with the same name',\n        StrictLHSAssignment:  'Assignment to eval or arguments is not allowed in strict mode',\n        StrictLHSPostfix:  'Postfix increment/decrement may not have eval or arguments operand in strict mode',\n        StrictLHSPrefix:  'Prefix increment/decrement may not have eval or arguments operand in strict mode',\n        StrictReservedWord:  'Use of future reserved word in strict mode'\n    };\n\n    // See also tools/generate-unicode-regex.py.\n    Regex = {\n        NonAsciiIdentifierStart: new RegExp('[\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc]'),\n        NonAsciiIdentifierPart: new RegExp('[\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0300-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u0483-\\u0487\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0610-\\u061a\\u0620-\\u0669\\u066e-\\u06d3\\u06d5-\\u06dc\\u06df-\\u06e8\\u06ea-\\u06fc\\u06ff\\u0710-\\u074a\\u074d-\\u07b1\\u07c0-\\u07f5\\u07fa\\u0800-\\u082d\\u0840-\\u085b\\u08a0\\u08a2-\\u08ac\\u08e4-\\u08fe\\u0900-\\u0963\\u0966-\\u096f\\u0971-\\u0977\\u0979-\\u097f\\u0981-\\u0983\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bc-\\u09c4\\u09c7\\u09c8\\u09cb-\\u09ce\\u09d7\\u09dc\\u09dd\\u09df-\\u09e3\\u09e6-\\u09f1\\u0a01-\\u0a03\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a59-\\u0a5c\\u0a5e\\u0a66-\\u0a75\\u0a81-\\u0a83\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abc-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ad0\\u0ae0-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3c-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5c\\u0b5d\\u0b5f-\\u0b63\\u0b66-\\u0b6f\\u0b71\\u0b82\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd0\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d-\\u0c44\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c58\\u0c59\\u0c60-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbc-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0cde\\u0ce0-\\u0ce3\\u0ce6-\\u0cef\\u0cf1\\u0cf2\\u0d02\\u0d03\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d-\\u0d44\\u0d46-\\u0d48\\u0d4a-\\u0d4e\\u0d57\\u0d60-\\u0d63\\u0d66-\\u0d6f\\u0d7a-\\u0d7f\\u0d82\\u0d83\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e01-\\u0e3a\\u0e40-\\u0e4e\\u0e50-\\u0e59\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb9\\u0ebb-\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0edc-\\u0edf\\u0f00\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f3e-\\u0f47\\u0f49-\\u0f6c\\u0f71-\\u0f84\\u0f86-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1049\\u1050-\\u109d\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u135d-\\u135f\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176c\\u176e-\\u1770\\u1772\\u1773\\u1780-\\u17d3\\u17d7\\u17dc\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1920-\\u192b\\u1930-\\u193b\\u1946-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19b0-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a1b\\u1a20-\\u1a5e\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1aa7\\u1b00-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1b80-\\u1bf3\\u1c00-\\u1c37\\u1c40-\\u1c49\\u1c4d-\\u1c7d\\u1cd0-\\u1cd2\\u1cd4-\\u1cf6\\u1d00-\\u1de6\\u1dfc-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u200c\\u200d\\u203f\\u2040\\u2054\\u2071\\u207f\\u2090-\\u209c\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d7f-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2de0-\\u2dff\\u2e2f\\u3005-\\u3007\\u3021-\\u302f\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u3099\\u309a\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua62b\\ua640-\\ua66f\\ua674-\\ua67d\\ua67f-\\ua697\\ua69f-\\ua6f1\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua827\\ua840-\\ua873\\ua880-\\ua8c4\\ua8d0-\\ua8d9\\ua8e0-\\ua8f7\\ua8fb\\ua900-\\ua92d\\ua930-\\ua953\\ua960-\\ua97c\\ua980-\\ua9c0\\ua9cf-\\ua9d9\\uaa00-\\uaa36\\uaa40-\\uaa4d\\uaa50-\\uaa59\\uaa60-\\uaa76\\uaa7a\\uaa7b\\uaa80-\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaef\\uaaf2-\\uaaf6\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabea\\uabec\\uabed\\uabf0-\\uabf9\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff10-\\uff19\\uff21-\\uff3a\\uff3f\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc]')\n    };\n\n    // Ensure the condition is true, otherwise throw an error.\n    // This is only to have a better contract semantic, i.e. another safety net\n    // to catch a logic error. The condition shall be fulfilled in normal case.\n    // Do NOT use this to enforce a certain condition on any user input.\n\n    function assert(condition, message) {\n        if (!condition) {\n            throw new Error('ASSERT: ' + message);\n        }\n    }\n\n    function sliceSource(from, to) {\n        return source.slice(from, to);\n    }\n\n    if (typeof 'esprima'[0] === 'undefined') {\n        sliceSource = function sliceArraySource(from, to) {\n            return source.slice(from, to).join('');\n        };\n    }\n\n    function isDecimalDigit(ch) {\n        return '0123456789'.indexOf(ch) >= 0;\n    }\n\n    function isHexDigit(ch) {\n        return '0123456789abcdefABCDEF'.indexOf(ch) >= 0;\n    }\n\n    function isOctalDigit(ch) {\n        return '01234567'.indexOf(ch) >= 0;\n    }\n\n\n    // 7.2 White Space\n\n    function isWhiteSpace(ch) {\n        return (ch === ' ') || (ch === '\\u0009') || (ch === '\\u000B') ||\n            (ch === '\\u000C') || (ch === '\\u00A0') ||\n            (ch.charCodeAt(0) >= 0x1680 &&\n             '\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\uFEFF'.indexOf(ch) >= 0);\n    }\n\n    // 7.3 Line Terminators\n\n    function isLineTerminator(ch) {\n        return (ch === '\\n' || ch === '\\r' || ch === '\\u2028' || ch === '\\u2029');\n    }\n\n    // 7.6 Identifier Names and Identifiers\n\n    function isIdentifierStart(ch) {\n        return (ch === '$') || (ch === '_') || (ch === '\\\\') ||\n            (ch >= 'a' && ch <= 'z') || (ch >= 'A' && ch <= 'Z') ||\n            ((ch.charCodeAt(0) >= 0x80) && Regex.NonAsciiIdentifierStart.test(ch));\n    }\n\n    function isIdentifierPart(ch) {\n        return (ch === '$') || (ch === '_') || (ch === '\\\\') ||\n            (ch >= 'a' && ch <= 'z') || (ch >= 'A' && ch <= 'Z') ||\n            ((ch >= '0') && (ch <= '9')) ||\n            ((ch.charCodeAt(0) >= 0x80) && Regex.NonAsciiIdentifierPart.test(ch));\n    }\n\n    // 7.6.1.2 Future Reserved Words\n\n    function isFutureReservedWord(id) {\n        switch (id) {\n\n        // Future reserved words.\n        case 'class':\n        case 'enum':\n        case 'export':\n        case 'extends':\n        case 'import':\n        case 'super':\n            return true;\n        }\n\n        return false;\n    }\n\n    function isStrictModeReservedWord(id) {\n        switch (id) {\n\n        // Strict Mode reserved words.\n        case 'implements':\n        case 'interface':\n        case 'package':\n        case 'private':\n        case 'protected':\n        case 'public':\n        case 'static':\n        case 'yield':\n        case 'let':\n            return true;\n        }\n\n        return false;\n    }\n\n    function isRestrictedWord(id) {\n        return id === 'eval' || id === 'arguments';\n    }\n\n    // 7.6.1.1 Keywords\n\n    function isKeyword(id) {\n        var keyword = false;\n        switch (id.length) {\n        case 2:\n            keyword = (id === 'if') || (id === 'in') || (id === 'do');\n            break;\n        case 3:\n            keyword = (id === 'var') || (id === 'for') || (id === 'new') || (id === 'try');\n            break;\n        case 4:\n            keyword = (id === 'this') || (id === 'else') || (id === 'case') || (id === 'void') || (id === 'with');\n            break;\n        case 5:\n            keyword = (id === 'while') || (id === 'break') || (id === 'catch') || (id === 'throw');\n            break;\n        case 6:\n            keyword = (id === 'return') || (id === 'typeof') || (id === 'delete') || (id === 'switch');\n            break;\n        case 7:\n            keyword = (id === 'default') || (id === 'finally');\n            break;\n        case 8:\n            keyword = (id === 'function') || (id === 'continue') || (id === 'debugger');\n            break;\n        case 10:\n            keyword = (id === 'instanceof');\n            break;\n        }\n\n        if (keyword) {\n            return true;\n        }\n\n        switch (id) {\n        // Future reserved words.\n        // 'const' is specialized as Keyword in V8.\n        case 'const':\n            return true;\n\n        // For compatiblity to SpiderMonkey and ES.next\n        case 'yield':\n        case 'let':\n            return true;\n        }\n\n        if (strict && isStrictModeReservedWord(id)) {\n            return true;\n        }\n\n        return isFutureReservedWord(id);\n    }\n\n    // 7.4 Comments\n\n    function skipComment() {\n        var ch, blockComment, lineComment;\n\n        blockComment = false;\n        lineComment = false;\n\n        while (index < length) {\n            ch = source[index];\n\n            if (lineComment) {\n                ch = source[index++];\n                if (isLineTerminator(ch)) {\n                    lineComment = false;\n                    if (ch === '\\r' && source[index] === '\\n') {\n                        ++index;\n                    }\n                    ++lineNumber;\n                    lineStart = index;\n                }\n            } else if (blockComment) {\n                if (isLineTerminator(ch)) {\n                    if (ch === '\\r' && source[index + 1] === '\\n') {\n                        ++index;\n                    }\n                    ++lineNumber;\n                    ++index;\n                    lineStart = index;\n                    if (index >= length) {\n                        throwError({}, Messages.UnexpectedToken, 'ILLEGAL');\n                    }\n                } else {\n                    ch = source[index++];\n                    if (index >= length) {\n                        throwError({}, Messages.UnexpectedToken, 'ILLEGAL');\n                    }\n                    if (ch === '*') {\n                        ch = source[index];\n                        if (ch === '/') {\n                            ++index;\n                            blockComment = false;\n                        }\n                    }\n                }\n            } else if (ch === '/') {\n                ch = source[index + 1];\n                if (ch === '/') {\n                    index += 2;\n                    lineComment = true;\n                } else if (ch === '*') {\n                    index += 2;\n                    blockComment = true;\n                    if (index >= length) {\n                        throwError({}, Messages.UnexpectedToken, 'ILLEGAL');\n                    }\n                } else {\n                    break;\n                }\n            } else if (isWhiteSpace(ch)) {\n                ++index;\n            } else if (isLineTerminator(ch)) {\n                ++index;\n                if (ch ===  '\\r' && source[index] === '\\n') {\n                    ++index;\n                }\n                ++lineNumber;\n                lineStart = index;\n            } else {\n                break;\n            }\n        }\n    }\n\n    function scanHexEscape(prefix) {\n        var i, len, ch, code = 0;\n\n        len = (prefix === 'u') ? 4 : 2;\n        for (i = 0; i < len; ++i) {\n            if (index < length && isHexDigit(source[index])) {\n                ch = source[index++];\n                code = code * 16 + '0123456789abcdef'.indexOf(ch.toLowerCase());\n            } else {\n                return '';\n            }\n        }\n        return String.fromCharCode(code);\n    }\n\n    function scanIdentifier() {\n        var ch, start, id, restore;\n\n        ch = source[index];\n        if (!isIdentifierStart(ch)) {\n            return;\n        }\n\n        start = index;\n        if (ch === '\\\\') {\n            ++index;\n            if (source[index] !== 'u') {\n                return;\n            }\n            ++index;\n            restore = index;\n            ch = scanHexEscape('u');\n            if (ch) {\n                if (ch === '\\\\' || !isIdentifierStart(ch)) {\n                    return;\n                }\n                id = ch;\n            } else {\n                index = restore;\n                id = 'u';\n            }\n        } else {\n            id = source[index++];\n        }\n\n        while (index < length) {\n            ch = source[index];\n            if (!isIdentifierPart(ch)) {\n                break;\n            }\n            if (ch === '\\\\') {\n                ++index;\n                if (source[index] !== 'u') {\n                    return;\n                }\n                ++index;\n                restore = index;\n                ch = scanHexEscape('u');\n                if (ch) {\n                    if (ch === '\\\\' || !isIdentifierPart(ch)) {\n                        return;\n                    }\n                    id += ch;\n                } else {\n                    index = restore;\n                    id += 'u';\n                }\n            } else {\n                id += source[index++];\n            }\n        }\n\n        // There is no keyword or literal with only one character.\n        // Thus, it must be an identifier.\n        if (id.length === 1) {\n            return {\n                type: Token.Identifier,\n                value: id,\n                lineNumber: lineNumber,\n                lineStart: lineStart,\n                range: [start, index]\n            };\n        }\n\n        if (isKeyword(id)) {\n            return {\n                type: Token.Keyword,\n                value: id,\n                lineNumber: lineNumber,\n                lineStart: lineStart,\n                range: [start, index]\n            };\n        }\n\n        // 7.8.1 Null Literals\n\n        if (id === 'null') {\n            return {\n                type: Token.NullLiteral,\n                value: id,\n                lineNumber: lineNumber,\n                lineStart: lineStart,\n                range: [start, index]\n            };\n        }\n\n        // 7.8.2 Boolean Literals\n\n        if (id === 'true' || id === 'false') {\n            return {\n                type: Token.BooleanLiteral,\n                value: id,\n                lineNumber: lineNumber,\n                lineStart: lineStart,\n                range: [start, index]\n            };\n        }\n\n        return {\n            type: Token.Identifier,\n            value: id,\n            lineNumber: lineNumber,\n            lineStart: lineStart,\n            range: [start, index]\n        };\n    }\n\n    // 7.7 Punctuators\n\n    function scanPunctuator() {\n        var start = index,\n            ch1 = source[index],\n            ch2,\n            ch3,\n            ch4;\n\n        // Check for most common single-character punctuators.\n\n        if (ch1 === ';' || ch1 === '{' || ch1 === '}') {\n            ++index;\n            return {\n                type: Token.Punctuator,\n                value: ch1,\n                lineNumber: lineNumber,\n                lineStart: lineStart,\n                range: [start, index]\n            };\n        }\n\n        if (ch1 === ',' || ch1 === '(' || ch1 === ')') {\n            ++index;\n            return {\n                type: Token.Punctuator,\n                value: ch1,\n                lineNumber: lineNumber,\n                lineStart: lineStart,\n                range: [start, index]\n            };\n        }\n\n        // Dot (.) can also start a floating-point number, hence the need\n        // to check the next character.\n\n        ch2 = source[index + 1];\n        if (ch1 === '.' && !isDecimalDigit(ch2)) {\n            return {\n                type: Token.Punctuator,\n                value: source[index++],\n                lineNumber: lineNumber,\n                lineStart: lineStart,\n                range: [start, index]\n            };\n        }\n\n        // Peek more characters.\n\n        ch3 = source[index + 2];\n        ch4 = source[index + 3];\n\n        // 4-character punctuator: >>>=\n\n        if (ch1 === '>' && ch2 === '>' && ch3 === '>') {\n            if (ch4 === '=') {\n                index += 4;\n                return {\n                    type: Token.Punctuator,\n                    value: '>>>=',\n                    lineNumber: lineNumber,\n                    lineStart: lineStart,\n                    range: [start, index]\n                };\n            }\n        }\n\n        // 3-character punctuators: === !== >>> <<= >>=\n\n        if (ch1 === '=' && ch2 === '=' && ch3 === '=') {\n            index += 3;\n            return {\n                type: Token.Punctuator,\n                value: '===',\n                lineNumber: lineNumber,\n                lineStart: lineStart,\n                range: [start, index]\n            };\n        }\n\n        if (ch1 === '!' && ch2 === '=' && ch3 === '=') {\n            index += 3;\n            return {\n                type: Token.Punctuator,\n                value: '!==',\n                lineNumber: lineNumber,\n                lineStart: lineStart,\n                range: [start, index]\n            };\n        }\n\n        if (ch1 === '>' && ch2 === '>' && ch3 === '>') {\n            index += 3;\n            return {\n                type: Token.Punctuator,\n                value: '>>>',\n                lineNumber: lineNumber,\n                lineStart: lineStart,\n                range: [start, index]\n            };\n        }\n\n        if (ch1 === '<' && ch2 === '<' && ch3 === '=') {\n            index += 3;\n            return {\n                type: Token.Punctuator,\n                value: '<<=',\n                lineNumber: lineNumber,\n                lineStart: lineStart,\n                range: [start, index]\n            };\n        }\n\n        if (ch1 === '>' && ch2 === '>' && ch3 === '=') {\n            index += 3;\n            return {\n                type: Token.Punctuator,\n                value: '>>=',\n                lineNumber: lineNumber,\n                lineStart: lineStart,\n                range: [start, index]\n            };\n        }\n\n        // 2-character punctuators: <= >= == != ++ -- << >> && ||\n        // += -= *= %= &= |= ^= /=\n\n        if (ch2 === '=') {\n            if ('<>=!+-*%&|^/'.indexOf(ch1) >= 0) {\n                index += 2;\n                return {\n                    type: Token.Punctuator,\n                    value: ch1 + ch2,\n                    lineNumber: lineNumber,\n                    lineStart: lineStart,\n                    range: [start, index]\n                };\n            }\n        }\n\n        if (ch1 === ch2 && ('+-<>&|'.indexOf(ch1) >= 0)) {\n            if ('+-<>&|'.indexOf(ch2) >= 0) {\n                index += 2;\n                return {\n                    type: Token.Punctuator,\n                    value: ch1 + ch2,\n                    lineNumber: lineNumber,\n                    lineStart: lineStart,\n                    range: [start, index]\n                };\n            }\n        }\n\n        // The remaining 1-character punctuators.\n\n        if ('[]<>+-*%&|^!~?:=/'.indexOf(ch1) >= 0) {\n            return {\n                type: Token.Punctuator,\n                value: source[index++],\n                lineNumber: lineNumber,\n                lineStart: lineStart,\n                range: [start, index]\n            };\n        }\n    }\n\n    // 7.8.3 Numeric Literals\n\n    function scanNumericLiteral() {\n        var number, start, ch;\n\n        ch = source[index];\n        assert(isDecimalDigit(ch) || (ch === '.'),\n            'Numeric literal must start with a decimal digit or a decimal point');\n\n        start = index;\n        number = '';\n        if (ch !== '.') {\n            number = source[index++];\n            ch = source[index];\n\n            // Hex number starts with '0x'.\n            // Octal number starts with '0'.\n            if (number === '0') {\n                if (ch === 'x' || ch === 'X') {\n                    number += source[index++];\n                    while (index < length) {\n                        ch = source[index];\n                        if (!isHexDigit(ch)) {\n                            break;\n                        }\n                        number += source[index++];\n                    }\n\n                    if (number.length <= 2) {\n                        // only 0x\n                        throwError({}, Messages.UnexpectedToken, 'ILLEGAL');\n                    }\n\n                    if (index < length) {\n                        ch = source[index];\n                        if (isIdentifierStart(ch)) {\n                            throwError({}, Messages.UnexpectedToken, 'ILLEGAL');\n                        }\n                    }\n                    return {\n                        type: Token.NumericLiteral,\n                        value: parseInt(number, 16),\n                        lineNumber: lineNumber,\n                        lineStart: lineStart,\n                        range: [start, index]\n                    };\n                } else if (isOctalDigit(ch)) {\n                    number += source[index++];\n                    while (index < length) {\n                        ch = source[index];\n                        if (!isOctalDigit(ch)) {\n                            break;\n                        }\n                        number += source[index++];\n                    }\n\n                    if (index < length) {\n                        ch = source[index];\n                        if (isIdentifierStart(ch) || isDecimalDigit(ch)) {\n                            throwError({}, Messages.UnexpectedToken, 'ILLEGAL');\n                        }\n                    }\n                    return {\n                        type: Token.NumericLiteral,\n                        value: parseInt(number, 8),\n                        octal: true,\n                        lineNumber: lineNumber,\n                        lineStart: lineStart,\n                        range: [start, index]\n                    };\n                }\n\n                // decimal number starts with '0' such as '09' is illegal.\n                if (isDecimalDigit(ch)) {\n                    throwError({}, Messages.UnexpectedToken, 'ILLEGAL');\n                }\n            }\n\n            while (index < length) {\n                ch = source[index];\n                if (!isDecimalDigit(ch)) {\n                    break;\n                }\n                number += source[index++];\n            }\n        }\n\n        if (ch === '.') {\n            number += source[index++];\n            while (index < length) {\n                ch = source[index];\n                if (!isDecimalDigit(ch)) {\n                    break;\n                }\n                number += source[index++];\n            }\n        }\n\n        if (ch === 'e' || ch === 'E') {\n            number += source[index++];\n\n            ch = source[index];\n            if (ch === '+' || ch === '-') {\n                number += source[index++];\n            }\n\n            ch = source[index];\n            if (isDecimalDigit(ch)) {\n                number += source[index++];\n                while (index < length) {\n                    ch = source[index];\n                    if (!isDecimalDigit(ch)) {\n                        break;\n                    }\n                    number += source[index++];\n                }\n            } else {\n                ch = 'character ' + ch;\n                if (index >= length) {\n                    ch = '<end>';\n                }\n                throwError({}, Messages.UnexpectedToken, 'ILLEGAL');\n            }\n        }\n\n        if (index < length) {\n            ch = source[index];\n            if (isIdentifierStart(ch)) {\n                throwError({}, Messages.UnexpectedToken, 'ILLEGAL');\n            }\n        }\n\n        return {\n            type: Token.NumericLiteral,\n            value: parseFloat(number),\n            lineNumber: lineNumber,\n            lineStart: lineStart,\n            range: [start, index]\n        };\n    }\n\n    // 7.8.4 String Literals\n\n    function scanStringLiteral() {\n        var str = '', quote, start, ch, code, unescaped, restore, octal = false;\n\n        quote = source[index];\n        assert((quote === '\\'' || quote === '\"'),\n            'String literal must starts with a quote');\n\n        start = index;\n        ++index;\n\n        while (index < length) {\n            ch = source[index++];\n\n            if (ch === quote) {\n                quote = '';\n                break;\n            } else if (ch === '\\\\') {\n                ch = source[index++];\n                if (!isLineTerminator(ch)) {\n                    switch (ch) {\n                    case 'n':\n                        str += '\\n';\n                        break;\n                    case 'r':\n                        str += '\\r';\n                        break;\n                    case 't':\n                        str += '\\t';\n                        break;\n                    case 'u':\n                    case 'x':\n                        restore = index;\n                        unescaped = scanHexEscape(ch);\n                        if (unescaped) {\n                            str += unescaped;\n                        } else {\n                            index = restore;\n                            str += ch;\n                        }\n                        break;\n                    case 'b':\n                        str += '\\b';\n                        break;\n                    case 'f':\n                        str += '\\f';\n                        break;\n                    case 'v':\n                        str += '\\x0B';\n                        break;\n\n                    default:\n                        if (isOctalDigit(ch)) {\n                            code = '01234567'.indexOf(ch);\n\n                            // \\0 is not octal escape sequence\n                            if (code !== 0) {\n                                octal = true;\n                            }\n\n                            if (index < length && isOctalDigit(source[index])) {\n                                octal = true;\n                                code = code * 8 + '01234567'.indexOf(source[index++]);\n\n                                // 3 digits are only allowed when string starts\n                                // with 0, 1, 2, 3\n                                if ('0123'.indexOf(ch) >= 0 &&\n                                        index < length &&\n                                        isOctalDigit(source[index])) {\n                                    code = code * 8 + '01234567'.indexOf(source[index++]);\n                                }\n                            }\n                            str += String.fromCharCode(code);\n                        } else {\n                            str += ch;\n                        }\n                        break;\n                    }\n                } else {\n                    ++lineNumber;\n                    if (ch ===  '\\r' && source[index] === '\\n') {\n                        ++index;\n                    }\n                }\n            } else if (isLineTerminator(ch)) {\n                break;\n            } else {\n                str += ch;\n            }\n        }\n\n        if (quote !== '') {\n            throwError({}, Messages.UnexpectedToken, 'ILLEGAL');\n        }\n\n        return {\n            type: Token.StringLiteral,\n            value: str,\n            octal: octal,\n            lineNumber: lineNumber,\n            lineStart: lineStart,\n            range: [start, index]\n        };\n    }\n\n    function scanRegExp() {\n        var str, ch, start, pattern, flags, value, classMarker = false, restore, terminated = false;\n\n        buffer = null;\n        skipComment();\n\n        start = index;\n        ch = source[index];\n        assert(ch === '/', 'Regular expression literal must start with a slash');\n        str = source[index++];\n\n        while (index < length) {\n            ch = source[index++];\n            str += ch;\n            if (ch === '\\\\') {\n                ch = source[index++];\n                // ECMA-262 7.8.5\n                if (isLineTerminator(ch)) {\n                    throwError({}, Messages.UnterminatedRegExp);\n                }\n                str += ch;\n            } else if (classMarker) {\n                if (ch === ']') {\n                    classMarker = false;\n                }\n            } else {\n                if (ch === '/') {\n                    terminated = true;\n                    break;\n                } else if (ch === '[') {\n                    classMarker = true;\n                } else if (isLineTerminator(ch)) {\n                    throwError({}, Messages.UnterminatedRegExp);\n                }\n            }\n        }\n\n        if (!terminated) {\n            throwError({}, Messages.UnterminatedRegExp);\n        }\n\n        // Exclude leading and trailing slash.\n        pattern = str.substr(1, str.length - 2);\n\n        flags = '';\n        while (index < length) {\n            ch = source[index];\n            if (!isIdentifierPart(ch)) {\n                break;\n            }\n\n            ++index;\n            if (ch === '\\\\' && index < length) {\n                ch = source[index];\n                if (ch === 'u') {\n                    ++index;\n                    restore = index;\n                    ch = scanHexEscape('u');\n                    if (ch) {\n                        flags += ch;\n                        str += '\\\\u';\n                        for (; restore < index; ++restore) {\n                            str += source[restore];\n                        }\n                    } else {\n                        index = restore;\n                        flags += 'u';\n                        str += '\\\\u';\n                    }\n                } else {\n                    str += '\\\\';\n                }\n            } else {\n                flags += ch;\n                str += ch;\n            }\n        }\n\n        try {\n            value = new RegExp(pattern, flags);\n        } catch (e) {\n            throwError({}, Messages.InvalidRegExp);\n        }\n\n        return {\n            literal: str,\n            value: value,\n            range: [start, index]\n        };\n    }\n\n    function isIdentifierName(token) {\n        return token.type === Token.Identifier ||\n            token.type === Token.Keyword ||\n            token.type === Token.BooleanLiteral ||\n            token.type === Token.NullLiteral;\n    }\n\n    function advance() {\n        var ch, token;\n\n        skipComment();\n\n        if (index >= length) {\n            return {\n                type: Token.EOF,\n                lineNumber: lineNumber,\n                lineStart: lineStart,\n                range: [index, index]\n            };\n        }\n\n        token = scanPunctuator();\n        if (typeof token !== 'undefined') {\n            return token;\n        }\n\n        ch = source[index];\n\n        if (ch === '\\'' || ch === '\"') {\n            return scanStringLiteral();\n        }\n\n        if (ch === '.' || isDecimalDigit(ch)) {\n            return scanNumericLiteral();\n        }\n\n        token = scanIdentifier();\n        if (typeof token !== 'undefined') {\n            return token;\n        }\n\n        throwError({}, Messages.UnexpectedToken, 'ILLEGAL');\n    }\n\n    function lex() {\n        var token;\n\n        if (buffer) {\n            index = buffer.range[1];\n            lineNumber = buffer.lineNumber;\n            lineStart = buffer.lineStart;\n            token = buffer;\n            buffer = null;\n            return token;\n        }\n\n        buffer = null;\n        return advance();\n    }\n\n    function lookahead() {\n        var pos, line, start;\n\n        if (buffer !== null) {\n            return buffer;\n        }\n\n        pos = index;\n        line = lineNumber;\n        start = lineStart;\n        buffer = advance();\n        index = pos;\n        lineNumber = line;\n        lineStart = start;\n\n        return buffer;\n    }\n\n    // Return true if there is a line terminator before the next token.\n\n    function peekLineTerminator() {\n        var pos, line, start, found;\n\n        pos = index;\n        line = lineNumber;\n        start = lineStart;\n        skipComment();\n        found = lineNumber !== line;\n        index = pos;\n        lineNumber = line;\n        lineStart = start;\n\n        return found;\n    }\n\n    // Throw an exception\n\n    function throwError(token, messageFormat) {\n        var error,\n            args = Array.prototype.slice.call(arguments, 2),\n            msg = messageFormat.replace(\n                /%(\\d)/g,\n                function (whole, index) {\n                    return args[index] || '';\n                }\n            );\n\n        if (typeof token.lineNumber === 'number') {\n            error = new Error('Line ' + token.lineNumber + ': ' + msg);\n            error.index = token.range[0];\n            error.lineNumber = token.lineNumber;\n            error.column = token.range[0] - lineStart + 1;\n        } else {\n            error = new Error('Line ' + lineNumber + ': ' + msg);\n            error.index = index;\n            error.lineNumber = lineNumber;\n            error.column = index - lineStart + 1;\n        }\n\n        throw error;\n    }\n\n    function throwErrorTolerant() {\n        try {\n            throwError.apply(null, arguments);\n        } catch (e) {\n            if (extra.errors) {\n                extra.errors.push(e);\n            } else {\n                throw e;\n            }\n        }\n    }\n\n\n    // Throw an exception because of the token.\n\n    function throwUnexpected(token) {\n        if (token.type === Token.EOF) {\n            throwError(token, Messages.UnexpectedEOS);\n        }\n\n        if (token.type === Token.NumericLiteral) {\n            throwError(token, Messages.UnexpectedNumber);\n        }\n\n        if (token.type === Token.StringLiteral) {\n            throwError(token, Messages.UnexpectedString);\n        }\n\n        if (token.type === Token.Identifier) {\n            throwError(token, Messages.UnexpectedIdentifier);\n        }\n\n        if (token.type === Token.Keyword) {\n            if (isFutureReservedWord(token.value)) {\n                throwError(token, Messages.UnexpectedReserved);\n            } else if (strict && isStrictModeReservedWord(token.value)) {\n                throwErrorTolerant(token, Messages.StrictReservedWord);\n                return;\n            }\n            throwError(token, Messages.UnexpectedToken, token.value);\n        }\n\n        // BooleanLiteral, NullLiteral, or Punctuator.\n        throwError(token, Messages.UnexpectedToken, token.value);\n    }\n\n    // Expect the next token to match the specified punctuator.\n    // If not, an exception will be thrown.\n\n    function expect(value) {\n        var token = lex();\n        if (token.type !== Token.Punctuator || token.value !== value) {\n            throwUnexpected(token);\n        }\n    }\n\n    // Expect the next token to match the specified keyword.\n    // If not, an exception will be thrown.\n\n    function expectKeyword(keyword) {\n        var token = lex();\n        if (token.type !== Token.Keyword || token.value !== keyword) {\n            throwUnexpected(token);\n        }\n    }\n\n    // Return true if the next token matches the specified punctuator.\n\n    function match(value) {\n        var token = lookahead();\n        return token.type === Token.Punctuator && token.value === value;\n    }\n\n    // Return true if the next token matches the specified keyword\n\n    function matchKeyword(keyword) {\n        var token = lookahead();\n        return token.type === Token.Keyword && token.value === keyword;\n    }\n\n    // Return true if the next token is an assignment operator\n\n    function matchAssign() {\n        var token = lookahead(),\n            op = token.value;\n\n        if (token.type !== Token.Punctuator) {\n            return false;\n        }\n        return op === '=' ||\n            op === '*=' ||\n            op === '/=' ||\n            op === '%=' ||\n            op === '+=' ||\n            op === '-=' ||\n            op === '<<=' ||\n            op === '>>=' ||\n            op === '>>>=' ||\n            op === '&=' ||\n            op === '^=' ||\n            op === '|=';\n    }\n\n    function consumeSemicolon() {\n        var token, line;\n\n        // Catch the very common case first.\n        if (source[index] === ';') {\n            lex();\n            return;\n        }\n\n        line = lineNumber;\n        skipComment();\n        if (lineNumber !== line) {\n            return;\n        }\n\n        if (match(';')) {\n            lex();\n            return;\n        }\n\n        token = lookahead();\n        if (token.type !== Token.EOF && !match('}')) {\n            throwUnexpected(token);\n        }\n    }\n\n    // Return true if provided expression is LeftHandSideExpression\n\n    function isLeftHandSide(expr) {\n        return expr.type === Syntax.Identifier || expr.type === Syntax.MemberExpression;\n    }\n\n    // 11.1.4 Array Initialiser\n\n    function parseArrayInitialiser() {\n        var elements = [];\n\n        expect('[');\n\n        while (!match(']')) {\n            if (match(',')) {\n                lex();\n                elements.push(null);\n            } else {\n                elements.push(parseAssignmentExpression());\n\n                if (!match(']')) {\n                    expect(',');\n                }\n            }\n        }\n\n        expect(']');\n\n        return {\n            type: Syntax.ArrayExpression,\n            elements: elements\n        };\n    }\n\n    // 11.1.5 Object Initialiser\n\n    function parsePropertyFunction(param, first) {\n        var previousStrict, body;\n\n        previousStrict = strict;\n        body = parseFunctionSourceElements();\n        if (first && strict && isRestrictedWord(param[0].name)) {\n            throwErrorTolerant(first, Messages.StrictParamName);\n        }\n        strict = previousStrict;\n\n        return {\n            type: Syntax.FunctionExpression,\n            id: null,\n            params: param,\n            defaults: [],\n            body: body,\n            rest: null,\n            generator: false,\n            expression: false\n        };\n    }\n\n    function parseObjectPropertyKey() {\n        var token = lex();\n\n        // Note: This function is called only from parseObjectProperty(), where\n        // EOF and Punctuator tokens are already filtered out.\n\n        if (token.type === Token.StringLiteral || token.type === Token.NumericLiteral) {\n            if (strict && token.octal) {\n                throwErrorTolerant(token, Messages.StrictOctalLiteral);\n            }\n            return createLiteral(token);\n        }\n\n        return {\n            type: Syntax.Identifier,\n            name: token.value\n        };\n    }\n\n    function parseObjectProperty() {\n        var token, key, id, param;\n\n        token = lookahead();\n\n        if (token.type === Token.Identifier) {\n\n            id = parseObjectPropertyKey();\n\n            // Property Assignment: Getter and Setter.\n\n            if (token.value === 'get' && !match(':')) {\n                key = parseObjectPropertyKey();\n                expect('(');\n                expect(')');\n                return {\n                    type: Syntax.Property,\n                    key: key,\n                    value: parsePropertyFunction([]),\n                    kind: 'get'\n                };\n            } else if (token.value === 'set' && !match(':')) {\n                key = parseObjectPropertyKey();\n                expect('(');\n                token = lookahead();\n                if (token.type !== Token.Identifier) {\n                    expect(')');\n                    throwErrorTolerant(token, Messages.UnexpectedToken, token.value);\n                    return {\n                        type: Syntax.Property,\n                        key: key,\n                        value: parsePropertyFunction([]),\n                        kind: 'set'\n                    };\n                } else {\n                    param = [ parseVariableIdentifier() ];\n                    expect(')');\n                    return {\n                        type: Syntax.Property,\n                        key: key,\n                        value: parsePropertyFunction(param, token),\n                        kind: 'set'\n                    };\n                }\n            } else {\n                expect(':');\n                return {\n                    type: Syntax.Property,\n                    key: id,\n                    value: parseAssignmentExpression(),\n                    kind: 'init'\n                };\n            }\n        } else if (token.type === Token.EOF || token.type === Token.Punctuator) {\n            throwUnexpected(token);\n        } else {\n            key = parseObjectPropertyKey();\n            expect(':');\n            return {\n                type: Syntax.Property,\n                key: key,\n                value: parseAssignmentExpression(),\n                kind: 'init'\n            };\n        }\n    }\n\n    function parseObjectInitialiser() {\n        var properties = [], property, name, kind, map = {}, toString = String;\n\n        expect('{');\n\n        while (!match('}')) {\n            property = parseObjectProperty();\n\n            if (property.key.type === Syntax.Identifier) {\n                name = property.key.name;\n            } else {\n                name = toString(property.key.value);\n            }\n            kind = (property.kind === 'init') ? PropertyKind.Data : (property.kind === 'get') ? PropertyKind.Get : PropertyKind.Set;\n            if (Object.prototype.hasOwnProperty.call(map, name)) {\n                if (map[name] === PropertyKind.Data) {\n                    if (strict && kind === PropertyKind.Data) {\n                        throwErrorTolerant({}, Messages.StrictDuplicateProperty);\n                    } else if (kind !== PropertyKind.Data) {\n                        throwErrorTolerant({}, Messages.AccessorDataProperty);\n                    }\n                } else {\n                    if (kind === PropertyKind.Data) {\n                        throwErrorTolerant({}, Messages.AccessorDataProperty);\n                    } else if (map[name] & kind) {\n                        throwErrorTolerant({}, Messages.AccessorGetSet);\n                    }\n                }\n                map[name] |= kind;\n            } else {\n                map[name] = kind;\n            }\n\n            properties.push(property);\n\n            if (!match('}')) {\n                expect(',');\n            }\n        }\n\n        expect('}');\n\n        return {\n            type: Syntax.ObjectExpression,\n            properties: properties\n        };\n    }\n\n    // 11.1.6 The Grouping Operator\n\n    function parseGroupExpression() {\n        var expr;\n\n        expect('(');\n\n        expr = parseExpression();\n\n        expect(')');\n\n        return expr;\n    }\n\n\n    // 11.1 Primary Expressions\n\n    function parsePrimaryExpression() {\n        var token = lookahead(),\n            type = token.type;\n\n        if (type === Token.Identifier) {\n            return {\n                type: Syntax.Identifier,\n                name: lex().value\n            };\n        }\n\n        if (type === Token.StringLiteral || type === Token.NumericLiteral) {\n            if (strict && token.octal) {\n                throwErrorTolerant(token, Messages.StrictOctalLiteral);\n            }\n            return createLiteral(lex());\n        }\n\n        if (type === Token.Keyword) {\n            if (matchKeyword('this')) {\n                lex();\n                return {\n                    type: Syntax.ThisExpression\n                };\n            }\n\n            if (matchKeyword('function')) {\n                return parseFunctionExpression();\n            }\n        }\n\n        if (type === Token.BooleanLiteral) {\n            lex();\n            token.value = (token.value === 'true');\n            return createLiteral(token);\n        }\n\n        if (type === Token.NullLiteral) {\n            lex();\n            token.value = null;\n            return createLiteral(token);\n        }\n\n        if (match('[')) {\n            return parseArrayInitialiser();\n        }\n\n        if (match('{')) {\n            return parseObjectInitialiser();\n        }\n\n        if (match('(')) {\n            return parseGroupExpression();\n        }\n\n        if (match('/') || match('/=')) {\n            return createLiteral(scanRegExp());\n        }\n\n        return throwUnexpected(lex());\n    }\n\n    // 11.2 Left-Hand-Side Expressions\n\n    function parseArguments() {\n        var args = [];\n\n        expect('(');\n\n        if (!match(')')) {\n            while (index < length) {\n                args.push(parseAssignmentExpression());\n                if (match(')')) {\n                    break;\n                }\n                expect(',');\n            }\n        }\n\n        expect(')');\n\n        return args;\n    }\n\n    function parseNonComputedProperty() {\n        var token = lex();\n\n        if (!isIdentifierName(token)) {\n            throwUnexpected(token);\n        }\n\n        return {\n            type: Syntax.Identifier,\n            name: token.value\n        };\n    }\n\n    function parseNonComputedMember() {\n        expect('.');\n\n        return parseNonComputedProperty();\n    }\n\n    function parseComputedMember() {\n        var expr;\n\n        expect('[');\n\n        expr = parseExpression();\n\n        expect(']');\n\n        return expr;\n    }\n\n    function parseNewExpression() {\n        var expr;\n\n        expectKeyword('new');\n\n        expr = {\n            type: Syntax.NewExpression,\n            callee: parseLeftHandSideExpression(),\n            'arguments': []\n        };\n\n        if (match('(')) {\n            expr['arguments'] = parseArguments();\n        }\n\n        return expr;\n    }\n\n    function parseLeftHandSideExpressionAllowCall() {\n        var expr;\n\n        expr = matchKeyword('new') ? parseNewExpression() : parsePrimaryExpression();\n\n        while (match('.') || match('[') || match('(')) {\n            if (match('(')) {\n                expr = {\n                    type: Syntax.CallExpression,\n                    callee: expr,\n                    'arguments': parseArguments()\n                };\n            } else if (match('[')) {\n                expr = {\n                    type: Syntax.MemberExpression,\n                    computed: true,\n                    object: expr,\n                    property: parseComputedMember()\n                };\n            } else {\n                expr = {\n                    type: Syntax.MemberExpression,\n                    computed: false,\n                    object: expr,\n                    property: parseNonComputedMember()\n                };\n            }\n        }\n\n        return expr;\n    }\n\n\n    function parseLeftHandSideExpression() {\n        var expr;\n\n        expr = matchKeyword('new') ? parseNewExpression() : parsePrimaryExpression();\n\n        while (match('.') || match('[')) {\n            if (match('[')) {\n                expr = {\n                    type: Syntax.MemberExpression,\n                    computed: true,\n                    object: expr,\n                    property: parseComputedMember()\n                };\n            } else {\n                expr = {\n                    type: Syntax.MemberExpression,\n                    computed: false,\n                    object: expr,\n                    property: parseNonComputedMember()\n                };\n            }\n        }\n\n        return expr;\n    }\n\n    // 11.3 Postfix Expressions\n\n    function parsePostfixExpression() {\n        var expr = parseLeftHandSideExpressionAllowCall(), token;\n\n        token = lookahead();\n        if (token.type !== Token.Punctuator) {\n            return expr;\n        }\n\n        if ((match('++') || match('--')) && !peekLineTerminator()) {\n            // 11.3.1, 11.3.2\n            if (strict && expr.type === Syntax.Identifier && isRestrictedWord(expr.name)) {\n                throwErrorTolerant({}, Messages.StrictLHSPostfix);\n            }\n            if (!isLeftHandSide(expr)) {\n                throwErrorTolerant({}, Messages.InvalidLHSInAssignment);\n            }\n\n            expr = {\n                type: Syntax.UpdateExpression,\n                operator: lex().value,\n                argument: expr,\n                prefix: false\n            };\n        }\n\n        return expr;\n    }\n\n    // 11.4 Unary Operators\n\n    function parseUnaryExpression() {\n        var token, expr;\n\n        token = lookahead();\n        if (token.type !== Token.Punctuator && token.type !== Token.Keyword) {\n            return parsePostfixExpression();\n        }\n\n        if (match('++') || match('--')) {\n            token = lex();\n            expr = parseUnaryExpression();\n            // 11.4.4, 11.4.5\n            if (strict && expr.type === Syntax.Identifier && isRestrictedWord(expr.name)) {\n                throwErrorTolerant({}, Messages.StrictLHSPrefix);\n            }\n\n            if (!isLeftHandSide(expr)) {\n                throwErrorTolerant({}, Messages.InvalidLHSInAssignment);\n            }\n\n            expr = {\n                type: Syntax.UpdateExpression,\n                operator: token.value,\n                argument: expr,\n                prefix: true\n            };\n            return expr;\n        }\n\n        if (match('+') || match('-') || match('~') || match('!')) {\n            expr = {\n                type: Syntax.UnaryExpression,\n                operator: lex().value,\n                argument: parseUnaryExpression(),\n                prefix: true\n            };\n            return expr;\n        }\n\n        if (matchKeyword('delete') || matchKeyword('void') || matchKeyword('typeof')) {\n            expr = {\n                type: Syntax.UnaryExpression,\n                operator: lex().value,\n                argument: parseUnaryExpression(),\n                prefix: true\n            };\n            if (strict && expr.operator === 'delete' && expr.argument.type === Syntax.Identifier) {\n                throwErrorTolerant({}, Messages.StrictDelete);\n            }\n            return expr;\n        }\n\n        return parsePostfixExpression();\n    }\n\n    // 11.5 Multiplicative Operators\n\n    function parseMultiplicativeExpression() {\n        var expr = parseUnaryExpression();\n\n        while (match('*') || match('/') || match('%')) {\n            expr = {\n                type: Syntax.BinaryExpression,\n                operator: lex().value,\n                left: expr,\n                right: parseUnaryExpression()\n            };\n        }\n\n        return expr;\n    }\n\n    // 11.6 Additive Operators\n\n    function parseAdditiveExpression() {\n        var expr = parseMultiplicativeExpression();\n\n        while (match('+') || match('-')) {\n            expr = {\n                type: Syntax.BinaryExpression,\n                operator: lex().value,\n                left: expr,\n                right: parseMultiplicativeExpression()\n            };\n        }\n\n        return expr;\n    }\n\n    // 11.7 Bitwise Shift Operators\n\n    function parseShiftExpression() {\n        var expr = parseAdditiveExpression();\n\n        while (match('<<') || match('>>') || match('>>>')) {\n            expr = {\n                type: Syntax.BinaryExpression,\n                operator: lex().value,\n                left: expr,\n                right: parseAdditiveExpression()\n            };\n        }\n\n        return expr;\n    }\n    // 11.8 Relational Operators\n\n    function parseRelationalExpression() {\n        var expr, previousAllowIn;\n\n        previousAllowIn = state.allowIn;\n        state.allowIn = true;\n\n        expr = parseShiftExpression();\n\n        while (match('<') || match('>') || match('<=') || match('>=') || (previousAllowIn && matchKeyword('in')) || matchKeyword('instanceof')) {\n            expr = {\n                type: Syntax.BinaryExpression,\n                operator: lex().value,\n                left: expr,\n                right: parseShiftExpression()\n            };\n        }\n\n        state.allowIn = previousAllowIn;\n        return expr;\n    }\n\n    // 11.9 Equality Operators\n\n    function parseEqualityExpression() {\n        var expr = parseRelationalExpression();\n\n        while (match('==') || match('!=') || match('===') || match('!==')) {\n            expr = {\n                type: Syntax.BinaryExpression,\n                operator: lex().value,\n                left: expr,\n                right: parseRelationalExpression()\n            };\n        }\n\n        return expr;\n    }\n\n    // 11.10 Binary Bitwise Operators\n\n    function parseBitwiseANDExpression() {\n        var expr = parseEqualityExpression();\n\n        while (match('&')) {\n            lex();\n            expr = {\n                type: Syntax.BinaryExpression,\n                operator: '&',\n                left: expr,\n                right: parseEqualityExpression()\n            };\n        }\n\n        return expr;\n    }\n\n    function parseBitwiseXORExpression() {\n        var expr = parseBitwiseANDExpression();\n\n        while (match('^')) {\n            lex();\n            expr = {\n                type: Syntax.BinaryExpression,\n                operator: '^',\n                left: expr,\n                right: parseBitwiseANDExpression()\n            };\n        }\n\n        return expr;\n    }\n\n    function parseBitwiseORExpression() {\n        var expr = parseBitwiseXORExpression();\n\n        while (match('|')) {\n            lex();\n            expr = {\n                type: Syntax.BinaryExpression,\n                operator: '|',\n                left: expr,\n                right: parseBitwiseXORExpression()\n            };\n        }\n\n        return expr;\n    }\n\n    // 11.11 Binary Logical Operators\n\n    function parseLogicalANDExpression() {\n        var expr = parseBitwiseORExpression();\n\n        while (match('&&')) {\n            lex();\n            expr = {\n                type: Syntax.LogicalExpression,\n                operator: '&&',\n                left: expr,\n                right: parseBitwiseORExpression()\n            };\n        }\n\n        return expr;\n    }\n\n    function parseLogicalORExpression() {\n        var expr = parseLogicalANDExpression();\n\n        while (match('||')) {\n            lex();\n            expr = {\n                type: Syntax.LogicalExpression,\n                operator: '||',\n                left: expr,\n                right: parseLogicalANDExpression()\n            };\n        }\n\n        return expr;\n    }\n\n    // 11.12 Conditional Operator\n\n    function parseConditionalExpression() {\n        var expr, previousAllowIn, consequent;\n\n        expr = parseLogicalORExpression();\n\n        if (match('?')) {\n            lex();\n            previousAllowIn = state.allowIn;\n            state.allowIn = true;\n            consequent = parseAssignmentExpression();\n            state.allowIn = previousAllowIn;\n            expect(':');\n\n            expr = {\n                type: Syntax.ConditionalExpression,\n                test: expr,\n                consequent: consequent,\n                alternate: parseAssignmentExpression()\n            };\n        }\n\n        return expr;\n    }\n\n    // 11.13 Assignment Operators\n\n    function parseAssignmentExpression() {\n        var token, expr;\n\n        token = lookahead();\n        expr = parseConditionalExpression();\n\n        if (matchAssign()) {\n            // LeftHandSideExpression\n            if (!isLeftHandSide(expr)) {\n                throwErrorTolerant({}, Messages.InvalidLHSInAssignment);\n            }\n\n            // 11.13.1\n            if (strict && expr.type === Syntax.Identifier && isRestrictedWord(expr.name)) {\n                throwErrorTolerant(token, Messages.StrictLHSAssignment);\n            }\n\n            expr = {\n                type: Syntax.AssignmentExpression,\n                operator: lex().value,\n                left: expr,\n                right: parseAssignmentExpression()\n            };\n        }\n\n        return expr;\n    }\n\n    // 11.14 Comma Operator\n\n    function parseExpression() {\n        var expr = parseAssignmentExpression();\n\n        if (match(',')) {\n            expr = {\n                type: Syntax.SequenceExpression,\n                expressions: [ expr ]\n            };\n\n            while (index < length) {\n                if (!match(',')) {\n                    break;\n                }\n                lex();\n                expr.expressions.push(parseAssignmentExpression());\n            }\n\n        }\n        return expr;\n    }\n\n    // 12.1 Block\n\n    function parseStatementList() {\n        var list = [],\n            statement;\n\n        while (index < length) {\n            if (match('}')) {\n                break;\n            }\n            statement = parseSourceElement();\n            if (typeof statement === 'undefined') {\n                break;\n            }\n            list.push(statement);\n        }\n\n        return list;\n    }\n\n    function parseBlock() {\n        var block;\n\n        expect('{');\n\n        block = parseStatementList();\n\n        expect('}');\n\n        return {\n            type: Syntax.BlockStatement,\n            body: block\n        };\n    }\n\n    // 12.2 Variable Statement\n\n    function parseVariableIdentifier() {\n        var token = lex();\n\n        if (token.type !== Token.Identifier) {\n            throwUnexpected(token);\n        }\n\n        return {\n            type: Syntax.Identifier,\n            name: token.value\n        };\n    }\n\n    function parseVariableDeclaration(kind) {\n        var id = parseVariableIdentifier(),\n            init = null;\n\n        // 12.2.1\n        if (strict && isRestrictedWord(id.name)) {\n            throwErrorTolerant({}, Messages.StrictVarName);\n        }\n\n        if (kind === 'const') {\n            expect('=');\n            init = parseAssignmentExpression();\n        } else if (match('=')) {\n            lex();\n            init = parseAssignmentExpression();\n        }\n\n        return {\n            type: Syntax.VariableDeclarator,\n            id: id,\n            init: init\n        };\n    }\n\n    function parseVariableDeclarationList(kind) {\n        var list = [];\n\n        do {\n            list.push(parseVariableDeclaration(kind));\n            if (!match(',')) {\n                break;\n            }\n            lex();\n        } while (index < length);\n\n        return list;\n    }\n\n    function parseVariableStatement() {\n        var declarations;\n\n        expectKeyword('var');\n\n        declarations = parseVariableDeclarationList();\n\n        consumeSemicolon();\n\n        return {\n            type: Syntax.VariableDeclaration,\n            declarations: declarations,\n            kind: 'var'\n        };\n    }\n\n    // kind may be `const` or `let`\n    // Both are experimental and not in the specification yet.\n    // see http://wiki.ecmascript.org/doku.php?id=harmony:const\n    // and http://wiki.ecmascript.org/doku.php?id=harmony:let\n    function parseConstLetDeclaration(kind) {\n        var declarations;\n\n        expectKeyword(kind);\n\n        declarations = parseVariableDeclarationList(kind);\n\n        consumeSemicolon();\n\n        return {\n            type: Syntax.VariableDeclaration,\n            declarations: declarations,\n            kind: kind\n        };\n    }\n\n    // 12.3 Empty Statement\n\n    function parseEmptyStatement() {\n        expect(';');\n\n        return {\n            type: Syntax.EmptyStatement\n        };\n    }\n\n    // 12.4 Expression Statement\n\n    function parseExpressionStatement() {\n        var expr = parseExpression();\n\n        consumeSemicolon();\n\n        return {\n            type: Syntax.ExpressionStatement,\n            expression: expr\n        };\n    }\n\n    // 12.5 If statement\n\n    function parseIfStatement() {\n        var test, consequent, alternate;\n\n        expectKeyword('if');\n\n        expect('(');\n\n        test = parseExpression();\n\n        expect(')');\n\n        consequent = parseStatement();\n\n        if (matchKeyword('else')) {\n            lex();\n            alternate = parseStatement();\n        } else {\n            alternate = null;\n        }\n\n        return {\n            type: Syntax.IfStatement,\n            test: test,\n            consequent: consequent,\n            alternate: alternate\n        };\n    }\n\n    // 12.6 Iteration Statements\n\n    function parseDoWhileStatement() {\n        var body, test, oldInIteration;\n\n        expectKeyword('do');\n\n        oldInIteration = state.inIteration;\n        state.inIteration = true;\n\n        body = parseStatement();\n\n        state.inIteration = oldInIteration;\n\n        expectKeyword('while');\n\n        expect('(');\n\n        test = parseExpression();\n\n        expect(')');\n\n        if (match(';')) {\n            lex();\n        }\n\n        return {\n            type: Syntax.DoWhileStatement,\n            body: body,\n            test: test\n        };\n    }\n\n    function parseWhileStatement() {\n        var test, body, oldInIteration;\n\n        expectKeyword('while');\n\n        expect('(');\n\n        test = parseExpression();\n\n        expect(')');\n\n        oldInIteration = state.inIteration;\n        state.inIteration = true;\n\n        body = parseStatement();\n\n        state.inIteration = oldInIteration;\n\n        return {\n            type: Syntax.WhileStatement,\n            test: test,\n            body: body\n        };\n    }\n\n    function parseForVariableDeclaration() {\n        var token = lex();\n\n        return {\n            type: Syntax.VariableDeclaration,\n            declarations: parseVariableDeclarationList(),\n            kind: token.value\n        };\n    }\n\n    function parseForStatement() {\n        var init, test, update, left, right, body, oldInIteration;\n\n        init = test = update = null;\n\n        expectKeyword('for');\n\n        expect('(');\n\n        if (match(';')) {\n            lex();\n        } else {\n            if (matchKeyword('var') || matchKeyword('let')) {\n                state.allowIn = false;\n                init = parseForVariableDeclaration();\n                state.allowIn = true;\n\n                if (init.declarations.length === 1 && matchKeyword('in')) {\n                    lex();\n                    left = init;\n                    right = parseExpression();\n                    init = null;\n                }\n            } else {\n                state.allowIn = false;\n                init = parseExpression();\n                state.allowIn = true;\n\n                if (matchKeyword('in')) {\n                    // LeftHandSideExpression\n                    if (!isLeftHandSide(init)) {\n                        throwErrorTolerant({}, Messages.InvalidLHSInForIn);\n                    }\n\n                    lex();\n                    left = init;\n                    right = parseExpression();\n                    init = null;\n                }\n            }\n\n            if (typeof left === 'undefined') {\n                expect(';');\n            }\n        }\n\n        if (typeof left === 'undefined') {\n\n            if (!match(';')) {\n                test = parseExpression();\n            }\n            expect(';');\n\n            if (!match(')')) {\n                update = parseExpression();\n            }\n        }\n\n        expect(')');\n\n        oldInIteration = state.inIteration;\n        state.inIteration = true;\n\n        body = parseStatement();\n\n        state.inIteration = oldInIteration;\n\n        if (typeof left === 'undefined') {\n            return {\n                type: Syntax.ForStatement,\n                init: init,\n                test: test,\n                update: update,\n                body: body\n            };\n        }\n\n        return {\n            type: Syntax.ForInStatement,\n            left: left,\n            right: right,\n            body: body,\n            each: false\n        };\n    }\n\n    // 12.7 The continue statement\n\n    function parseContinueStatement() {\n        var token, label = null;\n\n        expectKeyword('continue');\n\n        // Optimize the most common form: 'continue;'.\n        if (source[index] === ';') {\n            lex();\n\n            if (!state.inIteration) {\n                throwError({}, Messages.IllegalContinue);\n            }\n\n            return {\n                type: Syntax.ContinueStatement,\n                label: null\n            };\n        }\n\n        if (peekLineTerminator()) {\n            if (!state.inIteration) {\n                throwError({}, Messages.IllegalContinue);\n            }\n\n            return {\n                type: Syntax.ContinueStatement,\n                label: null\n            };\n        }\n\n        token = lookahead();\n        if (token.type === Token.Identifier) {\n            label = parseVariableIdentifier();\n\n            if (!Object.prototype.hasOwnProperty.call(state.labelSet, label.name)) {\n                throwError({}, Messages.UnknownLabel, label.name);\n            }\n        }\n\n        consumeSemicolon();\n\n        if (label === null && !state.inIteration) {\n            throwError({}, Messages.IllegalContinue);\n        }\n\n        return {\n            type: Syntax.ContinueStatement,\n            label: label\n        };\n    }\n\n    // 12.8 The break statement\n\n    function parseBreakStatement() {\n        var token, label = null;\n\n        expectKeyword('break');\n\n        // Optimize the most common form: 'break;'.\n        if (source[index] === ';') {\n            lex();\n\n            if (!(state.inIteration || state.inSwitch)) {\n                throwError({}, Messages.IllegalBreak);\n            }\n\n            return {\n                type: Syntax.BreakStatement,\n                label: null\n            };\n        }\n\n        if (peekLineTerminator()) {\n            if (!(state.inIteration || state.inSwitch)) {\n                throwError({}, Messages.IllegalBreak);\n            }\n\n            return {\n                type: Syntax.BreakStatement,\n                label: null\n            };\n        }\n\n        token = lookahead();\n        if (token.type === Token.Identifier) {\n            label = parseVariableIdentifier();\n\n            if (!Object.prototype.hasOwnProperty.call(state.labelSet, label.name)) {\n                throwError({}, Messages.UnknownLabel, label.name);\n            }\n        }\n\n        consumeSemicolon();\n\n        if (label === null && !(state.inIteration || state.inSwitch)) {\n            throwError({}, Messages.IllegalBreak);\n        }\n\n        return {\n            type: Syntax.BreakStatement,\n            label: label\n        };\n    }\n\n    // 12.9 The return statement\n\n    function parseReturnStatement() {\n        var token, argument = null;\n\n        expectKeyword('return');\n\n        if (!state.inFunctionBody) {\n            throwErrorTolerant({}, Messages.IllegalReturn);\n        }\n\n        // 'return' followed by a space and an identifier is very common.\n        if (source[index] === ' ') {\n            if (isIdentifierStart(source[index + 1])) {\n                argument = parseExpression();\n                consumeSemicolon();\n                return {\n                    type: Syntax.ReturnStatement,\n                    argument: argument\n                };\n            }\n        }\n\n        if (peekLineTerminator()) {\n            return {\n                type: Syntax.ReturnStatement,\n                argument: null\n            };\n        }\n\n        if (!match(';')) {\n            token = lookahead();\n            if (!match('}') && token.type !== Token.EOF) {\n                argument = parseExpression();\n            }\n        }\n\n        consumeSemicolon();\n\n        return {\n            type: Syntax.ReturnStatement,\n            argument: argument\n        };\n    }\n\n    // 12.10 The with statement\n\n    function parseWithStatement() {\n        var object, body;\n\n        if (strict) {\n            throwErrorTolerant({}, Messages.StrictModeWith);\n        }\n\n        expectKeyword('with');\n\n        expect('(');\n\n        object = parseExpression();\n\n        expect(')');\n\n        body = parseStatement();\n\n        return {\n            type: Syntax.WithStatement,\n            object: object,\n            body: body\n        };\n    }\n\n    // 12.10 The swith statement\n\n    function parseSwitchCase() {\n        var test,\n            consequent = [],\n            statement;\n\n        if (matchKeyword('default')) {\n            lex();\n            test = null;\n        } else {\n            expectKeyword('case');\n            test = parseExpression();\n        }\n        expect(':');\n\n        while (index < length) {\n            if (match('}') || matchKeyword('default') || matchKeyword('case')) {\n                break;\n            }\n            statement = parseStatement();\n            if (typeof statement === 'undefined') {\n                break;\n            }\n            consequent.push(statement);\n        }\n\n        return {\n            type: Syntax.SwitchCase,\n            test: test,\n            consequent: consequent\n        };\n    }\n\n    function parseSwitchStatement() {\n        var discriminant, cases, clause, oldInSwitch, defaultFound;\n\n        expectKeyword('switch');\n\n        expect('(');\n\n        discriminant = parseExpression();\n\n        expect(')');\n\n        expect('{');\n\n        cases = [];\n\n        if (match('}')) {\n            lex();\n            return {\n                type: Syntax.SwitchStatement,\n                discriminant: discriminant,\n                cases: cases\n            };\n        }\n\n        oldInSwitch = state.inSwitch;\n        state.inSwitch = true;\n        defaultFound = false;\n\n        while (index < length) {\n            if (match('}')) {\n                break;\n            }\n            clause = parseSwitchCase();\n            if (clause.test === null) {\n                if (defaultFound) {\n                    throwError({}, Messages.MultipleDefaultsInSwitch);\n                }\n                defaultFound = true;\n            }\n            cases.push(clause);\n        }\n\n        state.inSwitch = oldInSwitch;\n\n        expect('}');\n\n        return {\n            type: Syntax.SwitchStatement,\n            discriminant: discriminant,\n            cases: cases\n        };\n    }\n\n    // 12.13 The throw statement\n\n    function parseThrowStatement() {\n        var argument;\n\n        expectKeyword('throw');\n\n        if (peekLineTerminator()) {\n            throwError({}, Messages.NewlineAfterThrow);\n        }\n\n        argument = parseExpression();\n\n        consumeSemicolon();\n\n        return {\n            type: Syntax.ThrowStatement,\n            argument: argument\n        };\n    }\n\n    // 12.14 The try statement\n\n    function parseCatchClause() {\n        var param;\n\n        expectKeyword('catch');\n\n        expect('(');\n        if (match(')')) {\n            throwUnexpected(lookahead());\n        }\n\n        param = parseVariableIdentifier();\n        // 12.14.1\n        if (strict && isRestrictedWord(param.name)) {\n            throwErrorTolerant({}, Messages.StrictCatchVariable);\n        }\n\n        expect(')');\n\n        return {\n            type: Syntax.CatchClause,\n            param: param,\n            body: parseBlock()\n        };\n    }\n\n    function parseTryStatement() {\n        var block, handlers = [], finalizer = null;\n\n        expectKeyword('try');\n\n        block = parseBlock();\n\n        if (matchKeyword('catch')) {\n            handlers.push(parseCatchClause());\n        }\n\n        if (matchKeyword('finally')) {\n            lex();\n            finalizer = parseBlock();\n        }\n\n        if (handlers.length === 0 && !finalizer) {\n            throwError({}, Messages.NoCatchOrFinally);\n        }\n\n        return {\n            type: Syntax.TryStatement,\n            block: block,\n            guardedHandlers: [],\n            handlers: handlers,\n            finalizer: finalizer\n        };\n    }\n\n    // 12.15 The debugger statement\n\n    function parseDebuggerStatement() {\n        expectKeyword('debugger');\n\n        consumeSemicolon();\n\n        return {\n            type: Syntax.DebuggerStatement\n        };\n    }\n\n    // 12 Statements\n\n    function parseStatement() {\n        var token = lookahead(),\n            expr,\n            labeledBody;\n\n        if (token.type === Token.EOF) {\n            throwUnexpected(token);\n        }\n\n        if (token.type === Token.Punctuator) {\n            switch (token.value) {\n            case ';':\n                return parseEmptyStatement();\n            case '{':\n                return parseBlock();\n            case '(':\n                return parseExpressionStatement();\n            default:\n                break;\n            }\n        }\n\n        if (token.type === Token.Keyword) {\n            switch (token.value) {\n            case 'break':\n                return parseBreakStatement();\n            case 'continue':\n                return parseContinueStatement();\n            case 'debugger':\n                return parseDebuggerStatement();\n            case 'do':\n                return parseDoWhileStatement();\n            case 'for':\n                return parseForStatement();\n            case 'function':\n                return parseFunctionDeclaration();\n            case 'if':\n                return parseIfStatement();\n            case 'return':\n                return parseReturnStatement();\n            case 'switch':\n                return parseSwitchStatement();\n            case 'throw':\n                return parseThrowStatement();\n            case 'try':\n                return parseTryStatement();\n            case 'var':\n                return parseVariableStatement();\n            case 'while':\n                return parseWhileStatement();\n            case 'with':\n                return parseWithStatement();\n            default:\n                break;\n            }\n        }\n\n        expr = parseExpression();\n\n        // 12.12 Labelled Statements\n        if ((expr.type === Syntax.Identifier) && match(':')) {\n            lex();\n\n            if (Object.prototype.hasOwnProperty.call(state.labelSet, expr.name)) {\n                throwError({}, Messages.Redeclaration, 'Label', expr.name);\n            }\n\n            state.labelSet[expr.name] = true;\n            labeledBody = parseStatement();\n            delete state.labelSet[expr.name];\n\n            return {\n                type: Syntax.LabeledStatement,\n                label: expr,\n                body: labeledBody\n            };\n        }\n\n        consumeSemicolon();\n\n        return {\n            type: Syntax.ExpressionStatement,\n            expression: expr\n        };\n    }\n\n    // 13 Function Definition\n\n    function parseFunctionSourceElements() {\n        var sourceElement, sourceElements = [], token, directive, firstRestricted,\n            oldLabelSet, oldInIteration, oldInSwitch, oldInFunctionBody;\n\n        expect('{');\n\n        while (index < length) {\n            token = lookahead();\n            if (token.type !== Token.StringLiteral) {\n                break;\n            }\n\n            sourceElement = parseSourceElement();\n            sourceElements.push(sourceElement);\n            if (sourceElement.expression.type !== Syntax.Literal) {\n                // this is not directive\n                break;\n            }\n            directive = sliceSource(token.range[0] + 1, token.range[1] - 1);\n            if (directive === 'use strict') {\n                strict = true;\n                if (firstRestricted) {\n                    throwErrorTolerant(firstRestricted, Messages.StrictOctalLiteral);\n                }\n            } else {\n                if (!firstRestricted && token.octal) {\n                    firstRestricted = token;\n                }\n            }\n        }\n\n        oldLabelSet = state.labelSet;\n        oldInIteration = state.inIteration;\n        oldInSwitch = state.inSwitch;\n        oldInFunctionBody = state.inFunctionBody;\n\n        state.labelSet = {};\n        state.inIteration = false;\n        state.inSwitch = false;\n        state.inFunctionBody = true;\n\n        while (index < length) {\n            if (match('}')) {\n                break;\n            }\n            sourceElement = parseSourceElement();\n            if (typeof sourceElement === 'undefined') {\n                break;\n            }\n            sourceElements.push(sourceElement);\n        }\n\n        expect('}');\n\n        state.labelSet = oldLabelSet;\n        state.inIteration = oldInIteration;\n        state.inSwitch = oldInSwitch;\n        state.inFunctionBody = oldInFunctionBody;\n\n        return {\n            type: Syntax.BlockStatement,\n            body: sourceElements\n        };\n    }\n\n    function parseFunctionDeclaration() {\n        var id, param, params = [], body, token, stricted, firstRestricted, message, previousStrict, paramSet;\n\n        expectKeyword('function');\n        token = lookahead();\n        id = parseVariableIdentifier();\n        if (strict) {\n            if (isRestrictedWord(token.value)) {\n                throwErrorTolerant(token, Messages.StrictFunctionName);\n            }\n        } else {\n            if (isRestrictedWord(token.value)) {\n                firstRestricted = token;\n                message = Messages.StrictFunctionName;\n            } else if (isStrictModeReservedWord(token.value)) {\n                firstRestricted = token;\n                message = Messages.StrictReservedWord;\n            }\n        }\n\n        expect('(');\n\n        if (!match(')')) {\n            paramSet = {};\n            while (index < length) {\n                token = lookahead();\n                param = parseVariableIdentifier();\n                if (strict) {\n                    if (isRestrictedWord(token.value)) {\n                        stricted = token;\n                        message = Messages.StrictParamName;\n                    }\n                    if (Object.prototype.hasOwnProperty.call(paramSet, token.value)) {\n                        stricted = token;\n                        message = Messages.StrictParamDupe;\n                    }\n                } else if (!firstRestricted) {\n                    if (isRestrictedWord(token.value)) {\n                        firstRestricted = token;\n                        message = Messages.StrictParamName;\n                    } else if (isStrictModeReservedWord(token.value)) {\n                        firstRestricted = token;\n                        message = Messages.StrictReservedWord;\n                    } else if (Object.prototype.hasOwnProperty.call(paramSet, token.value)) {\n                        firstRestricted = token;\n                        message = Messages.StrictParamDupe;\n                    }\n                }\n                params.push(param);\n                paramSet[param.name] = true;\n                if (match(')')) {\n                    break;\n                }\n                expect(',');\n            }\n        }\n\n        expect(')');\n\n        previousStrict = strict;\n        body = parseFunctionSourceElements();\n        if (strict && firstRestricted) {\n            throwError(firstRestricted, message);\n        }\n        if (strict && stricted) {\n            throwErrorTolerant(stricted, message);\n        }\n        strict = previousStrict;\n\n        return {\n            type: Syntax.FunctionDeclaration,\n            id: id,\n            params: params,\n            defaults: [],\n            body: body,\n            rest: null,\n            generator: false,\n            expression: false\n        };\n    }\n\n    function parseFunctionExpression() {\n        var token, id = null, stricted, firstRestricted, message, param, params = [], body, previousStrict, paramSet;\n\n        expectKeyword('function');\n\n        if (!match('(')) {\n            token = lookahead();\n            id = parseVariableIdentifier();\n            if (strict) {\n                if (isRestrictedWord(token.value)) {\n                    throwErrorTolerant(token, Messages.StrictFunctionName);\n                }\n            } else {\n                if (isRestrictedWord(token.value)) {\n                    firstRestricted = token;\n                    message = Messages.StrictFunctionName;\n                } else if (isStrictModeReservedWord(token.value)) {\n                    firstRestricted = token;\n                    message = Messages.StrictReservedWord;\n                }\n            }\n        }\n\n        expect('(');\n\n        if (!match(')')) {\n            paramSet = {};\n            while (index < length) {\n                token = lookahead();\n                param = parseVariableIdentifier();\n                if (strict) {\n                    if (isRestrictedWord(token.value)) {\n                        stricted = token;\n                        message = Messages.StrictParamName;\n                    }\n                    if (Object.prototype.hasOwnProperty.call(paramSet, token.value)) {\n                        stricted = token;\n                        message = Messages.StrictParamDupe;\n                    }\n                } else if (!firstRestricted) {\n                    if (isRestrictedWord(token.value)) {\n                        firstRestricted = token;\n                        message = Messages.StrictParamName;\n                    } else if (isStrictModeReservedWord(token.value)) {\n                        firstRestricted = token;\n                        message = Messages.StrictReservedWord;\n                    } else if (Object.prototype.hasOwnProperty.call(paramSet, token.value)) {\n                        firstRestricted = token;\n                        message = Messages.StrictParamDupe;\n                    }\n                }\n                params.push(param);\n                paramSet[param.name] = true;\n                if (match(')')) {\n                    break;\n                }\n                expect(',');\n            }\n        }\n\n        expect(')');\n\n        previousStrict = strict;\n        body = parseFunctionSourceElements();\n        if (strict && firstRestricted) {\n            throwError(firstRestricted, message);\n        }\n        if (strict && stricted) {\n            throwErrorTolerant(stricted, message);\n        }\n        strict = previousStrict;\n\n        return {\n            type: Syntax.FunctionExpression,\n            id: id,\n            params: params,\n            defaults: [],\n            body: body,\n            rest: null,\n            generator: false,\n            expression: false\n        };\n    }\n\n    // 14 Program\n\n    function parseSourceElement() {\n        var token = lookahead();\n\n        if (token.type === Token.Keyword) {\n            switch (token.value) {\n            case 'const':\n            case 'let':\n                return parseConstLetDeclaration(token.value);\n            case 'function':\n                return parseFunctionDeclaration();\n            default:\n                return parseStatement();\n            }\n        }\n\n        if (token.type !== Token.EOF) {\n            return parseStatement();\n        }\n    }\n\n    function parseSourceElements() {\n        var sourceElement, sourceElements = [], token, directive, firstRestricted;\n\n        while (index < length) {\n            token = lookahead();\n            if (token.type !== Token.StringLiteral) {\n                break;\n            }\n\n            sourceElement = parseSourceElement();\n            sourceElements.push(sourceElement);\n            if (sourceElement.expression.type !== Syntax.Literal) {\n                // this is not directive\n                break;\n            }\n            directive = sliceSource(token.range[0] + 1, token.range[1] - 1);\n            if (directive === 'use strict') {\n                strict = true;\n                if (firstRestricted) {\n                    throwErrorTolerant(firstRestricted, Messages.StrictOctalLiteral);\n                }\n            } else {\n                if (!firstRestricted && token.octal) {\n                    firstRestricted = token;\n                }\n            }\n        }\n\n        while (index < length) {\n            sourceElement = parseSourceElement();\n            if (typeof sourceElement === 'undefined') {\n                break;\n            }\n            sourceElements.push(sourceElement);\n        }\n        return sourceElements;\n    }\n\n    function parseProgram() {\n        var program;\n        strict = false;\n        program = {\n            type: Syntax.Program,\n            body: parseSourceElements()\n        };\n        return program;\n    }\n\n    // The following functions are needed only when the option to preserve\n    // the comments is active.\n\n    function addComment(type, value, start, end, loc) {\n        assert(typeof start === 'number', 'Comment must have valid position');\n\n        // Because the way the actual token is scanned, often the comments\n        // (if any) are skipped twice during the lexical analysis.\n        // Thus, we need to skip adding a comment if the comment array already\n        // handled it.\n        if (extra.comments.length > 0) {\n            if (extra.comments[extra.comments.length - 1].range[1] > start) {\n                return;\n            }\n        }\n\n        extra.comments.push({\n            type: type,\n            value: value,\n            range: [start, end],\n            loc: loc\n        });\n    }\n\n    function scanComment() {\n        var comment, ch, loc, start, blockComment, lineComment;\n\n        comment = '';\n        blockComment = false;\n        lineComment = false;\n\n        while (index < length) {\n            ch = source[index];\n\n            if (lineComment) {\n                ch = source[index++];\n                if (isLineTerminator(ch)) {\n                    loc.end = {\n                        line: lineNumber,\n                        column: index - lineStart - 1\n                    };\n                    lineComment = false;\n                    addComment('Line', comment, start, index - 1, loc);\n                    if (ch === '\\r' && source[index] === '\\n') {\n                        ++index;\n                    }\n                    ++lineNumber;\n                    lineStart = index;\n                    comment = '';\n                } else if (index >= length) {\n                    lineComment = false;\n                    comment += ch;\n                    loc.end = {\n                        line: lineNumber,\n                        column: length - lineStart\n                    };\n                    addComment('Line', comment, start, length, loc);\n                } else {\n                    comment += ch;\n                }\n            } else if (blockComment) {\n                if (isLineTerminator(ch)) {\n                    if (ch === '\\r' && source[index + 1] === '\\n') {\n                        ++index;\n                        comment += '\\r\\n';\n                    } else {\n                        comment += ch;\n                    }\n                    ++lineNumber;\n                    ++index;\n                    lineStart = index;\n                    if (index >= length) {\n                        throwError({}, Messages.UnexpectedToken, 'ILLEGAL');\n                    }\n                } else {\n                    ch = source[index++];\n                    if (index >= length) {\n                        throwError({}, Messages.UnexpectedToken, 'ILLEGAL');\n                    }\n                    comment += ch;\n                    if (ch === '*') {\n                        ch = source[index];\n                        if (ch === '/') {\n                            comment = comment.substr(0, comment.length - 1);\n                            blockComment = false;\n                            ++index;\n                            loc.end = {\n                                line: lineNumber,\n                                column: index - lineStart\n                            };\n                            addComment('Block', comment, start, index, loc);\n                            comment = '';\n                        }\n                    }\n                }\n            } else if (ch === '/') {\n                ch = source[index + 1];\n                if (ch === '/') {\n                    loc = {\n                        start: {\n                            line: lineNumber,\n                            column: index - lineStart\n                        }\n                    };\n                    start = index;\n                    index += 2;\n                    lineComment = true;\n                    if (index >= length) {\n                        loc.end = {\n                            line: lineNumber,\n                            column: index - lineStart\n                        };\n                        lineComment = false;\n                        addComment('Line', comment, start, index, loc);\n                    }\n                } else if (ch === '*') {\n                    start = index;\n                    index += 2;\n                    blockComment = true;\n                    loc = {\n                        start: {\n                            line: lineNumber,\n                            column: index - lineStart - 2\n                        }\n                    };\n                    if (index >= length) {\n                        throwError({}, Messages.UnexpectedToken, 'ILLEGAL');\n                    }\n                } else {\n                    break;\n                }\n            } else if (isWhiteSpace(ch)) {\n                ++index;\n            } else if (isLineTerminator(ch)) {\n                ++index;\n                if (ch ===  '\\r' && source[index] === '\\n') {\n                    ++index;\n                }\n                ++lineNumber;\n                lineStart = index;\n            } else {\n                break;\n            }\n        }\n    }\n\n    function filterCommentLocation() {\n        var i, entry, comment, comments = [];\n\n        for (i = 0; i < extra.comments.length; ++i) {\n            entry = extra.comments[i];\n            comment = {\n                type: entry.type,\n                value: entry.value\n            };\n            if (extra.range) {\n                comment.range = entry.range;\n            }\n            if (extra.loc) {\n                comment.loc = entry.loc;\n            }\n            comments.push(comment);\n        }\n\n        extra.comments = comments;\n    }\n\n    function collectToken() {\n        var start, loc, token, range, value;\n\n        skipComment();\n        start = index;\n        loc = {\n            start: {\n                line: lineNumber,\n                column: index - lineStart\n            }\n        };\n\n        token = extra.advance();\n        loc.end = {\n            line: lineNumber,\n            column: index - lineStart\n        };\n\n        if (token.type !== Token.EOF) {\n            range = [token.range[0], token.range[1]];\n            value = sliceSource(token.range[0], token.range[1]);\n            extra.tokens.push({\n                type: TokenName[token.type],\n                value: value,\n                range: range,\n                loc: loc\n            });\n        }\n\n        return token;\n    }\n\n    function collectRegex() {\n        var pos, loc, regex, token;\n\n        skipComment();\n\n        pos = index;\n        loc = {\n            start: {\n                line: lineNumber,\n                column: index - lineStart\n            }\n        };\n\n        regex = extra.scanRegExp();\n        loc.end = {\n            line: lineNumber,\n            column: index - lineStart\n        };\n\n        // Pop the previous token, which is likely '/' or '/='\n        if (extra.tokens.length > 0) {\n            token = extra.tokens[extra.tokens.length - 1];\n            if (token.range[0] === pos && token.type === 'Punctuator') {\n                if (token.value === '/' || token.value === '/=') {\n                    extra.tokens.pop();\n                }\n            }\n        }\n\n        extra.tokens.push({\n            type: 'RegularExpression',\n            value: regex.literal,\n            range: [pos, index],\n            loc: loc\n        });\n\n        return regex;\n    }\n\n    function filterTokenLocation() {\n        var i, entry, token, tokens = [];\n\n        for (i = 0; i < extra.tokens.length; ++i) {\n            entry = extra.tokens[i];\n            token = {\n                type: entry.type,\n                value: entry.value\n            };\n            if (extra.range) {\n                token.range = entry.range;\n            }\n            if (extra.loc) {\n                token.loc = entry.loc;\n            }\n            tokens.push(token);\n        }\n\n        extra.tokens = tokens;\n    }\n\n    function createLiteral(token) {\n        return {\n            type: Syntax.Literal,\n            value: token.value\n        };\n    }\n\n    function createRawLiteral(token) {\n        return {\n            type: Syntax.Literal,\n            value: token.value,\n            raw: sliceSource(token.range[0], token.range[1])\n        };\n    }\n\n    function createLocationMarker() {\n        var marker = {};\n\n        marker.range = [index, index];\n        marker.loc = {\n            start: {\n                line: lineNumber,\n                column: index - lineStart\n            },\n            end: {\n                line: lineNumber,\n                column: index - lineStart\n            }\n        };\n\n        marker.end = function () {\n            this.range[1] = index;\n            this.loc.end.line = lineNumber;\n            this.loc.end.column = index - lineStart;\n        };\n\n        marker.applyGroup = function (node) {\n            if (extra.range) {\n                node.groupRange = [this.range[0], this.range[1]];\n            }\n            if (extra.loc) {\n                node.groupLoc = {\n                    start: {\n                        line: this.loc.start.line,\n                        column: this.loc.start.column\n                    },\n                    end: {\n                        line: this.loc.end.line,\n                        column: this.loc.end.column\n                    }\n                };\n            }\n        };\n\n        marker.apply = function (node) {\n            if (extra.range) {\n                node.range = [this.range[0], this.range[1]];\n            }\n            if (extra.loc) {\n                node.loc = {\n                    start: {\n                        line: this.loc.start.line,\n                        column: this.loc.start.column\n                    },\n                    end: {\n                        line: this.loc.end.line,\n                        column: this.loc.end.column\n                    }\n                };\n            }\n        };\n\n        return marker;\n    }\n\n    function trackGroupExpression() {\n        var marker, expr;\n\n        skipComment();\n        marker = createLocationMarker();\n        expect('(');\n\n        expr = parseExpression();\n\n        expect(')');\n\n        marker.end();\n        marker.applyGroup(expr);\n\n        return expr;\n    }\n\n    function trackLeftHandSideExpression() {\n        var marker, expr;\n\n        skipComment();\n        marker = createLocationMarker();\n\n        expr = matchKeyword('new') ? parseNewExpression() : parsePrimaryExpression();\n\n        while (match('.') || match('[')) {\n            if (match('[')) {\n                expr = {\n                    type: Syntax.MemberExpression,\n                    computed: true,\n                    object: expr,\n                    property: parseComputedMember()\n                };\n                marker.end();\n                marker.apply(expr);\n            } else {\n                expr = {\n                    type: Syntax.MemberExpression,\n                    computed: false,\n                    object: expr,\n                    property: parseNonComputedMember()\n                };\n                marker.end();\n                marker.apply(expr);\n            }\n        }\n\n        return expr;\n    }\n\n    function trackLeftHandSideExpressionAllowCall() {\n        var marker, expr;\n\n        skipComment();\n        marker = createLocationMarker();\n\n        expr = matchKeyword('new') ? parseNewExpression() : parsePrimaryExpression();\n\n        while (match('.') || match('[') || match('(')) {\n            if (match('(')) {\n                expr = {\n                    type: Syntax.CallExpression,\n                    callee: expr,\n                    'arguments': parseArguments()\n                };\n                marker.end();\n                marker.apply(expr);\n            } else if (match('[')) {\n                expr = {\n                    type: Syntax.MemberExpression,\n                    computed: true,\n                    object: expr,\n                    property: parseComputedMember()\n                };\n                marker.end();\n                marker.apply(expr);\n            } else {\n                expr = {\n                    type: Syntax.MemberExpression,\n                    computed: false,\n                    object: expr,\n                    property: parseNonComputedMember()\n                };\n                marker.end();\n                marker.apply(expr);\n            }\n        }\n\n        return expr;\n    }\n\n    function filterGroup(node) {\n        var n, i, entry;\n\n        n = (Object.prototype.toString.apply(node) === '[object Array]') ? [] : {};\n        for (i in node) {\n            if (node.hasOwnProperty(i) && i !== 'groupRange' && i !== 'groupLoc') {\n                entry = node[i];\n                if (entry === null || typeof entry !== 'object' || entry instanceof RegExp) {\n                    n[i] = entry;\n                } else {\n                    n[i] = filterGroup(entry);\n                }\n            }\n        }\n        return n;\n    }\n\n    function wrapTrackingFunction(range, loc) {\n\n        return function (parseFunction) {\n\n            function isBinary(node) {\n                return node.type === Syntax.LogicalExpression ||\n                    node.type === Syntax.BinaryExpression;\n            }\n\n            function visit(node) {\n                var start, end;\n\n                if (isBinary(node.left)) {\n                    visit(node.left);\n                }\n                if (isBinary(node.right)) {\n                    visit(node.right);\n                }\n\n                if (range) {\n                    if (node.left.groupRange || node.right.groupRange) {\n                        start = node.left.groupRange ? node.left.groupRange[0] : node.left.range[0];\n                        end = node.right.groupRange ? node.right.groupRange[1] : node.right.range[1];\n                        node.range = [start, end];\n                    } else if (typeof node.range === 'undefined') {\n                        start = node.left.range[0];\n                        end = node.right.range[1];\n                        node.range = [start, end];\n                    }\n                }\n                if (loc) {\n                    if (node.left.groupLoc || node.right.groupLoc) {\n                        start = node.left.groupLoc ? node.left.groupLoc.start : node.left.loc.start;\n                        end = node.right.groupLoc ? node.right.groupLoc.end : node.right.loc.end;\n                        node.loc = {\n                            start: start,\n                            end: end\n                        };\n                    } else if (typeof node.loc === 'undefined') {\n                        node.loc = {\n                            start: node.left.loc.start,\n                            end: node.right.loc.end\n                        };\n                    }\n                }\n            }\n\n            return function () {\n                var marker, node;\n\n                skipComment();\n\n                marker = createLocationMarker();\n                node = parseFunction.apply(null, arguments);\n                marker.end();\n\n                if (range && typeof node.range === 'undefined') {\n                    marker.apply(node);\n                }\n\n                if (loc && typeof node.loc === 'undefined') {\n                    marker.apply(node);\n                }\n\n                if (isBinary(node)) {\n                    visit(node);\n                }\n\n                return node;\n            };\n        };\n    }\n\n    function patch() {\n\n        var wrapTracking;\n\n        if (extra.comments) {\n            extra.skipComment = skipComment;\n            skipComment = scanComment;\n        }\n\n        if (extra.raw) {\n            extra.createLiteral = createLiteral;\n            createLiteral = createRawLiteral;\n        }\n\n        if (extra.range || extra.loc) {\n\n            extra.parseGroupExpression = parseGroupExpression;\n            extra.parseLeftHandSideExpression = parseLeftHandSideExpression;\n            extra.parseLeftHandSideExpressionAllowCall = parseLeftHandSideExpressionAllowCall;\n            parseGroupExpression = trackGroupExpression;\n            parseLeftHandSideExpression = trackLeftHandSideExpression;\n            parseLeftHandSideExpressionAllowCall = trackLeftHandSideExpressionAllowCall;\n\n            wrapTracking = wrapTrackingFunction(extra.range, extra.loc);\n\n            extra.parseAdditiveExpression = parseAdditiveExpression;\n            extra.parseAssignmentExpression = parseAssignmentExpression;\n            extra.parseBitwiseANDExpression = parseBitwiseANDExpression;\n            extra.parseBitwiseORExpression = parseBitwiseORExpression;\n            extra.parseBitwiseXORExpression = parseBitwiseXORExpression;\n            extra.parseBlock = parseBlock;\n            extra.parseFunctionSourceElements = parseFunctionSourceElements;\n            extra.parseCatchClause = parseCatchClause;\n            extra.parseComputedMember = parseComputedMember;\n            extra.parseConditionalExpression = parseConditionalExpression;\n            extra.parseConstLetDeclaration = parseConstLetDeclaration;\n            extra.parseEqualityExpression = parseEqualityExpression;\n            extra.parseExpression = parseExpression;\n            extra.parseForVariableDeclaration = parseForVariableDeclaration;\n            extra.parseFunctionDeclaration = parseFunctionDeclaration;\n            extra.parseFunctionExpression = parseFunctionExpression;\n            extra.parseLogicalANDExpression = parseLogicalANDExpression;\n            extra.parseLogicalORExpression = parseLogicalORExpression;\n            extra.parseMultiplicativeExpression = parseMultiplicativeExpression;\n            extra.parseNewExpression = parseNewExpression;\n            extra.parseNonComputedProperty = parseNonComputedProperty;\n            extra.parseObjectProperty = parseObjectProperty;\n            extra.parseObjectPropertyKey = parseObjectPropertyKey;\n            extra.parsePostfixExpression = parsePostfixExpression;\n            extra.parsePrimaryExpression = parsePrimaryExpression;\n            extra.parseProgram = parseProgram;\n            extra.parsePropertyFunction = parsePropertyFunction;\n            extra.parseRelationalExpression = parseRelationalExpression;\n            extra.parseStatement = parseStatement;\n            extra.parseShiftExpression = parseShiftExpression;\n            extra.parseSwitchCase = parseSwitchCase;\n            extra.parseUnaryExpression = parseUnaryExpression;\n            extra.parseVariableDeclaration = parseVariableDeclaration;\n            extra.parseVariableIdentifier = parseVariableIdentifier;\n\n            parseAdditiveExpression = wrapTracking(extra.parseAdditiveExpression);\n            parseAssignmentExpression = wrapTracking(extra.parseAssignmentExpression);\n            parseBitwiseANDExpression = wrapTracking(extra.parseBitwiseANDExpression);\n            parseBitwiseORExpression = wrapTracking(extra.parseBitwiseORExpression);\n            parseBitwiseXORExpression = wrapTracking(extra.parseBitwiseXORExpression);\n            parseBlock = wrapTracking(extra.parseBlock);\n            parseFunctionSourceElements = wrapTracking(extra.parseFunctionSourceElements);\n            parseCatchClause = wrapTracking(extra.parseCatchClause);\n            parseComputedMember = wrapTracking(extra.parseComputedMember);\n            parseConditionalExpression = wrapTracking(extra.parseConditionalExpression);\n            parseConstLetDeclaration = wrapTracking(extra.parseConstLetDeclaration);\n            parseEqualityExpression = wrapTracking(extra.parseEqualityExpression);\n            parseExpression = wrapTracking(extra.parseExpression);\n            parseForVariableDeclaration = wrapTracking(extra.parseForVariableDeclaration);\n            parseFunctionDeclaration = wrapTracking(extra.parseFunctionDeclaration);\n            parseFunctionExpression = wrapTracking(extra.parseFunctionExpression);\n            parseLeftHandSideExpression = wrapTracking(parseLeftHandSideExpression);\n            parseLogicalANDExpression = wrapTracking(extra.parseLogicalANDExpression);\n            parseLogicalORExpression = wrapTracking(extra.parseLogicalORExpression);\n            parseMultiplicativeExpression = wrapTracking(extra.parseMultiplicativeExpression);\n            parseNewExpression = wrapTracking(extra.parseNewExpression);\n            parseNonComputedProperty = wrapTracking(extra.parseNonComputedProperty);\n            parseObjectProperty = wrapTracking(extra.parseObjectProperty);\n            parseObjectPropertyKey = wrapTracking(extra.parseObjectPropertyKey);\n            parsePostfixExpression = wrapTracking(extra.parsePostfixExpression);\n            parsePrimaryExpression = wrapTracking(extra.parsePrimaryExpression);\n            parseProgram = wrapTracking(extra.parseProgram);\n            parsePropertyFunction = wrapTracking(extra.parsePropertyFunction);\n            parseRelationalExpression = wrapTracking(extra.parseRelationalExpression);\n            parseStatement = wrapTracking(extra.parseStatement);\n            parseShiftExpression = wrapTracking(extra.parseShiftExpression);\n            parseSwitchCase = wrapTracking(extra.parseSwitchCase);\n            parseUnaryExpression = wrapTracking(extra.parseUnaryExpression);\n            parseVariableDeclaration = wrapTracking(extra.parseVariableDeclaration);\n            parseVariableIdentifier = wrapTracking(extra.parseVariableIdentifier);\n        }\n\n        if (typeof extra.tokens !== 'undefined') {\n            extra.advance = advance;\n            extra.scanRegExp = scanRegExp;\n\n            advance = collectToken;\n            scanRegExp = collectRegex;\n        }\n    }\n\n    function unpatch() {\n        if (typeof extra.skipComment === 'function') {\n            skipComment = extra.skipComment;\n        }\n\n        if (extra.raw) {\n            createLiteral = extra.createLiteral;\n        }\n\n        if (extra.range || extra.loc) {\n            parseAdditiveExpression = extra.parseAdditiveExpression;\n            parseAssignmentExpression = extra.parseAssignmentExpression;\n            parseBitwiseANDExpression = extra.parseBitwiseANDExpression;\n            parseBitwiseORExpression = extra.parseBitwiseORExpression;\n            parseBitwiseXORExpression = extra.parseBitwiseXORExpression;\n            parseBlock = extra.parseBlock;\n            parseFunctionSourceElements = extra.parseFunctionSourceElements;\n            parseCatchClause = extra.parseCatchClause;\n            parseComputedMember = extra.parseComputedMember;\n            parseConditionalExpression = extra.parseConditionalExpression;\n            parseConstLetDeclaration = extra.parseConstLetDeclaration;\n            parseEqualityExpression = extra.parseEqualityExpression;\n            parseExpression = extra.parseExpression;\n            parseForVariableDeclaration = extra.parseForVariableDeclaration;\n            parseFunctionDeclaration = extra.parseFunctionDeclaration;\n            parseFunctionExpression = extra.parseFunctionExpression;\n            parseGroupExpression = extra.parseGroupExpression;\n            parseLeftHandSideExpression = extra.parseLeftHandSideExpression;\n            parseLeftHandSideExpressionAllowCall = extra.parseLeftHandSideExpressionAllowCall;\n            parseLogicalANDExpression = extra.parseLogicalANDExpression;\n            parseLogicalORExpression = extra.parseLogicalORExpression;\n            parseMultiplicativeExpression = extra.parseMultiplicativeExpression;\n            parseNewExpression = extra.parseNewExpression;\n            parseNonComputedProperty = extra.parseNonComputedProperty;\n            parseObjectProperty = extra.parseObjectProperty;\n            parseObjectPropertyKey = extra.parseObjectPropertyKey;\n            parsePrimaryExpression = extra.parsePrimaryExpression;\n            parsePostfixExpression = extra.parsePostfixExpression;\n            parseProgram = extra.parseProgram;\n            parsePropertyFunction = extra.parsePropertyFunction;\n            parseRelationalExpression = extra.parseRelationalExpression;\n            parseStatement = extra.parseStatement;\n            parseShiftExpression = extra.parseShiftExpression;\n            parseSwitchCase = extra.parseSwitchCase;\n            parseUnaryExpression = extra.parseUnaryExpression;\n            parseVariableDeclaration = extra.parseVariableDeclaration;\n            parseVariableIdentifier = extra.parseVariableIdentifier;\n        }\n\n        if (typeof extra.scanRegExp === 'function') {\n            advance = extra.advance;\n            scanRegExp = extra.scanRegExp;\n        }\n    }\n\n    function stringToArray(str) {\n        var length = str.length,\n            result = [],\n            i;\n        for (i = 0; i < length; ++i) {\n            result[i] = str.charAt(i);\n        }\n        return result;\n    }\n\n    function parse(code, options) {\n        var program, toString;\n\n        toString = String;\n        if (typeof code !== 'string' && !(code instanceof String)) {\n            code = toString(code);\n        }\n\n        source = code;\n        index = 0;\n        lineNumber = (source.length > 0) ? 1 : 0;\n        lineStart = 0;\n        length = source.length;\n        buffer = null;\n        state = {\n            allowIn: true,\n            labelSet: {},\n            inFunctionBody: false,\n            inIteration: false,\n            inSwitch: false\n        };\n\n        extra = {};\n        if (typeof options !== 'undefined') {\n            extra.range = (typeof options.range === 'boolean') && options.range;\n            extra.loc = (typeof options.loc === 'boolean') && options.loc;\n            extra.raw = (typeof options.raw === 'boolean') && options.raw;\n            if (typeof options.tokens === 'boolean' && options.tokens) {\n                extra.tokens = [];\n            }\n            if (typeof options.comment === 'boolean' && options.comment) {\n                extra.comments = [];\n            }\n            if (typeof options.tolerant === 'boolean' && options.tolerant) {\n                extra.errors = [];\n            }\n        }\n\n        if (length > 0) {\n            if (typeof source[0] === 'undefined') {\n                // Try first to convert to a string. This is good as fast path\n                // for old IE which understands string indexing for string\n                // literals only and not for string object.\n                if (code instanceof String) {\n                    source = code.valueOf();\n                }\n\n                // Force accessing the characters via an array.\n                if (typeof source[0] === 'undefined') {\n                    source = stringToArray(code);\n                }\n            }\n        }\n\n        patch();\n        try {\n            program = parseProgram();\n            if (typeof extra.comments !== 'undefined') {\n                filterCommentLocation();\n                program.comments = extra.comments;\n            }\n            if (typeof extra.tokens !== 'undefined') {\n                filterTokenLocation();\n                program.tokens = extra.tokens;\n            }\n            if (typeof extra.errors !== 'undefined') {\n                program.errors = extra.errors;\n            }\n            if (extra.range || extra.loc) {\n                program.body = filterGroup(program.body);\n            }\n        } catch (e) {\n            throw e;\n        } finally {\n            unpatch();\n            extra = {};\n        }\n\n        return program;\n    }\n\n    // Sync with package.json.\n    exports.version = '1.0.4';\n\n    exports.parse = parse;\n\n    // Deep copy.\n    exports.Syntax = (function () {\n        var name, types = {};\n\n        if (typeof Object.create === 'function') {\n            types = Object.create(null);\n        }\n\n        for (name in Syntax) {\n            if (Syntax.hasOwnProperty(name)) {\n                types[name] = Syntax[name];\n            }\n        }\n\n        if (typeof Object.freeze === 'function') {\n            Object.freeze(types);\n        }\n\n        return types;\n    }());\n\n}));\n/* vim: set sw=4 ts=4 et tw=80 : */\n",
    "/*\n\n Copyright 2000, Silicon Graphics, Inc. All Rights Reserved.\n Copyright 2014, Google Inc. All Rights Reserved.\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to\n deal in the Software without restriction, including without limitation the\n rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n sell copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice including the dates of first publication and\n either this permission notice or a reference to http://oss.sgi.com/projects/FreeB/\n shall be included in all copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n SILICON GRAPHICS, INC. BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR\n IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n Original Code. The Original Code is: OpenGL Sample Implementation,\n Version 1.2.1, released January 26, 2000, developed by Silicon Graphics,\n Inc. The Original Code is Copyright (c) 1991-2000 Silicon Graphics, Inc.\n Copyright in any portions created by third parties is as indicated\n elsewhere herein. All Rights Reserved.\n*/\n'use strict';var k;function s(a,b){return a.b===b.b&&a.a===b.a}function t(a,b){return a.b<b.b||a.b===b.b&&a.a<=b.a}function u(a,b,c){var d=b.b-a.b,f=c.b-b.b;return 0<d+f?d<f?b.a-a.a+d/(d+f)*(a.a-c.a):b.a-c.a+f/(d+f)*(c.a-a.a):0}function v(a,b,c){var d=b.b-a.b,f=c.b-b.b;return 0<d+f?(b.a-c.a)*d+(b.a-a.a)*f:0}function x(a,b){return a.a<b.a||a.a===b.a&&a.b<=b.b}function aa(a,b,c){var d=b.a-a.a,f=c.a-b.a;return 0<d+f?d<f?b.b-a.b+d/(d+f)*(a.b-c.b):b.b-c.b+f/(d+f)*(c.b-a.b):0}\nfunction ba(a,b,c){var d=b.a-a.a,f=c.a-b.a;return 0<d+f?(b.b-c.b)*d+(b.b-a.b)*f:0}function ca(a){return t(z(a),a.a)}function da(a){return t(a.a,z(a))}function A(a,b,c,d){a=0>a?0:a;c=0>c?0:c;return a<=c?0===c?(b+d)/2:b+a/(a+c)*(d-b):d+c/(a+c)*(b-d)};function ea(a){var b=B(a.b);C(b,a.c);C(b.b,a.c);D(b,a.a);return b}function E(a,b){var c=!1,d=!1;a!==b&&(b.a!==a.a&&(d=!0,F(b.a,a.a)),b.d!==a.d&&(c=!0,G(b.d,a.d)),H(b,a),d||(C(b,a.a),a.a.c=a),c||(D(b,a.d),a.d.a=a))}function I(a){var b=a.b,c=!1;a.d!==a.b.d&&(c=!0,G(a.d,a.b.d));a.c===a?F(a.a,null):(a.b.d.a=J(a),a.a.c=a.c,H(a,J(a)),c||D(a,a.d));b.c===b?(F(b.a,null),G(b.d,null)):(a.d.a=J(b),b.a.c=b.c,H(b,J(b)));fa(a)}\nfunction K(a){var b=B(a),c=b.b;H(b,a.e);b.a=z(a);C(c,b.a);b.d=c.d=a.d;b=b.b;H(a.b,J(a.b));H(a.b,b);a.b.a=b.a;z(b).c=b.b;b.b.d=a.b.d;b.f=a.f;b.b.f=a.b.f;return b}function L(a,b){var c=!1,d=B(a),f=d.b;b.d!==a.d&&(c=!0,G(b.d,a.d));H(d,a.e);H(f,b);d.a=z(a);f.a=b.a;d.d=f.d=a.d;a.d.a=f;c||D(d,a.d);return d}function B(a){var b=new M,c=new M,d=a.b.h;c.h=d;d.b.h=b;b.h=a;a.b.h=c;b.b=c;b.c=b;b.e=c;c.b=b;c.c=c;return c.e=b}function H(a,b){var c=a.c,d=b.c;c.b.e=b;d.b.e=a;a.c=d;b.c=c}\nfunction C(a,b){var c=b.f,d=new N(b,c);c.e=d;b.f=d;c=d.c=a;do c.a=d,c=c.c;while(c!==a)}function D(a,b){var c=b.d,d=new ga(b,c);c.b=d;b.d=d;d.a=a;d.c=b.c;c=a;do c.d=d,c=c.e;while(c!==a)}function fa(a){var b=a.h;a=a.b.h;b.b.h=a;a.b.h=b}function F(a,b){var c=a.c,d=c;do d.a=b,d=d.c;while(d!==c);c=a.f;d=a.e;d.f=c;c.e=d}function G(a,b){var c=a.a,d=c;do d.d=b,d=d.e;while(d!==c);c=a.d;d=a.b;d.d=c;c.b=d};function ha(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function ia(a){var b=0;Math.abs(a[1])>Math.abs(a[0])&&(b=1);Math.abs(a[2])>Math.abs(a[b])&&(b=2);return b};var O=4*1E150;function P(a,b){a.f+=b.f;a.b.f+=b.b.f}function ja(a,b,c){a=a.a;b=b.a;c=c.a;if(z(b)===a)return z(c)===a?t(b.a,c.a)?0>=v(z(c),b.a,c.a):0<=v(z(b),c.a,b.a):0>=v(z(c),a,c.a);if(z(c)===a)return 0<=v(z(b),a,b.a);b=u(z(b),a,b.a);a=u(z(c),a,c.a);return b>=a}function Q(a){a.a.i=null;var b=a.e;b.a.c=b.c;b.c.a=b.a;a.e=null}function R(a,b){I(a.a);a.c=!1;a.a=b;b.i=a}function S(a){var b=a.a.a;do a=T(a);while(a.a.a===b);a.c&&(b=L(U(a).a.b,a.a.e),R(a,b),a=T(a));return a}\nfunction ka(a,b,c){var d=new V;d.a=c;d.e=la(a.h,b.e,d);return c.i=d}function ma(a,b){switch(a.x){case 100130:return 0!==(b&1);case 100131:return 0!==b;case 100132:return 0<b;case 100133:return 0>b;case 100134:return 2<=b||-2>=b}return!1}function na(a){var b=a.a,c=b.d;c.c=a.d;c.a=b;Q(a)}function W(a,b){for(var c=a,d=a.a;c!==b;){c.c=!1;var f=U(c),g=f.a;if(g.a!==d.a){if(!f.c){na(c);break}g=L(d.c.b,g.b);R(f,g)}d.c!==g&&(E(J(g),g),E(d,g));na(c);d=f.a;c=f}return d}\nfunction X(a,b,c,d,f,g){var e=!0;do ka(a,b,c.b),c=c.c;while(c!==d);for(null===f&&(f=U(b).a.b.c);;){d=U(b);c=d.a.b;if(c.a!==f.a)break;c.c!==f&&(E(J(c),c),E(J(f),c));d.f=b.f-c.f;d.d=ma(a,d.f);b.b=!0;!e&&oa(a,b)&&(P(c,f),Q(b),I(f));e=!1;b=d;f=c}b.b=!0;g&&pa(a,b)}function qa(a,b,c,d,f){var g=[b.g[0],b.g[1],b.g[2]];b.d=null;var e;a.z?e=a.z(g,c,d,a.c):a.A&&(e=a.A(g,c,d));void 0===e&&(e=null);b.d=e;null===b.d&&(f?a.v||(Y(a,100156),a.v=!0):b.d=c[0])}\nfunction ra(a,b,c){var d=[null,null,null,null];d[0]=b.a.d;d[1]=c.a.d;qa(a,b.a,d,[.5,.5,0,0],!1);E(b,c)}function sa(a,b,c,d,f){var g=Math.abs(b.b-a.b)+Math.abs(b.a-a.a),e=Math.abs(c.b-a.b)+Math.abs(c.a-a.a),h=f+1;d[f]=.5*e/(g+e);d[h]=.5*g/(g+e);a.g[0]+=d[f]*b.g[0]+d[h]*c.g[0];a.g[1]+=d[f]*b.g[1]+d[h]*c.g[1];a.g[2]+=d[f]*b.g[2]+d[h]*c.g[2]}\nfunction oa(a,b){var c=U(b),d=b.a,f=c.a;if(t(d.a,f.a)){if(0<v(z(f),d.a,f.a))return!1;if(!s(d.a,f.a))K(f.b),E(d,J(f)),b.b=c.b=!0;else if(d.a!==f.a){var c=a.e,g=d.a.h;if(0<=g){var c=c.b,e=c.c,h=c.a,l=h[g].b;e[l].a=e[c.b].a;h[e[l].a].b=l;l<=--c.b&&(1>=l||c.f(h[e[l>>1].a].a,h[e[l].a].a)?ta(c,l):ua(c,l));h[g].a=null;h[g].b=c.d;c.d=g}else for(c.c[-(g+1)]=null;0<c.a&&null===c.c[c.d[c.a-1]];)--c.a;ra(a,J(f),d)}}else{if(0>v(z(d),f.a,d.a))return!1;T(b).b=b.b=!0;K(d.b);E(J(f),d)}return!0}\nfunction va(a,b){var c=U(b),d=b.a,f=c.a,g=d.a,e=f.a,h=z(d),l=z(f),n=new N;v(h,a.a,g);v(l,a.a,e);if(g===e||Math.min(g.a,h.a)>Math.max(e.a,l.a))return!1;if(t(g,e)){if(0<v(l,g,e))return!1}else if(0>v(h,e,g))return!1;var r=h,p=g,q=l,y=e,m,w;t(r,p)||(m=r,r=p,p=m);t(q,y)||(m=q,q=y,y=m);t(r,q)||(m=r,r=q,q=m,m=p,p=y,y=m);t(q,p)?t(p,y)?(m=u(r,q,p),w=u(q,p,y),0>m+w&&(m=-m,w=-w),n.b=A(m,q.b,w,p.b)):(m=v(r,q,p),w=-v(r,y,p),0>m+w&&(m=-m,w=-w),n.b=A(m,q.b,w,y.b)):n.b=(q.b+p.b)/2;x(r,p)||(m=r,r=p,p=m);x(q,y)||(m=\nq,q=y,y=m);x(r,q)||(m=r,r=q,q=m,m=p,p=y,y=m);x(q,p)?x(p,y)?(m=aa(r,q,p),w=aa(q,p,y),0>m+w&&(m=-m,w=-w),n.a=A(m,q.a,w,p.a)):(m=ba(r,q,p),w=-ba(r,y,p),0>m+w&&(m=-m,w=-w),n.a=A(m,q.a,w,y.a)):n.a=(q.a+p.a)/2;t(n,a.a)&&(n.b=a.a.b,n.a=a.a.a);r=t(g,e)?g:e;t(r,n)&&(n.b=r.b,n.a=r.a);if(s(n,g)||s(n,e))return oa(a,b),!1;if(!s(h,a.a)&&0<=v(h,a.a,n)||!s(l,a.a)&&0>=v(l,a.a,n)){if(l===a.a)return K(d.b),E(f.b,d),b=S(b),d=U(b).a,W(U(b),c),X(a,b,J(d),d,d,!0),!0;if(h===a.a){K(f.b);E(d.e,J(f));g=c=b;e=z(g.a);do g=T(g);\nwhile(z(g.a)===e);b=g;g=U(b).a.b.c;c.a=J(f);f=W(c,null);X(a,b,f.c,d.b.c,g,!0);return!0}0<=v(h,a.a,n)&&(T(b).b=b.b=!0,K(d.b),d.a.b=a.a.b,d.a.a=a.a.a);0>=v(l,a.a,n)&&(b.b=c.b=!0,K(f.b),f.a.b=a.a.b,f.a.a=a.a.a);return!1}K(d.b);K(f.b);E(J(f),d);d.a.b=n.b;d.a.a=n.a;d.a.h=wa(a.e,d.a);d=d.a;f=[0,0,0,0];n=[g.d,h.d,e.d,l.d];d.g[0]=d.g[1]=d.g[2]=0;sa(d,g,h,f,0);sa(d,e,l,f,2);qa(a,d,n,f,!0);T(b).b=b.b=c.b=!0;return!1}\nfunction pa(a,b){for(var c=U(b);;){for(;c.b;)b=c,c=U(c);if(!b.b&&(c=b,b=T(b),null===b||!b.b))break;b.b=!1;var d=b.a,f=c.a,g;if(g=z(d)!==z(f))a:{g=b;var e=U(g),h=g.a,l=e.a,n=void 0;if(t(z(h),z(l))){if(0>v(z(h),z(l),h.a)){g=!1;break a}T(g).b=g.b=!0;n=K(h);E(l.b,n);n.d.c=g.d}else{if(0<v(z(l),z(h),l.a)){g=!1;break a}g.b=e.b=!0;n=K(l);E(h.e,l.b);n.b.d.c=g.d}g=!0}g&&(c.c?(Q(c),I(f),c=U(b),f=c.a):b.c&&(Q(b),I(d),b=T(c),d=b.a));if(d.a!==f.a)if(z(d)===z(f)||b.c||c.c||z(d)!==a.a&&z(f)!==a.a)oa(a,b);else if(va(a,\nb))break;d.a===f.a&&z(d)===z(f)&&(P(f,d),Q(b),I(d),b=T(c))}}\nfunction xa(a,b){a.a=b;for(var c=b.c;null===c.i;)if(c=c.c,c===b.c){var c=a,d=b,f=new V;f.a=d.c.b;var g=c.h,e=g.a;do e=e.a;while(null!==e.b&&!g.c(g.b,f,e.b));var g=e.b,h=U(g),f=g.a,e=h.a;if(0===v(z(f),d,f.a))f=g.a,s(f.a,d)||s(z(f),d)||(K(f.b),g.c&&(I(f.c),g.c=!1),E(d.c,f),xa(c,d));else{var l=t(z(e),z(f))?g:h,h=void 0;g.d||l.c?(l===g?h=L(d.c.b,f.e):h=L(e.b.c.b,d.c).b,l.c?R(l,h):(f=c,g=ka(c,g,h),g.f=T(g).f+g.a.f,g.d=ma(f,g.f)),xa(c,d)):X(c,g,d.c,d.c,null,!0)}return}c=S(c.i);f=U(c);g=f.a;f=W(f,null);\nif(f.c===g){var g=f,f=g.c,e=U(c),h=c.a,l=e.a,n=!1;z(h)!==z(l)&&va(a,c);s(h.a,a.a)&&(E(J(f),h),c=S(c),f=U(c).a,W(U(c),e),n=!0);s(l.a,a.a)&&(E(g,J(l)),g=W(e,null),n=!0);n?X(a,c,g.c,f,f,!0):(t(l.a,h.a)?d=J(l):d=h,d=L(g.c.b,d),X(a,c,d,d.c,d.c,!1),d.b.i.c=!0,pa(a,c))}else X(a,c,f.c,g,g,!0)}function ya(a,b){var c=new V,d=ea(a.b);d.a.b=O;d.a.a=b;z(d).b=-O;z(d).a=b;a.a=z(d);c.a=d;c.f=0;c.d=!1;c.c=!1;c.h=!0;c.b=!1;d=a.h;d=la(d,d.a,c);c.e=d};function za(a){this.a=new Aa;this.b=a;this.c=ja}function la(a,b,c){do b=b.c;while(null!==b.b&&!a.c(a.b,b.b,c));a=new Aa(c,b.a,b);b.a.c=a;return b.a=a};function Aa(a,b,c){this.b=a||null;this.a=b||this;this.c=c||this};function Ba(){this.g=[0,0,0];this.a=null};function Z(){this.d=0;this.C=this.b=this.q=null;this.n=[0,0,0];this.I=[0,0,0];this.i=[0,0,0];this.D=0;this.x=100130;this.v=!1;this.A=this.a=this.e=this.h=null;this.r=!1;this.c=this.z=this.B=this.s=this.l=this.o=this.j=this.w=this.t=this.m=this.p=this.k=null;this.u=!1;this.f=0;this.y=Array(100);for(var a=0;100>a;a++)this.y[a]=new Ba}k=Z.prototype;k.J=function(){$(this,0)};\nk.O=function(a,b){switch(a){case 100142:if(0>b||1<b)break;this.D=b;return;case 100140:switch(b){case 100130:case 100131:case 100132:case 100133:case 100134:this.x=b;return}break;case 100141:this.r=!!b;return;default:Y(this,100900);return}Y(this,100901)};k.K=function(a){switch(a){case 100142:return this.D;case 100140:return this.x;case 100141:return this.r;default:Y(this,100900)}return!1};k.N=function(a,b,c){this.n[0]=a;this.n[1]=b;this.n[2]=c};\nk.L=function(a,b){var c=b?b:null;switch(a){case 100100:this.k=c;break;case 100106:this.j=c;break;case 100104:this.p=c;break;case 100110:this.o=c;break;case 100101:this.m=c;break;case 100107:this.l=c;break;case 100102:this.t=c;break;case 100108:this.s=c;break;case 100103:this.C=c;break;case 100109:this.B=c;break;case 100105:this.A=c;break;case 100111:this.z=c;break;case 100112:this.w=c;break;default:Y(this,100900)}};\nk.P=function(a,b){var c=!1,d=[0,0,0];$(this,2);this.u&&(Ca(this),this.q=null);for(var f=0;3>f;++f){var g=a[f];-1E150>g&&(g=-1E150,c=!0);1E150<g&&(g=1E150,c=!0);d[f]=g}c&&Y(this,100155);if(null===this.b){if(100>this.f){c=this.y[this.f];c.a=b;c.g[0]=d[0];c.g[1]=d[1];c.g[2]=d[2];++this.f;return}Ca(this)}Da(this,d,b)};k.G=function(a){$(this,0);this.d=1;this.f=0;this.u=!1;this.b=null;this.c=a};k.F=function(){$(this,1);this.d=2;this.q=null;0<this.f&&(this.u=!0)};k.H=function(){$(this,2);this.d=1};\nk.M=function(){$(this,1);this.d=0;null===this.b&&Ca(this);var a=!1,b=[this.n[0],this.n[1],this.n[2]];if(0===b[0]&&0===b[1]&&0===b[2]){var c=[-2*1E150,-2*1E150,-2*1E150],d=[2*1E150,2*1E150,2*1E150],f=[],g=[],e,a=this.b.c;for(e=a.e;e!==a;e=e.e)for(var h=0;3>h;++h){var l=e.g[h];l<d[h]&&(d[h]=l,g[h]=e);l>c[h]&&(c[h]=l,f[h]=e)}e=0;c[1]-d[1]>c[0]-d[0]&&(e=1);c[2]-d[2]>c[e]-d[e]&&(e=2);if(d[e]>=c[e])b[0]=0,b[1]=0,b[2]=1;else{c=0;d=g[e];f=f[e];g=[0,0,0];d=[d.g[0]-f.g[0],d.g[1]-f.g[1],d.g[2]-f.g[2]];h=[0,\n0,0];for(e=a.e;e!==a;e=e.e)h[0]=e.g[0]-f.g[0],h[1]=e.g[1]-f.g[1],h[2]=e.g[2]-f.g[2],g[0]=d[1]*h[2]-d[2]*h[1],g[1]=d[2]*h[0]-d[0]*h[2],g[2]=d[0]*h[1]-d[1]*h[0],l=g[0]*g[0]+g[1]*g[1]+g[2]*g[2],l>c&&(c=l,b[0]=g[0],b[1]=g[1],b[2]=g[2]);0>=c&&(b[0]=b[1]=b[2]=0,b[ia(d)]=1)}a=!0}e=this.I;c=this.i;f=ia(b);e[f]=0;e[(f+1)%3]=1;e[(f+2)%3]=0;c[f]=0;c[(f+1)%3]=0<b[f]?-0:0;c[(f+2)%3]=0<b[f]?1:-1;b=this.b.c;for(f=b.e;f!==b;f=f.e)f.b=ha(f.g,e),f.a=ha(f.g,c);if(a){b=0;a=this.b.a;for(e=a.b;e!==a;e=e.b)if(c=e.a,!(0>=\nc.f)){do b+=(c.a.b-z(c).b)*(c.a.a+z(c).a),c=c.e;while(c!==e.a)}if(0>b){b=this.b.c;for(a=b.e;a!==b;a=a.e)a.a=-a.a;this.i[0]=-this.i[0];this.i[1]=-this.i[1];this.i[2]=-this.i[2]}}this.v=!1;b=this.b.b;for(e=b.h;e!==b;e=a)if(a=e.h,c=e.e,s(e.a,z(e))&&e.e.e!==e&&(ra(this,c,e),I(e),e=c,c=e.e),c.e===e){if(c!==e){if(c===a||c===a.b)a=a.h;I(c)}if(e===a||e===a.b)a=a.h;I(e)}this.e=b=new Ea;a=this.b.c;for(e=a.e;e!==a;e=e.e)e.h=wa(b,e);Fa(b);this.h=new za(this);ya(this,-O);for(ya(this,O);null!==(b=Ga(this.e));){for(;;){a:if(a=\nthis.e,0===a.a)a=Ha(a.b);else{e=a.c[a.d[a.a-1]];if(0!==a.b.b&&(c=Ha(a.b),a.f(c,e))){a=c;break a}a=e}if(null===a||!s(a,b))break;a=Ga(this.e);ra(this,b.c,a.c)}xa(this,b)}this.a=this.h.a.a.b.a.a;for(b=0;null!==(a=this.h.a.a.b);)a.h||++b,Q(a);this.h=null;b=this.e;a=b.b;a.a=null;a.c=null;b.b=null;b.d=null;this.e=b.c=null;b=this.b;for(e=b.a.b;e!==b.a;e=a)a=e.b,e=e.a,e.e.e===e&&(P(e.c,e),I(e));if(!this.v){b=this.b;if(this.r)for(e=b.b.h;e!==b.b;e=a)a=e.h,e.b.d.c!==e.d.c?e.f=e.d.c?1:-1:I(e);else for(e=b.a.b;e!==\nb.a;e=a)if(a=e.b,e.c){for(e=e.a;t(z(e),e.a);e=e.c.b);for(;t(e.a,z(e));e=e.e);c=e.c.b;for(f=void 0;e.e!==c;)if(t(z(e),c.a)){for(;c.e!==e&&(ca(c.e)||0>=v(c.a,z(c),z(c.e)));)f=L(c.e,c),c=f.b;c=c.c.b}else{for(;c.e!==e&&(da(e.c.b)||0<=v(z(e),e.a,e.c.b.a));)f=L(e,e.c.b),e=f.b;e=e.e}for(;c.e.e!==e;)f=L(c.e,c),c=f.b}if(this.k||this.t||this.m||this.p||this.j||this.s||this.l||this.o)if(this.r)for(b=this.b,a=b.a.b;a!==b.a;a=a.b){if(a.c){this.j?this.j(2,this.c):this.k&&this.k(2);e=a.a;do c=e.a.d,this.l?this.l(c,\nthis.c):this.m&&this.m(c),e=e.e;while(e!==a.a);Ia(this)}}else{b=this.b;a=!(!this.p&&!this.o);e=!1;c=-1;for(f=b.a.d;f!==b.a;f=f.d)if(f.c){e||(this.j?this.j(4,this.c):this.k&&this.k(4),e=!0);g=f.a;do a&&(d=g.b.d.c?0:1,c!==d&&(c=d,d=!!c,this.o?this.o(d,this.c):this.p&&this.p(d))),d=g.a.d,this.l?this.l(d,this.c):this.m&&this.m(d),g=g.e;while(g!==f.a)}e&&Ia(this)}if(this.w){b=this.b;for(e=b.a.b;e!==b.a;e=a)if(a=e.b,!e.c){c=e.a;f=c.e;g=void 0;do g=f,f=g.e,g.d=null,null===g.b.d&&(g.c===g?F(g.a,null):(g.a.c=\ng.c,H(g,J(g))),d=g.b,d.c===d?F(d.a,null):(d.a.c=d.c,H(d,J(d))),fa(g));while(g!==c);c=e.d;e=e.b;e.d=c;c.b=e}this.w(this.b);this.c=this.b=null;return}}this.b=this.c=null};function $(a,b){if(a.d!==b)for(;a.d!==b;)if(a.d<b)switch(a.d){case 0:Y(a,100151);a.G(null);break;case 1:Y(a,100152),a.F()}else switch(a.d){case 2:Y(a,100154);a.H();break;case 1:Y(a,100153);var c=a;c.d=0;c.q=null;c.b=null}}\nfunction Da(a,b,c){var d=a.q;null===d?(d=ea(a.b),E(d,d.b)):(K(d),d=d.e);d.a.d=c;d.a.g[0]=b[0];d.a.g[1]=b[1];d.a.g[2]=b[2];d.f=1;d.b.f=-1;a.q=d}function Ca(a){a.b=new Ja;for(var b=0;b<a.f;b++){var c=a.y[b];Da(a,c.g,c.a)}a.f=0;a.u=!1}function Ia(a){a.s?a.s(a.c):a.t&&a.t()}function Y(a,b){a.B?a.B(b,a.c):a.C&&a.C(b)};function ga(a,b){this.b=a||this;this.d=b||this;this.a=null;this.c=!1};function M(){this.h=this;this.i=this.d=this.a=this.e=this.c=this.b=null;this.f=0}function z(a){return a.b.a}function J(a){return a.b.e};function Ja(){this.c=new N;this.a=new ga;this.b=new M;this.d=new M;this.b.b=this.d;this.d.b=this.b};function N(a,b){this.e=a||this;this.f=b||this;this.d=this.c=null;this.g=[0,0,0];this.a=this.b=0;this.h=null};function Ka(){this.a=null;this.b=0}function La(a,b){var c=Array(b),d=0;if(null!==a)for(;d<a.length;d++)c[d]=a[d];for(;d<b;d++)c[d]=new Ka;return c};function Ma(){this.a=0}function Na(a,b){var c=Array(b),d=0;if(null!==a)for(;d<a.length;d++)c[d]=a[d];for(;d<b;d++)c[d]=new Ma;return c};function Ea(){this.c=Oa(null,32);this.d=null;this.a=0;this.e=32;this.h=!1;this.f=t;this.b=new Pa(this.f)}function Fa(a){a.d=[];for(var b=0;b<a.a;b++)a.d[b]=b;a.d.sort(function(a,b){return function(f,g){return b(a[f],a[g])?1:-1}}(a.c,a.f));a.e=a.a;a.h=!0;Qa(a.b)}\nfunction wa(a,b){if(a.h){var c=a.b,d=++c.b;2*d>c.e&&(c.e*=2,c.c=Na(c.c,c.e+1),c.a=La(c.a,c.e+1));var f;0===c.d?f=d:(f=c.d,c.d=c.a[f].b);c.c[d].a=f;c.a[f].b=d;c.a[f].a=b;c.h&&ua(c,d);return f}c=a.a;++a.a>=a.e&&(a.e*=2,a.c=Oa(a.c,a.e));a.c[c]=b;return-(c+1)}function Oa(a,b){var c=Array(b),d=0;if(null!==a)for(;d<a.length;d++)c[d]=a[d];for(;d<b;d++)c[d]=null;return c}\nfunction Ga(a){if(0===a.a)return Ra(a.b);var b=a.c[a.d[a.a-1]];if(0!==a.b.b&&a.f(Ha(a.b),b))return Ra(a.b);do--a.a;while(0<a.a&&null===a.c[a.d[a.a-1]]);return b};function Pa(a){this.c=Na(null,33);this.a=La(null,33);this.b=0;this.e=32;this.d=0;this.h=!1;this.f=a;this.c[1].a=1}function Qa(a){for(var b=a.b;1<=b;--b)ta(a,b);a.h=!0}function Ha(a){return a.a[a.c[1].a].a}function Ra(a){var b=a.c,c=a.a,d=b[1].a,f=c[d].a;0<a.b&&(b[1].a=b[a.b].a,c[b[1].a].b=1,c[d].a=null,c[d].b=a.d,a.d=d,0<--a.b&&ta(a,1));return f}\nfunction ta(a,b){for(var c=a.c,d=a.a,f=c[b].a;;){var g=b<<1;g<a.b&&a.f(d[c[g+1].a].a,d[c[g].a].a)&&++g;var e=c[g].a;if(g>a.b||a.f(d[f].a,d[e].a)){c[b].a=f;d[f].b=b;break}c[b].a=e;d[e].b=b;b=g}}function ua(a,b){for(var c=a.c,d=a.a,f=c[b].a;;){var g=b>>1,e=c[g].a;if(0===g||a.f(d[e].a,d[f].a)){c[b].a=f;d[f].b=b;break}c[b].a=e;d[e].b=b;b=g}};function V(){this.e=this.a=null;this.f=0;this.c=this.b=this.h=this.d=!1}function U(a){return a.e.c.b}function T(a){return a.e.a.b};this.libtess={GluTesselator:Z,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},\ngluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}};Z.prototype.gluDeleteTess=Z.prototype.J;\nZ.prototype.gluTessProperty=Z.prototype.O;Z.prototype.gluGetTessProperty=Z.prototype.K;Z.prototype.gluTessNormal=Z.prototype.N;Z.prototype.gluTessCallback=Z.prototype.L;Z.prototype.gluTessVertex=Z.prototype.P;Z.prototype.gluTessBeginPolygon=Z.prototype.G;Z.prototype.gluTessBeginContour=Z.prototype.F;Z.prototype.gluTessEndContour=Z.prototype.H;Z.prototype.gluTessEndPolygon=Z.prototype.M; if (typeof module !== 'undefined') { module.exports = this.libtess; }\n",
    "/*\r\n* loglevel - https://github.com/pimterry/loglevel\r\n*\r\n* Copyright (c) 2013 Tim Perry\r\n* Licensed under the MIT license.\r\n*/\r\n(function (root, definition) {\r\n    if (typeof module === 'object' && module.exports && typeof require === 'function') {\r\n        module.exports = definition();\r\n    } else if (typeof define === 'function' && typeof define.amd === 'object') {\r\n        define(definition);\r\n    } else {\r\n        root.log = definition();\r\n    }\r\n}(this, function () {\r\n    var self = {};\r\n    var noop = function() {};\r\n    var undefinedType = \"undefined\";\r\n\r\n    function realMethod(methodName) {\r\n        if (typeof console === undefinedType) {\r\n            return false; // We can't build a real method without a console to log to\r\n        } else if (console[methodName] !== undefined) {\r\n            return bindMethod(console, methodName);\r\n        } else if (console.log !== undefined) {\r\n            return bindMethod(console, 'log');\r\n        } else {\r\n            return noop;\r\n        }\r\n    }\r\n\r\n    function bindMethod(obj, methodName) {\r\n        var method = obj[methodName];\r\n        if (typeof method.bind === 'function') {\r\n            return method.bind(obj);\r\n        } else {\r\n            try {\r\n                return Function.prototype.bind.call(method, obj);\r\n            } catch (e) {\r\n                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\r\n                return function() {\r\n                    return Function.prototype.apply.apply(method, [obj, arguments]);\r\n                };\r\n            }\r\n        }\r\n    }\r\n\r\n    function enableLoggingWhenConsoleArrives(methodName, level) {\r\n        return function () {\r\n            if (typeof console !== undefinedType) {\r\n                replaceLoggingMethods(level);\r\n                self[methodName].apply(self, arguments);\r\n            }\r\n        };\r\n    }\r\n\r\n    var logMethods = [\r\n        \"trace\",\r\n        \"debug\",\r\n        \"info\",\r\n        \"warn\",\r\n        \"error\"\r\n    ];\r\n\r\n    function replaceLoggingMethods(level) {\r\n        for (var i = 0; i < logMethods.length; i++) {\r\n            var methodName = logMethods[i];\r\n            self[methodName] = (i < level) ? noop : self.methodFactory(methodName, level);\r\n        }\r\n    }\r\n\r\n    function persistLevelIfPossible(levelNum) {\r\n        var levelName = (logMethods[levelNum] || 'silent').toUpperCase();\r\n\r\n        // Use localStorage if available\r\n        try {\r\n            window.localStorage['loglevel'] = levelName;\r\n            return;\r\n        } catch (ignore) {}\r\n\r\n        // Use session cookie as fallback\r\n        try {\r\n            window.document.cookie = \"loglevel=\" + levelName + \";\";\r\n        } catch (ignore) {}\r\n    }\r\n\r\n    function loadPersistedLevel() {\r\n        var storedLevel;\r\n\r\n        try {\r\n            storedLevel = window.localStorage['loglevel'];\r\n        } catch (ignore) {}\r\n\r\n        if (typeof storedLevel === undefinedType) {\r\n            try {\r\n                storedLevel = /loglevel=([^;]+)/.exec(window.document.cookie)[1];\r\n            } catch (ignore) {}\r\n        }\r\n        \r\n        if (self.levels[storedLevel] === undefined) {\r\n            storedLevel = \"WARN\";\r\n        }\r\n\r\n        self.setLevel(self.levels[storedLevel]);\r\n    }\r\n\r\n    /*\r\n     *\r\n     * Public API\r\n     *\r\n     */\r\n\r\n    self.levels = { \"TRACE\": 0, \"DEBUG\": 1, \"INFO\": 2, \"WARN\": 3,\r\n        \"ERROR\": 4, \"SILENT\": 5};\r\n\r\n    self.methodFactory = function (methodName, level) {\r\n        return realMethod(methodName) ||\r\n               enableLoggingWhenConsoleArrives(methodName, level);\r\n    };\r\n\r\n    self.setLevel = function (level) {\r\n        if (typeof level === \"string\" && self.levels[level.toUpperCase()] !== undefined) {\r\n            level = self.levels[level.toUpperCase()];\r\n        }\r\n        if (typeof level === \"number\" && level >= 0 && level <= self.levels.SILENT) {\r\n            persistLevelIfPossible(level);\r\n            replaceLoggingMethods(level);\r\n            if (typeof console === undefinedType && level < self.levels.SILENT) {\r\n                return \"No console available for logging\";\r\n            }\r\n        } else {\r\n            throw \"log.setLevel() called with invalid level: \" + level;\r\n        }\r\n    };\r\n\r\n    self.enableAll = function() {\r\n        self.setLevel(self.levels.TRACE);\r\n    };\r\n\r\n    self.disableAll = function() {\r\n        self.setLevel(self.levels.SILENT);\r\n    };\r\n\r\n    // Grab the current global log variable in case of overwrite\r\n    var _log = (typeof window !== undefinedType) ? window.log : undefined;\r\n    self.noConflict = function() {\r\n        if (typeof window !== undefinedType &&\r\n               window.log === self) {\r\n            window.log = _log;\r\n        }\r\n\r\n        return self;\r\n    };\r\n\r\n    loadPersistedLevel();\r\n    return self;\r\n}));\r\n",
    "'use strict';\n\nvar ieee754 = require('ieee754');\n\nmodule.exports = Protobuf;\nfunction Protobuf(buf) {\n    this.buf = buf;\n    this.length = buf.length;\n    this.pos = 0;\n}\n\nProtobuf.prototype.destroy = function() {\n    this.buf = null;\n};\n\nProtobuf.prototype.readUInt32 = function() {\n    var val = this.readUInt32LE(this.pos);\n    this.pos += 4;\n    return val;\n};\n\nProtobuf.prototype.readUInt64 = function() {\n    var val = this.readUInt64LE(this.pos);\n    this.pos += 8;\n    return val;\n};\n\nProtobuf.prototype.readDouble = function() {\n    var val = ieee754.read(this.buf, this.pos, false, 52, 8);\n    this.pos += 8;\n    return val;\n};\n\nProtobuf.prototype.readVarint = function() {\n    // TODO: bounds checking\n    var pos = this.pos;\n    if (this.buf[pos] <= 0x7f) {\n        this.pos++;\n        return this.buf[pos];\n    } else if (this.buf[pos + 1] <= 0x7f) {\n        this.pos += 2;\n        return (this.buf[pos] & 0x7f) | (this.buf[pos + 1] << 7);\n    } else if (this.buf[pos + 2] <= 0x7f) {\n        this.pos += 3;\n        return (this.buf[pos] & 0x7f) | (this.buf[pos + 1] & 0x7f) << 7 | (this.buf[pos + 2]) << 14;\n    } else if (this.buf[pos + 3] <= 0x7f) {\n        this.pos += 4;\n        return (this.buf[pos] & 0x7f) | (this.buf[pos + 1] & 0x7f) << 7 | (this.buf[pos + 2] & 0x7f) << 14 | (this.buf[pos + 3]) << 21;\n    } else if (this.buf[pos + 4] <= 0x7f) {\n        this.pos += 5;\n        return ((this.buf[pos] & 0x7f) | (this.buf[pos + 1] & 0x7f) << 7 | (this.buf[pos + 2] & 0x7f) << 14 | (this.buf[pos + 3]) << 21) + (this.buf[pos + 4] * 268435456);\n    } else {\n        this.skip(0);\n        return 0;\n        // throw new Error(\"TODO: Handle 6+ byte varints\");\n    }\n};\n\nProtobuf.prototype.readSVarint = function() {\n    var num = this.readVarint();\n    if (num > 2147483647) throw new Error('TODO: Handle numbers >= 2^30');\n    // zigzag encoding\n    return ((num >> 1) ^ -(num & 1));\n};\n\nProtobuf.prototype.readString = function() {\n    var bytes = this.readVarint();\n    // TODO: bounds checking\n    var chr = String.fromCharCode;\n    var b = this.buf;\n    var p = this.pos;\n    var end = this.pos + bytes;\n    var str = '';\n    while (p < end) {\n        if (b[p] <= 0x7F) str += chr(b[p++]);\n        else if (b[p] <= 0xBF) throw new Error('Invalid UTF-8 codepoint: ' + b[p]);\n        else if (b[p] <= 0xDF) str += chr((b[p++] & 0x1F) << 6 | (b[p++] & 0x3F));\n        else if (b[p] <= 0xEF) str += chr((b[p++] & 0x1F) << 12 | (b[p++] & 0x3F) << 6 | (b[p++] & 0x3F));\n        else if (b[p] <= 0xF7) p += 4; // We can't handle these codepoints in JS, so skip.\n        else if (b[p] <= 0xFB) p += 5;\n        else if (b[p] <= 0xFD) p += 6;\n        else throw new Error('Invalid UTF-8 codepoint: ' + b[p]);\n    }\n    this.pos += bytes;\n    return str;\n};\n\nProtobuf.prototype.readBuffer = function() {\n    var bytes = this.readVarint();\n    var buffer = this.buf.subarray(this.pos, this.pos + bytes);\n    this.pos += bytes;\n    return buffer;\n};\n\nProtobuf.prototype.readPacked = function(type) {\n    // TODO: bounds checking\n    var bytes = this.readVarint();\n    var end = this.pos + bytes;\n    var array = [];\n    while (this.pos < end) {\n        array.push(this['read' + type]());\n    }\n    return array;\n};\n\nProtobuf.prototype.skip = function(val) {\n    // TODO: bounds checking\n    var type = val & 0x7;\n    switch (type) {\n        /* varint */ case 0: while (this.buf[this.pos++] > 0x7f); break;\n        /* 64 bit */ case 1: this.pos += 8; break;\n        /* length */ case 2: var bytes = this.readVarint(); this.pos += bytes; break;\n        /* 32 bit */ case 5: this.pos += 4; break;\n        default: throw new Error('Unimplemented type: ' + type);\n    }\n};\n\n",
    "exports.read = function(buffer, offset, isLE, mLen, nBytes) {\n  var e, m,\n      eLen = nBytes * 8 - mLen - 1,\n      eMax = (1 << eLen) - 1,\n      eBias = eMax >> 1,\n      nBits = -7,\n      i = isLE ? (nBytes - 1) : 0,\n      d = isLE ? -1 : 1,\n      s = buffer[offset + i];\n\n  i += d;\n\n  e = s & ((1 << (-nBits)) - 1);\n  s >>= (-nBits);\n  nBits += eLen;\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8);\n\n  m = e & ((1 << (-nBits)) - 1);\n  e >>= (-nBits);\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8);\n\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity);\n  } else {\n    m = m + Math.pow(2, mLen);\n    e = e - eBias;\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n};\n\nexports.write = function(buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c,\n      eLen = nBytes * 8 - mLen - 1,\n      eMax = (1 << eLen) - 1,\n      eBias = eMax >> 1,\n      rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0),\n      i = isLE ? 0 : (nBytes - 1),\n      d = isLE ? 1 : -1,\n      s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0;\n\n  value = Math.abs(value);\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0;\n    e = eMax;\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2);\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * Math.pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n      e = 0;\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8);\n\n  e = (e << mLen) | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8);\n\n  buffer[offset + i - d] |= s * 128;\n};\n",
    "module.exports.VectorTile = require('./lib/vectortile.js');\nmodule.exports.VectorTileFeature = require('./lib/vectortilefeature.js');\nmodule.exports.VectorTileLayer = require('./lib/vectortilelayer.js');\n",
    "'use strict';\n\nvar VectorTileLayer = require('./vectortilelayer');\n\nmodule.exports = VectorTile;\n\nfunction VectorTile(buffer, end) {\n\n    this.layers = {};\n    this._buffer = buffer;\n\n    end = end || buffer.length;\n\n    while (buffer.pos < end) {\n        var val = buffer.readVarint(),\n            tag = val >> 3;\n\n        if (tag == 3) {\n            var layer = this.readLayer();\n            if (layer.length) this.layers[layer.name] = layer;\n        } else {\n            buffer.skip(val);\n        }\n    }\n}\n\nVectorTile.prototype.readLayer = function() {\n    var buffer = this._buffer,\n        bytes = buffer.readVarint(),\n        end = buffer.pos + bytes,\n        layer = new VectorTileLayer(buffer, end);\n\n    buffer.pos = end;\n\n    return layer;\n};\n\n// Returns a dictionary of layers as individual GeoJSON feature collections, keyed by layer name\nVectorTile.prototype.toGeoJSON = function () {\n    var json = {};\n    var layerNames = Object.keys(this.layers);\n\n    for (var n=0; n < layerNames.length; n++) {\n        json[layerNames[n]] = this.layers[layerNames[n]].toGeoJSON();\n    }\n\n    return json;\n};\n",
    "'use strict';\n\nvar Point = require('point-geometry');\n\nmodule.exports = VectorTileFeature;\n\nfunction VectorTileFeature(buffer, end, extent, keys, values) {\n\n    this.properties = {};\n\n    // Public\n    this.extent = extent;\n    this.type = 0;\n\n    // Private\n    this._buffer = buffer;\n    this._geometry = -1;\n    this._keys = keys;\n\n    end = end || buffer.length;\n\n    while (buffer.pos < end) {\n        var val = buffer.readVarint(),\n            tag = val >> 3;\n\n        if (tag == 1) {\n            this._id = buffer.readVarint();\n\n        } else if (tag == 2) {\n            var tagEnd = buffer.pos + buffer.readVarint();\n\n            while (buffer.pos < tagEnd) {\n                var key = keys[buffer.readVarint()];\n                var value = values[buffer.readVarint()];\n                this.properties[key] = value;\n            }\n\n        } else if (tag == 3) {\n            this.type = buffer.readVarint();\n\n        } else if (tag == 4) {\n            this._geometry = buffer.pos;\n            buffer.skip(val);\n\n        } else {\n            buffer.skip(val);\n        }\n    }\n}\n\nVectorTileFeature.types = ['Unknown', 'Point', 'LineString', 'Polygon'];\n\nVectorTileFeature.prototype.loadGeometry = function() {\n    var buffer = this._buffer;\n    buffer.pos = this._geometry;\n\n    var bytes = buffer.readVarint(),\n        end = buffer.pos + bytes,\n        cmd = 1,\n        length = 0,\n        x = 0,\n        y = 0,\n        lines = [],\n        line;\n\n    while (buffer.pos < end) {\n        if (!length) {\n            var cmd_length = buffer.readVarint();\n            cmd = cmd_length & 0x7;\n            length = cmd_length >> 3;\n        }\n\n        length--;\n\n        if (cmd === 1 || cmd === 2) {\n            x += buffer.readSVarint();\n            y += buffer.readSVarint();\n\n            if (cmd === 1) {\n                // moveTo\n                if (line) {\n                    lines.push(line);\n                }\n                line = [];\n            }\n\n            line.push(new Point(x, y));\n        } else if (cmd === 7) {\n            // closePolygon\n            line.push(line[0].clone());\n        } else {\n            throw new Error('unknown command ' + cmd);\n        }\n    }\n\n    if (line) lines.push(line);\n\n    return lines;\n};\n\nVectorTileFeature.prototype.bbox = function() {\n    var buffer = this._buffer;\n    buffer.pos = this._geometry;\n\n    var bytes = buffer.readVarint(),\n        end = buffer.pos + bytes,\n\n        cmd = 1,\n        length = 0,\n        x = 0,\n        y = 0,\n        x1 = Infinity,\n        x2 = -Infinity,\n        y1 = Infinity,\n        y2 = -Infinity;\n\n    while (buffer.pos < end) {\n        if (!length) {\n            var cmd_length = buffer.readVarint();\n            cmd = cmd_length & 0x7;\n            length = cmd_length >> 3;\n        }\n\n        length--;\n\n        if (cmd === 1 || cmd === 2) {\n            x += buffer.readSVarint();\n            y += buffer.readSVarint();\n            if (x < x1) x1 = x;\n            if (x > x2) x2 = x;\n            if (y < y1) y1 = y;\n            if (y > y2) y2 = y;\n\n        } else if (cmd !== 7) {\n            throw new Error('unknown command ' + cmd);\n        }\n    }\n\n    return [x1, y1, x2, y2];\n};\n\nVectorTileFeature.prototype.toGeoJSON = function () {\n    var geojson = {\n        type: 'Feature',\n        geometry: {},\n        properties: {}\n    };\n\n    for (var k=0; k < this._keys.length; k++) {\n        var key = this._keys[k];\n        geojson.properties[key] = this.properties[key];\n    }\n\n    geojson.geometry.coordinates = this.loadGeometry();\n    for (var r=0; r < geojson.geometry.coordinates.length; r++) {\n        var ring = geojson.geometry.coordinates[r];\n        for (var c=0; c < ring.length; c++) {\n            ring[c] = [\n                ring[c].x,\n                ring[c].y\n            ];\n        }\n    }\n\n    if (VectorTileFeature.types[this.type] == 'Point') {\n        geojson.geometry.type = 'Point';\n    }\n    else if (VectorTileFeature.types[this.type] == 'LineString') {\n        if (geojson.geometry.coordinates.length == 1) {\n            geojson.geometry.coordinates = geojson.geometry.coordinates[0];\n            geojson.geometry.type = 'LineString';\n        }\n        else {\n            geojson.geometry.type = 'MultiLineString';\n        }\n    }\n    else if (VectorTileFeature.types[this.type] == 'Polygon') {\n        geojson.geometry.type = 'Polygon';\n    }\n\n    return geojson;\n};\n",
    "'use strict';\n\nvar VectorTileFeature = require('./vectortilefeature.js');\n\nmodule.exports = VectorTileLayer;\nfunction VectorTileLayer(buffer, end) {\n    // Public\n    this.version = 1;\n    this.name = null;\n    this.extent = 4096;\n    this.length = 0;\n\n    // Private\n    this._buffer = buffer;\n    this._keys = [];\n    this._values = [];\n    this._features = [];\n\n    var val, tag;\n\n    end = end || buffer.length;\n\n    while (buffer.pos < end) {\n        val = buffer.readVarint();\n        tag = val >> 3;\n\n        if (tag === 15) {\n            this.version = buffer.readVarint();\n        } else if (tag === 1) {\n            this.name = buffer.readString();\n        } else if (tag === 5) {\n            this.extent = buffer.readVarint();\n        } else if (tag === 2) {\n            this.length++;\n            this._features.push(buffer.pos);\n            buffer.skip(val);\n\n        } else if (tag === 3) {\n            this._keys.push(buffer.readString());\n        } else if (tag === 4) {\n            this._values.push(this.readFeatureValue());\n        } else {\n            buffer.skip(val);\n        }\n    }\n}\n\nVectorTileLayer.prototype.readFeatureValue = function() {\n    var buffer = this._buffer,\n        value = null,\n        bytes = buffer.readVarint(),\n        end = buffer.pos + bytes,\n        val, tag;\n\n    while (buffer.pos < end) {\n        val = buffer.readVarint();\n        tag = val >> 3;\n\n        if (tag == 1) {\n            value = buffer.readString();\n        } else if (tag == 2) {\n            throw new Error('read float');\n        } else if (tag == 3) {\n            value = buffer.readDouble();\n        } else if (tag == 4) {\n            value = buffer.readVarint();\n        } else if (tag == 5) {\n            throw new Error('read uint');\n        } else if (tag == 6) {\n            value = buffer.readSVarint();\n        } else if (tag == 7) {\n            value = Boolean(buffer.readVarint());\n        } else {\n            buffer.skip(val);\n        }\n    }\n\n    return value;\n};\n\n// return feature `i` from this layer as a `VectorTileFeature`\nVectorTileLayer.prototype.feature = function(i) {\n    if (i < 0 || i >= this._features.length) throw new Error('feature index out of bounds');\n\n    this._buffer.pos = this._features[i];\n    var end = this._buffer.readVarint() + this._buffer.pos;\n\n    return new VectorTileFeature(this._buffer, end, this.extent, this._keys, this._values);\n};\n\nVectorTileLayer.prototype.toGeoJSON = function () {\n    var geojson = {\n        type: 'FeatureCollection',\n        features: []\n    };\n\n    for (var f=0; f < this.length; f++) {\n        geojson.features.push(this.feature(f).toGeoJSON());\n    }\n\n    return geojson;\n};\n",
    "'use strict';\n\nmodule.exports = Point;\n\nfunction Point(x, y) {\n    this.x = x;\n    this.y = y;\n}\n\nPoint.prototype = {\n    clone: function() { return new Point(this.x, this.y); },\n\n    add:     function(p) { return this.clone()._add(p);     },\n    sub:     function(p) { return this.clone()._sub(p);     },\n    mult:    function(k) { return this.clone()._mult(k);    },\n    div:     function(k) { return this.clone()._div(k);     },\n    rotate:  function(a) { return this.clone()._rotate(a);  },\n    matMult: function(m) { return this.clone()._matMult(m); },\n    unit:    function() { return this.clone()._unit(); },\n    perp:    function() { return this.clone()._perp(); },\n    round:   function() { return this.clone()._round(); },\n\n    mag: function() {\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n    },\n\n    equals: function(p) {\n        return this.x === p.x &&\n               this.y === p.y;\n    },\n\n    dist: function(p) {\n        return Math.sqrt(this.distSqr(p));\n    },\n\n    distSqr: function(p) {\n        var dx = p.x - this.x,\n            dy = p.y - this.y;\n        return dx * dx + dy * dy;\n    },\n\n    angle: function() {\n        return Math.atan2(this.y, this.x);\n    },\n\n    angleTo: function(b) {\n        return Math.atan2(this.y - b.y, this.x - b.x);\n    },\n\n    angleWith: function(b) {\n        return this.angleWithSep(b.x, b.y);\n    },\n\n    // Find the angle of the two vectors, solving the formula for the cross product a x b = |a||b|sin() for .\n    angleWithSep: function(x, y) {\n        return Math.atan2(\n            this.x * y - this.y * x,\n            this.x * x + this.y * y);\n    },\n\n    _matMult: function(m) {\n        var x = m[0] * this.x + m[1] * this.y,\n            y = m[2] * this.x + m[3] * this.y;\n        this.x = x;\n        this.y = y;\n        return this;\n    },\n\n    _add: function(p) {\n        this.x += p.x;\n        this.y += p.y;\n        return this;\n    },\n\n    _sub: function(p) {\n        this.x -= p.x;\n        this.y -= p.y;\n        return this;\n    },\n\n    _mult: function(k) {\n        this.x *= k;\n        this.y *= k;\n        return this;\n    },\n\n    _div: function(k) {\n        this.x /= k;\n        this.y /= k;\n        return this;\n    },\n\n    _unit: function() {\n        this._div(this.mag());\n        return this;\n    },\n\n    _perp: function() {\n        var y = this.y;\n        this.y = this.x;\n        this.x = -y;\n        return this;\n    },\n\n    _rotate: function(angle) {\n        var cos = Math.cos(angle),\n            sin = Math.sin(angle),\n            x = cos * this.x - sin * this.y,\n            y = sin * this.x + cos * this.y;\n        this.x = x;\n        this.y = y;\n        return this;\n    },\n\n    _round: function() {\n        this.x = Math.round(this.x);\n        this.y = Math.round(this.y);\n        return this;\n    }\n};\n\n// constructs Point from an array if necessary\nPoint.convert = function (a) {\n    if (a instanceof Point) {\n        return a;\n    }\n    if (Array.isArray(a)) {\n        return new Point(a[0], a[1]);\n    }\n    return a;\n};\n",
    "/*global Camera */\nimport {Geo} from './geo';\nimport Utils from './utils';\nimport GLProgram from './gl/gl_program';\n\nimport glMatrix from 'gl-matrix';\nvar mat4 = glMatrix.mat4;\nvar vec3 = glMatrix.vec3;\n\n// Abstract base class\nexport default class Camera {\n\n    constructor(scene) {\n        this.scene = scene;\n    }\n\n    // Create a camera by type name, factory-style\n    static create(scene, config) {\n        switch (config.type) {\n            case 'isometric':\n                return new IsometricCamera(scene, config);\n            case 'perspective':\n                return new PerspectiveCamera(scene, config);\n            case 'flat':\n            /* falls through */\n            default:\n                return new FlatCamera(scene, config);\n        }\n    }\n\n    // Update method called once per frame\n    update() {\n    }\n\n    // Called once per frame per program (e.g. for main render pass, then for each additional pass for feature selection, etc.)\n    setupProgram(program) {\n    }\n\n}\n\n// Classic perspective matrix projection\n// This is a specialized perspective camera that, given a desired camera focal length (which can also vary by zoom level),\n// constrains the camera height above the ground plane such that the displayed ground area of the map matches that of\n// a traditional web mercator map. This means you can set the camera location by [lat, lng, zoom] as you would a typical\n// web mercator map, then adjust the focal length as needed.\n// Vanishing point can also be adjusted to achieve different \"viewing angles\", e.g. instead of looking straight down into\n// the center of the viewport, the camera appears to be tilted at an angle. For example:\n// [0, 0] = looking towards center of screen\n// [-1, -1] = looking at lower-left corner of screen\n// [1, 0] = looking at center-right side of screen\nclass PerspectiveCamera extends Camera {\n\n    constructor(scene, options = {}) {\n        super(scene);\n        this.type = 'perspective';\n\n        // a single scalar, or pairs of stops mapping zoom levels, e.g. [zoom, focal length]\n        this.focal_length = options.focal_length || [[16, 2], [17, 2.5], [18, 3], [19, 4], [20, 6]];\n\n        this.vanishing_point = options.vanishing_point || [0, 0]; // [x, y]\n        this._vanishing_point = [];\n\n        this.height = null;\n        this.computed_focal_length = null;\n        this.perspective_mat = mat4.create();\n\n        // 'camera' is the name of the shader transform, e.g. determines where in the shader this code is injected\n        GLProgram.removeTransform('camera');\n        GLProgram.addTransform('camera', `\n            uniform mat4 u_perspective;\n\n            void cameraProjection (inout vec4 position) {\n                position = u_perspective * position;\n            }`\n        );\n    }\n\n    update() {\n        // TODO: only re-calculate these vars when necessary\n\n        // Height of the viewport in meters at current zoom\n        var meter_zoom_y = this.scene.css_size.height * Geo.metersPerPixel(this.scene.zoom);\n\n        // Determine focal length, which can be a constant value, or interpolated across zoom levels\n        this.computed_focal_length = Utils.interpolate(this.scene.zoom, this.focal_length);\n\n        // Distance that camera should be from ground such that it fits the field of view expected\n        // for a conventional web mercator map at the current zoom level and camera focal length\n        this.height = meter_zoom_y / 2 * this.computed_focal_length;\n\n        // Perspective matrix params\n        // Adjusment of focal length (arctangent) is because perspective matrix builder expects field-of-view in radians, but we are\n        // passing the final value expected to be in the perspective matrix, so we need to reverse-calculate the original FOV here.\n        var fov = Math.atan(1 / this.computed_focal_length) * 2;\n        var aspect = this.scene.view_aspect;\n        var znear = 1;\n        var zfar = (this.height + 1);\n\n        mat4.perspective(this.perspective_mat, fov, aspect, znear, zfar);\n\n        // Convert vanishing point from pixels to viewport space\n        this._vanishing_point[0] = this.vanishing_point[0] / this.scene.css_size.width;\n        this._vanishing_point[1] = this.vanishing_point[1] / this.scene.css_size.height;\n\n        // Adjust perspective matrix to include vanishing point skew\n        this.perspective_mat[8] = -this._vanishing_point[0]; // z column of x row, e.g. factor by which z coordinate skews x coordinate\n        this.perspective_mat[9] = -this._vanishing_point[1]; // z column of y row, e.g. factor by which z coordinate skews y coordinate\n\n        // Translate geometry into the distance so that camera is appropriate height above ground\n        // Additionally, adjust xy to compensate for any vanishing point skew, e.g. move geometry so that the displayed ground\n        // plane of the map matches that expected by a traditional web mercator map at this [lat, lng, zoom].\n        mat4.translate(this.perspective_mat, this.perspective_mat, vec3.fromValues(\n            meter_zoom_y/2 * aspect * -this._vanishing_point[0],\n            meter_zoom_y/2 * -this._vanishing_point[1],\n            -this.height)\n        );\n    }\n\n    setupProgram(program) {\n        program.uniform('Matrix4fv', 'u_perspective', false, this.perspective_mat);\n    }\n\n}\n\n// Isometric-style projection\n// Note: this is actually an \"axonometric\" projection, but I'm using the colloquial term isometric because it is more recognizable.\n// An isometric projection is a specific subset of axonometric projections.\n// 'axis' determines the xy skew applied to a vertex based on its z coordinate, e.g. [0, 1] axis causes buildings to be drawn\n// straight upwards on screen at their true height, [0, .5] would draw them up at half-height, [1, 0] would be sideways, etc.\nclass IsometricCamera extends Camera {\n\n    constructor(scene, options = {}) {\n        super(scene);\n        this.type = 'isometric';\n        this.axis = options.axis || { x: 0, y: 1 };\n        if (this.axis.length === 2) {\n            this.axis = { x: this.axis[0], y: this.axis[1] }; // allow axis to also be passed as 2-elem array\n        }\n\n        this.meter_view_mat = mat4.create();\n\n        // 'camera' is the name of the shader transform, e.g. determines where in the shader this code is injected\n        GLProgram.removeTransform('camera');\n        GLProgram.addTransform('camera', `\n            uniform mat4 u_meter_view;\n            uniform vec2 u_isometric_axis;\n\n            void cameraProjection (inout vec4 position) {\n                position = u_meter_view * position;\n                position.xy += position.z * u_isometric_axis;\n\n                // Reverse z for depth buffer so up is negative,\n                // and scale down values so objects higher than one screen height will not get clipped\n                position.z = -position.z / 100. + 1. - 0.001; // pull forward slightly to avoid going past far clipping plane\n            }`\n        );\n    }\n\n    update() {\n        // Convert mercator meters to screen space\n        mat4.identity(this.meter_view_mat);\n        mat4.scale(this.meter_view_mat, this.meter_view_mat, vec3.fromValues(1 / this.scene.meter_zoom.x, 1 / this.scene.meter_zoom.y, 1 / this.scene.meter_zoom.y));\n    }\n\n    setupProgram(program) {\n        program.uniform('2f', 'u_isometric_axis', this.axis.x / this.scene.view_aspect, this.axis.y);\n        program.uniform('Matrix4fv', 'u_meter_view', false, this.meter_view_mat);\n    }\n\n}\n\n// Flat projection (e.g. just top-down, no perspective) - a degenerate isometric camera\nclass FlatCamera extends IsometricCamera {\n\n    constructor(scene, options = {}) {\n        super(scene, options);\n        this.type = 'flat';\n    }\n\n    update() {\n        // Axis is fixed to (0, 0) for flat camera\n        this.axis.x = 0;\n        this.axis.y = 0;\n\n        super.update();\n    }\n\n}\n",
    "\n\nexport class MethodNotImplemented extends Error {\n    constructor(methodName) {\n        this.name    = 'MethodNotImplemented';\n        this.message = 'Method ' + methodName + ' must be implemented in subclass';\n    }\n}\n",
    "// Miscellaneous geo functions\n\nexport var Geo = {};\n\n// Projection constants\nGeo.tile_size = 256;\nGeo.half_circumference_meters = 20037508.342789244;\nGeo.min_zoom_meters_per_pixel = Geo.half_circumference_meters * 2 / Geo.tile_size; // min zoom draws world as 2 tiles wide\nGeo.meters_per_pixel = [];\nGeo.max_zoom = 20;\nfor (var z=0; z <= Geo.max_zoom; z++) {\n    Geo.meters_per_pixel[z] = Geo.min_zoom_meters_per_pixel / Math.pow(2, z);\n}\n\nGeo.metersPerPixel = function (zoom) {\n    return Geo.min_zoom_meters_per_pixel / Math.pow(2, zoom);\n};\n\n// Conversion functions based on an defined tile scale\nGeo.units_per_meter = [];\nGeo.setTileScale = function(scale)\n{\n    Geo.tile_scale = scale;\n    Geo.units_per_pixel = Geo.tile_scale / Geo.tile_size;\n\n    for (var z=0; z <= Geo.max_zoom; z++) {\n        Geo.units_per_meter[z] = Geo.tile_scale / (Geo.tile_size * Geo.meters_per_pixel[z]);\n    }\n};\n\n// Convert tile location to mercator meters - multiply by pixels per tile, then by meters per pixel, adjust for map origin\nGeo.metersForTile = function (tile) {\n    return {\n        x: tile.x * Geo.half_circumference_meters * 2 / Math.pow(2, tile.z) - Geo.half_circumference_meters,\n        y: -(tile.y * Geo.half_circumference_meters * 2 / Math.pow(2, tile.z) - Geo.half_circumference_meters)\n    };\n};\n\n/**\n   Convert mercator meters to lat-lng\n*/\nGeo.metersToLatLng = function ([x, y]) {\n\n    x /= Geo.half_circumference_meters;\n    y /= Geo.half_circumference_meters;\n\n    y = (2 * Math.atan(Math.exp(y * Math.PI)) - (Math.PI / 2)) / Math.PI;\n\n    x *= 180;\n    y *= 180;\n\n    return [x, y];\n};\n\n/**\n  Convert lat-lng to mercator meters\n*/\nGeo.latLngToMeters = function([x, y]) {\n\n    // Latitude\n    y = Math.log(Math.tan(y*Math.PI/360 + Math.PI/4)) / Math.PI;\n    y *= Geo.half_circumference_meters;\n\n    // Longitude\n    x *= Geo.half_circumference_meters / 180;\n\n    return [x, y];\n};\n\n// Run a transform function on each cooordinate in a GeoJSON geometry\nGeo.transformGeometry = function (geometry, transform)\n{\n    if (geometry.type === 'Point') {\n        return transform(geometry.coordinates);\n    }\n    else if (geometry.type === 'LineString' || geometry.type === 'MultiPoint') {\n        return geometry.coordinates.map(transform);\n    }\n    else if (geometry.type === 'Polygon' || geometry.type === 'MultiLineString') {\n        return geometry.coordinates.map(function (coordinates) {\n            return coordinates.map(transform);\n        });\n    }\n    else if (geometry.type === 'MultiPolygon') {\n        return geometry.coordinates.map(function (polygon) {\n            return polygon.map(function (coordinates) {\n                return coordinates.map(transform);\n            });\n        });\n    }\n    // TODO: support GeometryCollection\n    return {};\n};\n\nGeo.boxIntersect = function (b1, b2)\n{\n    return !(\n        b2.sw.x > b1.ne.x ||\n        b2.ne.x < b1.sw.x ||\n        b2.sw.y > b1.ne.y ||\n        b2.ne.y < b1.sw.y\n    );\n};\n\n// Finds the axis-aligned bounding box for a polygon\nGeo.findBoundingBox = function (polygon) {\n    var min_x = Infinity,\n        max_x = -Infinity,\n        min_y = Infinity,\n        max_y = -Infinity;\n\n    // Only need to examine outer ring (polygon[0])\n    var num_coords = polygon[0].length;\n    for (var c=0; c < num_coords; c++) {\n        var coord = polygon[0][c];\n\n        if (coord[0] < min_x) {\n            min_x = coord[0];\n        }\n        if (coord[1] < min_y) {\n            min_y = coord[1];\n        }\n        if (coord[0] > max_x) {\n            max_x = coord[0];\n        }\n        if (coord[1] > max_y) {\n            max_y = coord[1];\n        }\n    }\n\n    return [min_x, min_y, max_x, max_y];\n};\n",
    "// WebGL management and rendering functions\nimport libtess from 'libtess';\nimport log from 'loglevel';\nexport var GL = {};\n\n// Setup a WebGL context\n// If no canvas element is provided, one is created and added to the document body\nGL.getContext = function getContext (canvas)\n{\n\n    var fullscreen = false;\n    if (canvas == null) {\n        canvas = document.createElement('canvas');\n        canvas.style.position = 'absolute';\n        canvas.style.top = 0;\n        canvas.style.left = 0;\n        canvas.style.zIndex = -1;\n        document.body.appendChild(canvas);\n        fullscreen = true;\n    }\n\n    var gl = canvas.getContext('experimental-webgl');\n    if (!gl) {\n        alert(\"Couldn't create WebGL context. Your browser probably doesn't support WebGL or it's turned off?\");\n        throw \"Couldn't create WebGL context\";\n    }\n\n    GL.resizeCanvas(gl, window.innerWidth, window.innerHeight);\n    if (fullscreen === true) {\n        window.addEventListener('resize', function () {\n            GL.resizeCanvas(gl, window.innerWidth, window.innerHeight);\n        });\n    }\n\n    // GLVertexArrayObject.init(gl); // TODO: this pattern doesn't support multiple active GL contexts, should that even be supported?\n\n    return gl;\n};\n\nGL.resizeCanvas = function (gl, width, height)\n{\n    var device_pixel_ratio = window.devicePixelRatio || 1;\n    gl.canvas.style.width = width + 'px';\n    gl.canvas.style.height = height + 'px';\n    gl.canvas.width = Math.round(gl.canvas.style.width * device_pixel_ratio);\n    gl.canvas.height = Math.round(gl.canvas.style.width * device_pixel_ratio);\n    gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\n};\n\n// Compile & link a WebGL program from provided vertex and fragment shader sources\n// update a program if one is passed in. Create one if not. Alert and don't update anything if the shaders don't compile.\nGL.updateProgram = function GLupdateProgram (gl, program, vertex_shader_source, fragment_shader_source)\n{\n    try {\n        var vertex_shader = GL.createShader(gl, vertex_shader_source, gl.VERTEX_SHADER);\n        var fragment_shader = GL.createShader(gl, '#ifdef GL_ES\\nprecision highp float;\\n#endif\\n\\n' + fragment_shader_source, gl.FRAGMENT_SHADER);\n    }\n    catch(err) {\n        log.error(err);\n        throw err;\n    }\n\n    gl.useProgram(null);\n    if (program != null) {\n        var old_shaders = gl.getAttachedShaders(program);\n        for(var i = 0; i < old_shaders.length; i++) {\n            gl.detachShader(program, old_shaders[i]);\n        }\n    } else {\n        program = gl.createProgram();\n    }\n\n    if (vertex_shader == null || fragment_shader == null) {\n        return program;\n    }\n\n    gl.attachShader(program, vertex_shader);\n    gl.attachShader(program, fragment_shader);\n\n    gl.deleteShader(vertex_shader);\n    gl.deleteShader(fragment_shader);\n\n    gl.linkProgram(program);\n\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n        var program_error = new Error(\n            `WebGL program error:\n            VALIDATE_STATUS: ${gl.getProgramParameter(program, gl.VALIDATE_STATUS)}\n            ERROR: ${gl.getError()}\n            --- Vertex Shader ---\n            ${vertex_shader_source}\n            --- Fragment Shader ---\n            ${fragment_shader_source}`);\n        log.error(program_error);\n        throw program_error;\n    }\n\n    return program;\n};\n\n// Compile a vertex or fragment shader from provided source\nGL.createShader = function GLcreateShader (gl, source, type)\n{\n    var shader = gl.createShader(type);\n\n    gl.shaderSource(shader, source);\n    gl.compileShader(shader);\n\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        var shader_error =\n            \"WebGL shader error:\\n\" +\n            (type === gl.VERTEX_SHADER ? \"VERTEX\" : \"FRAGMENT\") + \" SHADER:\\n\" +\n            gl.getShaderInfoLog(shader);\n        throw shader_error;\n    }\n\n    return shader;\n};\n\n// Triangulation using libtess.js port of gluTesselator\n// https://github.com/brendankenny/libtess.js\nGL.tesselator = (function initTesselator() {\n    var tesselator = new libtess.GluTesselator();\n\n    // Called for each vertex of tesselator output\n    function vertexCallback(data, polyVertArray) {\n        if (tesselator.z != null) {\n            polyVertArray.push([data[0], data[1], tesselator.z]);\n        }\n        else {\n            polyVertArray.push([data[0], data[1]]);\n        }\n    }\n\n    // Called when segments intersect and must be split\n    function combineCallback(coords, data, weight) {\n        return coords;\n    }\n\n    // Called when a vertex starts or stops a boundary edge of a polygon\n    function edgeCallback(flag) {\n        // No-op callback to force simple triangle primitives (no triangle strips or fans).\n        // See: http://www.glprogramming.com/red/chapter11.html\n        // \"Since edge flags make no sense in a triangle fan or triangle strip, if there is a callback\n        // associated with GLU_TESS_EDGE_FLAG that enables edge flags, the GLU_TESS_BEGIN callback is\n        // called only with GL_TRIANGLES.\"\n        log.trace('GL.tesselator: edge flag: ' + flag);\n    }\n\n    tesselator.gluTessCallback(libtess.gluEnum.GLU_TESS_VERTEX_DATA, vertexCallback);\n    tesselator.gluTessCallback(libtess.gluEnum.GLU_TESS_COMBINE, combineCallback);\n    tesselator.gluTessCallback(libtess.gluEnum.GLU_TESS_EDGE_FLAG, edgeCallback);\n\n    // Brendan Kenny:\n    // libtess will take 3d verts and flatten to a plane for tesselation\n    // since only doing 2d tesselation here, provide z=1 normal to skip\n    // iterating over verts only to get the same answer.\n    // comment out to test normal-generation code\n    tesselator.gluTessNormal(0, 0, 1);\n\n    return tesselator;\n})();\n\nGL.triangulatePolygon = function GLTriangulate (contours, z)\n{\n    var triangleVerts = [];\n    GL.tesselator.z = z;\n    GL.tesselator.gluTessBeginPolygon(triangleVerts);\n\n    for (var i = 0; i < contours.length; i++) {\n        GL.tesselator.gluTessBeginContour();\n        var contour = contours[i];\n        for (var j = 0; j < contour.length; j ++) {\n            var coords = [contour[j][0], contour[j][1], 0];\n            GL.tesselator.gluTessVertex(coords, coords);\n        }\n        GL.tesselator.gluTessEndContour();\n    }\n\n    GL.tesselator.gluTessEndPolygon();\n    return triangleVerts;\n};\n",
    "import {Vector} from '../vector';\nimport {Geo} from '../geo';\nimport {GL} from './gl';\nexport var GLBuilders = {};\n\nGLBuilders.debug = false;\n\n// Tesselate a flat 2D polygon\n// x & y coordinates will be set as first two elements of provided vertex_template\nGLBuilders.buildPolygons = function (\n    polygons,\n    vertex_data, vertex_template,\n    { texcoord_index, texcoord_scale }) {\n\n    var [[min_u, min_v], [max_u, max_v]] = texcoord_scale || [[0, 0], [1, 1]];\n    var num_polygons = polygons.length;\n    for (var p=0; p < num_polygons; p++) {\n        var polygon = polygons[p];\n\n        // Find polygon extents to calculate UVs, fit them to the axis-aligned bounding box\n        if (texcoord_index) {\n            var [min_x, min_y, max_x, max_y] = Geo.findBoundingBox(polygon);\n            var span_x = max_x - min_x;\n            var span_y = max_y - min_y;\n            var scale_u = (max_u - min_u) / span_x;\n            var scale_v = (max_v - min_v) / span_y;\n        }\n\n        // Tessellate\n        var vertices = GL.triangulatePolygon(polygon);\n\n        // Add vertex data\n        var num_vertices = vertices.length;\n        for (var v=0; v < num_vertices; v++) {\n            var vertex = vertices[v];\n            vertex_template[0] = vertex[0];\n            vertex_template[1] = vertex[1];\n\n            // Add UVs\n            if (texcoord_index) {\n                vertex_template[texcoord_index + 0] = (vertex[0] - min_x) * scale_u + min_u;\n                vertex_template[texcoord_index + 1] = (vertex[1] - min_y) * scale_v + min_v;\n            }\n\n            vertex_data.addVertex(vertex_template);\n        }\n    }\n};\n\n// Tesselate and extrude a flat 2D polygon into a simple 3D model with fixed height and add to GL vertex buffer\nGLBuilders.buildExtrudedPolygons = function (\n    polygons,\n    z, height, min_height,\n    vertex_data, vertex_template,\n    normal_index,\n    { texcoord_index, texcoord_scale }) {\n\n    var min_z = z + (min_height || 0);\n    var max_z = z + height;\n    var [[min_u, min_v], [max_u, max_v]] = texcoord_scale || [[0, 0], [1, 1]];\n\n    // Top\n    vertex_template[2] = max_z;\n    GLBuilders.buildPolygons(polygons, vertex_data, vertex_template, { texcoord_index });\n\n    // Walls\n    var num_polygons = polygons.length;\n    for (var p=0; p < num_polygons; p++) {\n        var polygon = polygons[p];\n\n        for (var q=0; q < polygon.length; q++) {\n            var contour = polygon[q];\n\n            for (var w=0; w < contour.length - 1; w++) {\n                // Two triangles for the quad formed by each vertex pair, going from bottom to top height\n                var wall_vertices = [\n                    // Triangle\n                    [contour[w+1][0], contour[w+1][1], max_z],\n                    [contour[w+1][0], contour[w+1][1], min_z],\n                    [contour[w][0], contour[w][1], min_z],\n                    // Triangle\n                    [contour[w][0], contour[w][1], min_z],\n                    [contour[w][0], contour[w][1], max_z],\n                    [contour[w+1][0], contour[w+1][1], max_z]\n                ];\n\n                // Fit UVs to wall quad\n                if (texcoord_index) {\n                    var texcoords = [\n                        [min_u, max_v],\n                        [min_u, min_v],\n                        [max_u, min_v],\n\n                        [max_u, min_v],\n                        [max_u, max_v],\n                        [min_u, max_v]\n                    ];\n                }\n\n                // Calc the normal of the wall from up vector and one segment of the wall triangles\n                var normal = Vector.cross(\n                    [0, 0, 1],\n                    Vector.normalize([contour[w+1][0] - contour[w][0], contour[w+1][1] - contour[w][1], 0])\n                );\n\n                // Update vertex template with current surface normal\n                vertex_template[normal_index + 0] = normal[0];\n                vertex_template[normal_index + 1] = normal[1];\n                vertex_template[normal_index + 2] = normal[2];\n\n                for (var wv=0; wv < wall_vertices.length; wv++) {\n                    vertex_template[0] = wall_vertices[wv][0];\n                    vertex_template[1] = wall_vertices[wv][1];\n                    vertex_template[2] = wall_vertices[wv][2];\n\n                    if (texcoord_index) {\n                        vertex_template[texcoord_index + 0] = texcoords[wv][0];\n                        vertex_template[texcoord_index + 1] = texcoords[wv][1];\n                    }\n\n                    vertex_data.addVertex(vertex_template);\n                }\n            }\n        }\n    }\n};\n\n// Build tessellated triangles for a polyline\n// Basically following the method described here for miter joints:\n// http://artgrammer.blogspot.co.uk/2011/07/drawing-polylines-by-tessellation.html\nGLBuilders.buildPolylines = function (\n    lines,\n    z, width,\n    vertex_data, vertex_template,\n    {\n        closed_polygon,\n        remove_tile_edges,\n        texcoord_index,\n        texcoord_scale\n    }) {\n\n    // Build triangles\n    var vertices = [],\n        texcoords = [],\n        p,\n        pa,\n        pb,\n        num_lines = lines.length;\n\n    var [[min_u, min_v], [max_u, max_v]] = texcoord_scale || [[0, 0], [1, 1]];\n\n    for (var ln = 0; ln < num_lines; ln++) {\n        var line = lines[ln];\n\n        // Multiple line segments\n        if (line.length > 2) {\n            // Build anchors for line segments:\n            // anchors are 3 points, each connecting 2 line segments that share a joint (start point, joint point, end point)\n\n            var anchors = [];\n\n            if (line.length > 3) {\n                // Find midpoints of each line segment\n                // For closed polygons, calculate all midpoints since segments will wrap around to first midpoint\n                var mid = [];\n                var pmax;\n                if (closed_polygon === true) {\n                    p = 0; // start on first point\n                    pmax = line.length - 1;\n                }\n                // For open polygons, skip first midpoint and use line start instead\n                else {\n                    p = 1; // start on second point\n                    pmax = line.length - 2;\n                    mid.push(line[0]); // use line start instead of first midpoint\n                }\n\n                // Calc midpoints\n                for (; p < pmax; p++) {\n                    pa = line[p];\n                    pb = line[p+1];\n                    mid.push([(pa[0] + pb[0]) / 2, (pa[1] + pb[1]) / 2]);\n                }\n\n                // Same closed/open polygon logic as above: keep last midpoint for closed, skip for open\n                var mmax;\n                if (closed_polygon === true) {\n                    mmax = mid.length;\n                }\n                else {\n                    mid.push(line[line.length-1]); // use line end instead of last midpoint\n                    mmax = mid.length - 1;\n                }\n\n                // Make anchors by connecting midpoints to line joints\n                for (p=0; p < mmax; p++)  {\n                    anchors.push([mid[p], line[(p+1) % line.length], mid[(p+1) % mid.length]]);\n                }\n            }\n            else {\n                // Degenerate case, a 3-point line is just a single anchor\n                anchors = [[line[0], line[1], line[2]]];\n            }\n\n            for (p=0; p < anchors.length; p++) {\n                if (!remove_tile_edges) {\n                    buildAnchor(anchors[p][0], anchors[p][1], anchors[p][2]);\n                }\n                else {\n                    var edge1 = GLBuilders.isOnTileEdge(anchors[p][0], anchors[p][1]);\n                    var edge2 = GLBuilders.isOnTileEdge(anchors[p][1], anchors[p][2]);\n                    if (!edge1 && !edge2) {\n                        buildAnchor(anchors[p][0], anchors[p][1], anchors[p][2]);\n                    }\n                    else if (!edge1) {\n                        buildSegment(anchors[p][0], anchors[p][1]);\n                    }\n                    else if (!edge2) {\n                        buildSegment(anchors[p][1], anchors[p][2]);\n                    }\n                }\n            }\n        }\n        // Single 2-point segment\n        else if (line.length === 2) {\n            buildSegment(line[0], line[1]); // TODO: replace buildSegment with a degenerate form of buildAnchor? buildSegment is still useful for debugging\n        }\n    }\n\n    // Add vertices to buffer\n    for (var v=0; v < vertices.length; v++) {\n        vertex_template[0] = vertices[v][0];\n        vertex_template[1] = vertices[v][1];\n\n        // Add UVs\n        if (texcoord_index) {\n            vertex_template[texcoord_index + 0] = texcoords[v][0];\n            vertex_template[texcoord_index + 1] = texcoords[v][1];\n        }\n\n        vertex_data.addVertex(vertex_template);\n    }\n\n    // Build triangles for a single line segment, extruded by the provided width\n    function buildSegment (pa, pb) {\n        var slope = Vector.normalize([(pb[1] - pa[1]) * -1, pb[0] - pa[0]]);\n\n        var pa_outer = [pa[0] + slope[0] * width/2, pa[1] + slope[1] * width/2];\n        var pa_inner = [pa[0] - slope[0] * width/2, pa[1] - slope[1] * width/2];\n\n        var pb_outer = [pb[0] + slope[0] * width/2, pb[1] + slope[1] * width/2];\n        var pb_inner = [pb[0] - slope[0] * width/2, pb[1] - slope[1] * width/2];\n\n        vertices.push(\n            pb_inner, pb_outer, pa_inner,\n            pa_inner, pb_outer, pa_outer\n        );\n\n        // Add UVs\n        if (texcoord_index) {\n            texcoords.push(\n                [min_u, min_v], [max_u, min_v], [min_u, max_v],\n                [min_u, max_v], [max_u, min_v], [max_u, max_v]\n            );\n        }\n    }\n\n    // Build triangles for a 3-point 'anchor' shape, consisting of two line segments with a joint\n    // TODO: move these functions out of closures and into utilities\n    function buildAnchor (pa, joint, pb) {\n        // Inner and outer line segments for [pa, joint] and [joint, pb]\n        var pa_slope = Vector.normalize([(joint[1] - pa[1]) * -1, joint[0] - pa[0]]);\n        var pa_outer = [\n            [pa[0] + pa_slope[0] * width/2, pa[1] + pa_slope[1] * width/2],\n            [joint[0] + pa_slope[0] * width/2, joint[1] + pa_slope[1] * width/2]\n        ];\n        var pa_inner = [\n            [pa[0] - pa_slope[0] * width/2, pa[1] - pa_slope[1] * width/2],\n            [joint[0] - pa_slope[0] * width/2, joint[1] - pa_slope[1] * width/2]\n        ];\n\n        var pb_slope = Vector.normalize([(pb[1] - joint[1]) * -1, pb[0] - joint[0]]);\n        var pb_outer = [\n            [joint[0] + pb_slope[0] * width/2, joint[1] + pb_slope[1] * width/2],\n            [pb[0] + pb_slope[0] * width/2, pb[1] + pb_slope[1] * width/2]\n        ];\n        var pb_inner = [\n            [joint[0] - pb_slope[0] * width/2, joint[1] - pb_slope[1] * width/2],\n            [pb[0] - pb_slope[0] * width/2, pb[1] - pb_slope[1] * width/2]\n        ];\n\n        // Miter join - solve for the intersection between the two outer line segments\n        var intersection = Vector.lineIntersection(pa_outer[0], pa_outer[1], pb_outer[0], pb_outer[1]);\n        var line_debug = null;\n        if (intersection != null) {\n            var intersect_outer = intersection;\n\n            // Cap the intersection point to a reasonable distance (as join angle becomes sharper, miter joint distance would approach infinity)\n            var len_sq = Vector.lengthSq([intersect_outer[0] - joint[0], intersect_outer[1] - joint[1]]);\n            var miter_len_max = 3; // multiplier on line width for max distance miter join can be from joint\n            if (len_sq > (width * width * miter_len_max * miter_len_max)) {\n                line_debug = 'distance';\n                intersect_outer = Vector.normalize([intersect_outer[0] - joint[0], intersect_outer[1] - joint[1]]);\n                intersect_outer = [\n                    joint[0] + intersect_outer[0] * miter_len_max,\n                    joint[1] + intersect_outer[1] * miter_len_max\n                ];\n            }\n\n            var intersect_inner = [\n                (joint[0] - intersect_outer[0]) + joint[0],\n                (joint[1] - intersect_outer[1]) + joint[1]\n            ];\n\n            vertices.push(\n                intersect_inner, intersect_outer, pa_inner[0],\n                pa_inner[0], intersect_outer, pa_outer[0],\n\n                pb_inner[1], pb_outer[1], intersect_inner,\n                intersect_inner, pb_outer[1], intersect_outer\n            );\n        }\n        else {\n            // Line segments are parallel, use the first outer line segment as join instead\n            line_debug = 'parallel';\n            pa_inner[1] = pb_inner[0];\n            pa_outer[1] = pb_outer[0];\n\n            vertices.push(\n                pa_inner[1], pa_outer[1], pa_inner[0],\n                pa_inner[0], pa_outer[1], pa_outer[0],\n\n                pb_inner[1], pb_outer[1], pb_inner[0],\n                pb_inner[0], pb_outer[1], pb_outer[0]\n            );\n        }\n\n        if (texcoord_index) {\n            texcoords.push(\n                [min_u, min_v], [max_u, min_v], [min_u, max_v],\n                [min_u, max_v], [max_u, min_v], [max_u, max_v],\n\n                [min_u, min_v], [max_u, min_v], [min_u, max_v],\n                [min_u, max_v], [max_u, min_v], [max_u, max_v]\n            );\n        }\n    }\n};\n\n// Build a quad centered on a point\nGLBuilders.buildQuadsForPoints = function (\n    points, width, height,\n    vertex_data, vertex_template,\n    { texcoord_index, texcoord_scale }) {\n\n    var [[min_u, min_v], [max_u, max_v]] = texcoord_scale || [[0, 0], [1, 1]];\n    var num_points = points.length;\n    for (var p=0; p < num_points; p++) {\n        var point = points[p];\n\n        var positions = [\n            [point[0] - width/2, point[1] - height/2],\n            [point[0] + width/2, point[1] - height/2],\n            [point[0] + width/2, point[1] + height/2],\n\n            [point[0] - width/2, point[1] - height/2],\n            [point[0] + width/2, point[1] + height/2],\n            [point[0] - width/2, point[1] + height/2],\n        ];\n\n        if (texcoord_index) {\n            var texcoords = [\n                [min_u, min_v],\n                [max_u, min_v],\n                [max_u, max_v],\n\n                [min_u, min_v],\n                [max_u, max_v],\n                [min_u, max_v]\n            ];\n        }\n\n        for (var pos=0; pos < 6; pos++) {\n            // Add texcoords\n            if (texcoord_index) {\n                vertex_template[texcoord_index + 0] = texcoords[pos][0];\n                vertex_template[texcoord_index + 1] = texcoords[pos][1];\n            }\n\n            vertex_template[0] = positions[pos][0];\n            vertex_template[1] = positions[pos][1];\n            vertex_data.addVertex(vertex_template);\n        }\n    }\n};\n\n/* Utility functions */\n\n// Tests if a line segment (from point A to B) is nearly coincident with the edge of a tile\nGLBuilders.isOnTileEdge = function (pa, pb, options)\n{\n    options = options || {};\n\n    var tolerance_function = options.tolerance_function || GLBuilders.valuesWithinTolerance;\n    var tolerance = options.tolerance || 1; // tweak this adjust if catching too few/many line segments near tile edges\n    var tile_min = GLBuilders.tile_bounds[0];\n    var tile_max = GLBuilders.tile_bounds[1];\n    var edge = null;\n\n    if (tolerance_function(pa[0], tile_min.x, tolerance) && tolerance_function(pb[0], tile_min.x, tolerance)) {\n        edge = 'left';\n    }\n    else if (tolerance_function(pa[0], tile_max.x, tolerance) && tolerance_function(pb[0], tile_max.x, tolerance)) {\n        edge = 'right';\n    }\n    else if (tolerance_function(pa[1], tile_min.y, tolerance) && tolerance_function(pb[1], tile_min.y, tolerance)) {\n        edge = 'top';\n    }\n    else if (tolerance_function(pa[1], tile_max.y, tolerance) && tolerance_function(pb[1], tile_max.y, tolerance)) {\n        edge = 'bottom';\n    }\n    return edge;\n};\n\nGLBuilders.setTileScale = function (scale)\n{\n    GLBuilders.tile_bounds = [\n        { x: 0, y: 0},\n        { x: scale, y: -scale } // TODO: correct for flipped y-axis?\n    ];\n};\n\nGLBuilders.valuesWithinTolerance = function (a, b, tolerance)\n{\n    tolerance = tolerance || 1;\n    return (Math.abs(a - b) < tolerance);\n};\n\n// Build a zigzag line pattern for testing joins and caps\nGLBuilders.buildZigzagLineTestPattern = function ()\n{\n    var min = { x: 0, y: 0}; //  tile.min;\n    var max = { x: 4096, y: 4096 }; // tile.max;\n\n    var g = {\n        id: 123,\n        geometry: {\n            type: 'LineString',\n            coordinates: [\n                [min.x * 0.75 + max.x * 0.25, min.y * 0.75 + max.y * 0.25],\n                [min.x * 0.75 + max.x * 0.25, min.y * 0.5 + max.y * 0.5],\n                [min.x * 0.25 + max.x * 0.75, min.y * 0.75 + max.y * 0.25],\n                [min.x * 0.25 + max.x * 0.75, min.y * 0.25 + max.y * 0.75],\n                [min.x * 0.4 + max.x * 0.6, min.y * 0.5 + max.y * 0.5],\n                [min.x * 0.5 + max.x * 0.5, min.y * 0.25 + max.y * 0.75],\n                [min.x * 0.75 + max.x * 0.25, min.y * 0.25 + max.y * 0.75],\n                [min.x * 0.75 + max.x * 0.25, min.y * 0.4 + max.y * 0.6]\n            ]\n        },\n        properties: {\n            kind: 'debug'\n        }\n    };\n    return g;\n};\n",
    "// WebGL constants - need to import these separately to make them available in the web worker\n\nvar gl;\nexport default gl = {};\n\n/* ClearBufferMask */\ngl.DEPTH_BUFFER_BIT               = 0x00000100;\ngl.STENCIL_BUFFER_BIT             = 0x00000400;\ngl.COLOR_BUFFER_BIT               = 0x00004000;\n\n/* BeginMode */\ngl.POINTS                         = 0x0000;\ngl.LINES                          = 0x0001;\ngl.LINE_LOOP                      = 0x0002;\ngl.LINE_STRIP                     = 0x0003;\ngl.TRIANGLES                      = 0x0004;\ngl.TRIANGLE_STRIP                 = 0x0005;\ngl.TRIANGLE_FAN                   = 0x0006;\n\n/* AlphaFunction (not supported in ES20) */\n/*      NEVER */\n/*      LESS */\n/*      EQUAL */\n/*      LEQUAL */\n/*      GREATER */\n/*      NOTEQUAL */\n/*      GEQUAL */\n/*      ALWAYS */\n\n/* BlendingFactorDest */\ngl.ZERO                           = 0;\ngl.ONE                            = 1;\ngl.SRC_COLOR                      = 0x0300;\ngl.ONE_MINUS_SRC_COLOR            = 0x0301;\ngl.SRC_ALPHA                      = 0x0302;\ngl.ONE_MINUS_SRC_ALPHA            = 0x0303;\ngl.DST_ALPHA                      = 0x0304;\ngl.ONE_MINUS_DST_ALPHA            = 0x0305;\n\n/* BlendingFactorSrc */\n/*      ZERO */\n/*      ONE */\ngl.DST_COLOR                      = 0x0306;\ngl.ONE_MINUS_DST_COLOR            = 0x0307;\ngl.SRC_ALPHA_SATURATE             = 0x0308;\n/*      SRC_ALPHA */\n/*      ONE_MINUS_SRC_ALPHA */\n/*      DST_ALPHA */\n/*      ONE_MINUS_DST_ALPHA */\n\n/* BlendEquationSeparate */\ngl.FUNC_ADD                       = 0x8006;\ngl.BLEND_EQUATION                 = 0x8009;\ngl.BLEND_EQUATION_RGB             = 0x8009;   /* same as BLEND_EQUATION */\ngl.BLEND_EQUATION_ALPHA           = 0x883D;\n\n/* BlendSubtract */\ngl.FUNC_SUBTRACT                  = 0x800A;\ngl.FUNC_REVERSE_SUBTRACT          = 0x800B;\n\n/* Separate Blend Functions */\ngl.BLEND_DST_RGB                  = 0x80C8;\ngl.BLEND_SRC_RGB                  = 0x80C9;\ngl.BLEND_DST_ALPHA                = 0x80CA;\ngl.BLEND_SRC_ALPHA                = 0x80CB;\ngl.CONSTANT_COLOR                 = 0x8001;\ngl.ONE_MINUS_CONSTANT_COLOR       = 0x8002;\ngl.CONSTANT_ALPHA                 = 0x8003;\ngl.ONE_MINUS_CONSTANT_ALPHA       = 0x8004;\ngl.BLEND_COLOR                    = 0x8005;\n\n/* Buffer Objects */\ngl.ARRAY_BUFFER                   = 0x8892;\ngl.ELEMENT_ARRAY_BUFFER           = 0x8893;\ngl.ARRAY_BUFFER_BINDING           = 0x8894;\ngl.ELEMENT_ARRAY_BUFFER_BINDING   = 0x8895;\n\ngl.STREAM_DRAW                    = 0x88E0;\ngl.STATIC_DRAW                    = 0x88E4;\ngl.DYNAMIC_DRAW                   = 0x88E8;\n\ngl.BUFFER_SIZE                    = 0x8764;\ngl.BUFFER_USAGE                   = 0x8765;\n\ngl.CURRENT_VERTEX_ATTRIB          = 0x8626;\n\n/* CullFaceMode */\ngl.FRONT                          = 0x0404;\ngl.BACK                           = 0x0405;\ngl.FRONT_AND_BACK                 = 0x0408;\n\n/* DepthFunction */\n/*      NEVER */\n/*      LESS */\n/*      EQUAL */\n/*      LEQUAL */\n/*      GREATER */\n/*      NOTEQUAL */\n/*      GEQUAL */\n/*      ALWAYS */\n\n/* EnableCap */\n/* TEXTURE_2D */\ngl.CULL_FACE                      = 0x0B44;\ngl.BLEND                          = 0x0BE2;\ngl.DITHER                         = 0x0BD0;\ngl.STENCIL_TEST                   = 0x0B90;\ngl.DEPTH_TEST                     = 0x0B71;\ngl.SCISSOR_TEST                   = 0x0C11;\ngl.POLYGON_OFFSET_FILL            = 0x8037;\ngl.SAMPLE_ALPHA_TO_COVERAGE       = 0x809E;\ngl.SAMPLE_COVERAGE                = 0x80A0;\n\n/* ErrorCode */\ngl.NO_ERROR                       = 0;\ngl.INVALID_ENUM                   = 0x0500;\ngl.INVALID_VALUE                  = 0x0501;\ngl.INVALID_OPERATION              = 0x0502;\ngl.OUT_OF_MEMORY                  = 0x0505;\n\n/* FrontFaceDirection */\ngl.CW                             = 0x0900;\ngl.CCW                            = 0x0901;\n\n/* GetPName */\ngl.LINE_WIDTH                     = 0x0B21;\ngl.ALIASED_POINT_SIZE_RANGE       = 0x846D;\ngl.ALIASED_LINE_WIDTH_RANGE       = 0x846E;\ngl.CULL_FACE_MODE                 = 0x0B45;\ngl.FRONT_FACE                     = 0x0B46;\ngl.DEPTH_RANGE                    = 0x0B70;\ngl.DEPTH_WRITEMASK                = 0x0B72;\ngl.DEPTH_CLEAR_VALUE              = 0x0B73;\ngl.DEPTH_FUNC                     = 0x0B74;\ngl.STENCIL_CLEAR_VALUE            = 0x0B91;\ngl.STENCIL_FUNC                   = 0x0B92;\ngl.STENCIL_FAIL                   = 0x0B94;\ngl.STENCIL_PASS_DEPTH_FAIL        = 0x0B95;\ngl.STENCIL_PASS_DEPTH_PASS        = 0x0B96;\ngl.STENCIL_REF                    = 0x0B97;\ngl.STENCIL_VALUE_MASK             = 0x0B93;\ngl.STENCIL_WRITEMASK              = 0x0B98;\ngl.STENCIL_BACK_FUNC              = 0x8800;\ngl.STENCIL_BACK_FAIL              = 0x8801;\ngl.STENCIL_BACK_PASS_DEPTH_FAIL   = 0x8802;\ngl.STENCIL_BACK_PASS_DEPTH_PASS   = 0x8803;\ngl.STENCIL_BACK_REF               = 0x8CA3;\ngl.STENCIL_BACK_VALUE_MASK        = 0x8CA4;\ngl.STENCIL_BACK_WRITEMASK         = 0x8CA5;\ngl.VIEWPORT                       = 0x0BA2;\ngl.SCISSOR_BOX                    = 0x0C10;\n/*      SCISSOR_TEST */\ngl.COLOR_CLEAR_VALUE              = 0x0C22;\ngl.COLOR_WRITEMASK                = 0x0C23;\ngl.UNPACK_ALIGNMENT               = 0x0CF5;\ngl.PACK_ALIGNMENT                 = 0x0D05;\ngl.MAX_TEXTURE_SIZE               = 0x0D33;\ngl.MAX_VIEWPORT_DIMS              = 0x0D3A;\ngl.SUBPIXEL_BITS                  = 0x0D50;\ngl.RED_BITS                       = 0x0D52;\ngl.GREEN_BITS                     = 0x0D53;\ngl.BLUE_BITS                      = 0x0D54;\ngl.ALPHA_BITS                     = 0x0D55;\ngl.DEPTH_BITS                     = 0x0D56;\ngl.STENCIL_BITS                   = 0x0D57;\ngl.POLYGON_OFFSET_UNITS           = 0x2A00;\n/*      POLYGON_OFFSET_FILL */\ngl.POLYGON_OFFSET_FACTOR          = 0x8038;\ngl.TEXTURE_BINDING_2D             = 0x8069;\ngl.SAMPLE_BUFFERS                 = 0x80A8;\ngl.SAMPLES                        = 0x80A9;\ngl.SAMPLE_COVERAGE_VALUE          = 0x80AA;\ngl.SAMPLE_COVERAGE_INVERT         = 0x80AB;\n\n/* GetTextureParameter */\n/*      TEXTURE_MAG_FILTER */\n/*      TEXTURE_MIN_FILTER */\n/*      TEXTURE_WRAP_S */\n/*      TEXTURE_WRAP_T */\n\ngl.COMPRESSED_TEXTURE_FORMATS     = 0x86A3;\n\n/* HintMode */\ngl.DONT_CARE                      = 0x1100;\ngl.FASTEST                        = 0x1101;\ngl.NICEST                         = 0x1102;\n\n/* HintTarget */\ngl.GENERATE_MIPMAP_HINT            = 0x8192;\n\n/* DataType */\ngl.BYTE                           = 0x1400;\ngl.UNSIGNED_BYTE                  = 0x1401;\ngl.SHORT                          = 0x1402;\ngl.UNSIGNED_SHORT                 = 0x1403;\ngl.INT                            = 0x1404;\ngl.UNSIGNED_INT                   = 0x1405;\ngl.FLOAT                          = 0x1406;\n\n/* PixelFormat */\ngl.DEPTH_COMPONENT                = 0x1902;\ngl.ALPHA                          = 0x1906;\ngl.RGB                            = 0x1907;\ngl.RGBA                           = 0x1908;\ngl.LUMINANCE                      = 0x1909;\ngl.LUMINANCE_ALPHA                = 0x190A;\n\n/* PixelType */\n/*      UNSIGNED_BYTE */\ngl.UNSIGNED_SHORT_4_4_4_4         = 0x8033;\ngl.UNSIGNED_SHORT_5_5_5_1         = 0x8034;\ngl.UNSIGNED_SHORT_5_6_5           = 0x8363;\n\n/* Shaders */\ngl.FRAGMENT_SHADER                  = 0x8B30;\ngl.VERTEX_SHADER                    = 0x8B31;\ngl.MAX_VERTEX_ATTRIBS               = 0x8869;\ngl.MAX_VERTEX_UNIFORM_VECTORS       = 0x8DFB;\ngl.MAX_VARYING_VECTORS              = 0x8DFC;\ngl.MAX_COMBINED_TEXTURE_IMAGE_UNITS = 0x8B4D;\ngl.MAX_VERTEX_TEXTURE_IMAGE_UNITS   = 0x8B4C;\ngl.MAX_TEXTURE_IMAGE_UNITS          = 0x8872;\ngl.MAX_FRAGMENT_UNIFORM_VECTORS     = 0x8DFD;\ngl.SHADER_TYPE                      = 0x8B4F;\ngl.DELETE_STATUS                    = 0x8B80;\ngl.LINK_STATUS                      = 0x8B82;\ngl.VALIDATE_STATUS                  = 0x8B83;\ngl.ATTACHED_SHADERS                 = 0x8B85;\ngl.ACTIVE_UNIFORMS                  = 0x8B86;\ngl.ACTIVE_ATTRIBUTES                = 0x8B89;\ngl.SHADING_LANGUAGE_VERSION         = 0x8B8C;\ngl.CURRENT_PROGRAM                  = 0x8B8D;\n\n/* StencilFunction */\ngl.NEVER                          = 0x0200;\ngl.LESS                           = 0x0201;\ngl.EQUAL                          = 0x0202;\ngl.LEQUAL                         = 0x0203;\ngl.GREATER                        = 0x0204;\ngl.NOTEQUAL                       = 0x0205;\ngl.GEQUAL                         = 0x0206;\ngl.ALWAYS                         = 0x0207;\n\n/* StencilOp */\n/*      ZERO */\ngl.KEEP                           = 0x1E00;\ngl.REPLACE                        = 0x1E01;\ngl.INCR                           = 0x1E02;\ngl.DECR                           = 0x1E03;\ngl.INVERT                         = 0x150A;\ngl.INCR_WRAP                      = 0x8507;\ngl.DECR_WRAP                      = 0x8508;\n\n/* StringName */\ngl.VENDOR                         = 0x1F00;\ngl.RENDERER                       = 0x1F01;\ngl.VERSION                        = 0x1F02;\n\n/* TextureMagFilter */\ngl.NEAREST                        = 0x2600;\ngl.LINEAR                         = 0x2601;\n\n/* TextureMinFilter */\n/*      NEAREST */\n/*      LINEAR */\ngl.NEAREST_MIPMAP_NEAREST         = 0x2700;\ngl.LINEAR_MIPMAP_NEAREST          = 0x2701;\ngl.NEAREST_MIPMAP_LINEAR          = 0x2702;\ngl.LINEAR_MIPMAP_LINEAR           = 0x2703;\n\n/* TextureParameterName */\ngl.TEXTURE_MAG_FILTER             = 0x2800;\ngl.TEXTURE_MIN_FILTER             = 0x2801;\ngl.TEXTURE_WRAP_S                 = 0x2802;\ngl.TEXTURE_WRAP_T                 = 0x2803;\n\n/* TextureTarget */\ngl.TEXTURE_2D                     = 0x0DE1;\ngl.TEXTURE                        = 0x1702;\n\ngl.TEXTURE_CUBE_MAP               = 0x8513;\ngl.TEXTURE_BINDING_CUBE_MAP       = 0x8514;\ngl.TEXTURE_CUBE_MAP_POSITIVE_X    = 0x8515;\ngl.TEXTURE_CUBE_MAP_NEGATIVE_X    = 0x8516;\ngl.TEXTURE_CUBE_MAP_POSITIVE_Y    = 0x8517;\ngl.TEXTURE_CUBE_MAP_NEGATIVE_Y    = 0x8518;\ngl.TEXTURE_CUBE_MAP_POSITIVE_Z    = 0x8519;\ngl.TEXTURE_CUBE_MAP_NEGATIVE_Z    = 0x851A;\ngl.MAX_CUBE_MAP_TEXTURE_SIZE      = 0x851C;\n\n/* TextureUnit */\ngl.TEXTURE0                       = 0x84C0;\ngl.TEXTURE1                       = 0x84C1;\ngl.TEXTURE2                       = 0x84C2;\ngl.TEXTURE3                       = 0x84C3;\ngl.TEXTURE4                       = 0x84C4;\ngl.TEXTURE5                       = 0x84C5;\ngl.TEXTURE6                       = 0x84C6;\ngl.TEXTURE7                       = 0x84C7;\ngl.TEXTURE8                       = 0x84C8;\ngl.TEXTURE9                       = 0x84C9;\ngl.TEXTURE10                      = 0x84CA;\ngl.TEXTURE11                      = 0x84CB;\ngl.TEXTURE12                      = 0x84CC;\ngl.TEXTURE13                      = 0x84CD;\ngl.TEXTURE14                      = 0x84CE;\ngl.TEXTURE15                      = 0x84CF;\ngl.TEXTURE16                      = 0x84D0;\ngl.TEXTURE17                      = 0x84D1;\ngl.TEXTURE18                      = 0x84D2;\ngl.TEXTURE19                      = 0x84D3;\ngl.TEXTURE20                      = 0x84D4;\ngl.TEXTURE21                      = 0x84D5;\ngl.TEXTURE22                      = 0x84D6;\ngl.TEXTURE23                      = 0x84D7;\ngl.TEXTURE24                      = 0x84D8;\ngl.TEXTURE25                      = 0x84D9;\ngl.TEXTURE26                      = 0x84DA;\ngl.TEXTURE27                      = 0x84DB;\ngl.TEXTURE28                      = 0x84DC;\ngl.TEXTURE29                      = 0x84DD;\ngl.TEXTURE30                      = 0x84DE;\ngl.TEXTURE31                      = 0x84DF;\ngl.ACTIVE_TEXTURE                 = 0x84E0;\n\n/* TextureWrapMode */\ngl.REPEAT                         = 0x2901;\ngl.CLAMP_TO_EDGE                  = 0x812F;\ngl.MIRRORED_REPEAT                = 0x8370;\n\n/* Uniform Types */\ngl.FLOAT_VEC2                     = 0x8B50;\ngl.FLOAT_VEC3                     = 0x8B51;\ngl.FLOAT_VEC4                     = 0x8B52;\ngl.INT_VEC2                       = 0x8B53;\ngl.INT_VEC3                       = 0x8B54;\ngl.INT_VEC4                       = 0x8B55;\ngl.BOOL                           = 0x8B56;\ngl.BOOL_VEC2                      = 0x8B57;\ngl.BOOL_VEC3                      = 0x8B58;\ngl.BOOL_VEC4                      = 0x8B59;\ngl.FLOAT_MAT2                     = 0x8B5A;\ngl.FLOAT_MAT3                     = 0x8B5B;\ngl.FLOAT_MAT4                     = 0x8B5C;\ngl.SAMPLER_2D                     = 0x8B5E;\ngl.SAMPLER_CUBE                   = 0x8B60;\n\n/* Vertex Arrays */\ngl.VERTEX_ATTRIB_ARRAY_ENABLED        = 0x8622;\ngl.VERTEX_ATTRIB_ARRAY_SIZE           = 0x8623;\ngl.VERTEX_ATTRIB_ARRAY_STRIDE         = 0x8624;\ngl.VERTEX_ATTRIB_ARRAY_TYPE           = 0x8625;\ngl.VERTEX_ATTRIB_ARRAY_NORMALIZED     = 0x886A;\ngl.VERTEX_ATTRIB_ARRAY_POINTER        = 0x8645;\ngl.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING = 0x889F;\n\n/* Read Format */\ngl.IMPLEMENTATION_COLOR_READ_TYPE   = 0x8B9A;\ngl.IMPLEMENTATION_COLOR_READ_FORMAT = 0x8B9B;\n\n/* Shader Source */\ngl.COMPILE_STATUS                 = 0x8B81;\n\n/* Shader Precision-Specified Types */\ngl.LOW_FLOAT                      = 0x8DF0;\ngl.MEDIUM_FLOAT                   = 0x8DF1;\ngl.HIGH_FLOAT                     = 0x8DF2;\ngl.LOW_INT                        = 0x8DF3;\ngl.MEDIUM_INT                     = 0x8DF4;\ngl.HIGH_INT                       = 0x8DF5;\n\n/* Framebuffer Object. */\ngl.FRAMEBUFFER                    = 0x8D40;\ngl.RENDERBUFFER                   = 0x8D41;\n\ngl.RGBA4                          = 0x8056;\ngl.RGB5_A1                        = 0x8057;\ngl.RGB565                         = 0x8D62;\ngl.DEPTH_COMPONENT16              = 0x81A5;\ngl.STENCIL_INDEX                  = 0x1901;\ngl.STENCIL_INDEX8                 = 0x8D48;\ngl.DEPTH_STENCIL                  = 0x84F9;\n\ngl.RENDERBUFFER_WIDTH             = 0x8D42;\ngl.RENDERBUFFER_HEIGHT            = 0x8D43;\ngl.RENDERBUFFER_INTERNAL_FORMAT   = 0x8D44;\ngl.RENDERBUFFER_RED_SIZE          = 0x8D50;\ngl.RENDERBUFFER_GREEN_SIZE        = 0x8D51;\ngl.RENDERBUFFER_BLUE_SIZE         = 0x8D52;\ngl.RENDERBUFFER_ALPHA_SIZE        = 0x8D53;\ngl.RENDERBUFFER_DEPTH_SIZE        = 0x8D54;\ngl.RENDERBUFFER_STENCIL_SIZE      = 0x8D55;\n\ngl.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE           = 0x8CD0;\ngl.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME           = 0x8CD1;\ngl.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL         = 0x8CD2;\ngl.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE = 0x8CD3;\n\ngl.COLOR_ATTACHMENT0              = 0x8CE0;\ngl.DEPTH_ATTACHMENT               = 0x8D00;\ngl.STENCIL_ATTACHMENT             = 0x8D20;\ngl.DEPTH_STENCIL_ATTACHMENT       = 0x821A;\n\ngl.NONE                           = 0;\n\ngl.FRAMEBUFFER_COMPLETE                      = 0x8CD5;\ngl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT         = 0x8CD6;\ngl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT = 0x8CD7;\ngl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS         = 0x8CD9;\ngl.FRAMEBUFFER_UNSUPPORTED                   = 0x8CDD;\n\ngl.FRAMEBUFFER_BINDING            = 0x8CA6;\ngl.RENDERBUFFER_BINDING           = 0x8CA7;\ngl.MAX_RENDERBUFFER_SIZE          = 0x84E8;\n\ngl.INVALID_FRAMEBUFFER_OPERATION  = 0x0506;\n\n/* WebGL-specific enums */\ngl.UNPACK_FLIP_Y_WEBGL            = 0x9240;\ngl.UNPACK_PREMULTIPLY_ALPHA_WEBGL = 0x9241;\ngl.CONTEXT_LOST_WEBGL             = 0x9242;\ngl.UNPACK_COLORSPACE_CONVERSION_WEBGL = 0x9243;\ngl.BROWSER_DEFAULT_WEBGL          = 0x9244;\n",
    "/* global GLGeometry */\n/*** Manage rendering for primitives ***/\nimport GLProgram from './gl_program';\nimport log from 'loglevel';\n\n// A single mesh/VBO, described by a vertex layout, that can be drawn with one or more programs\nexport default function GLGeometry (gl, vertex_data, vertex_layout, options)\n{\n    options = options || {};\n\n    this.gl = gl;\n    this.vertex_data = vertex_data; // typed array\n    this.vertex_layout = vertex_layout;\n    this.buffer = this.gl.createBuffer();\n    this.draw_mode = options.draw_mode || this.gl.TRIANGLES;\n    this.data_usage = options.data_usage || this.gl.STATIC_DRAW;\n    this.vertices_per_geometry = 3; // TODO: support lines, strip, fan, etc.\n\n    this.vertex_count = this.vertex_data.byteLength / this.vertex_layout.stride;\n    this.geometry_count = this.vertex_count / this.vertices_per_geometry;\n\n    // TODO: disabling VAOs for now because we need to support different vertex layout + program combinations,\n    // where not all programs will recognize all attributes (e.g. feature selection shaders include extra attrib).\n    // To support VAOs here, would need to support multiple per geometry, keyed by GL program?\n    // this.vao = GLVertexArrayObject.create(function() {\n    //     this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.buffer);\n    //     this.setup();\n    // }.bind(this));\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.buffer);\n    this.gl.bufferData(this.gl.ARRAY_BUFFER, this.vertex_data, this.data_usage);\n    this.valid = true;\n}\n\n// Render, by default with currently bound program, or otherwise with optionally provided one\nGLGeometry.prototype.render = function (options = {})\n{\n    if (!this.valid) {\n        return false;\n    }\n\n    // GLVertexArrayObject.bind(this.vao);\n\n    if (typeof this._render_setup === 'function') {\n        this._render_setup();\n    }\n\n    var program = options.program || GLProgram.current;\n    program.use();\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.buffer);\n    this.vertex_layout.enable(this.gl, program);\n\n    // TODO: support element array mode\n    this.gl.drawArrays(this.draw_mode, 0, this.vertex_count);\n    // GLVertexArrayObject.bind(null);\n    return true;\n};\n\nGLGeometry.prototype.destroy = function ()\n{\n    if (!this.valid) {\n        return false;\n    }\n    log.trace('GLGeometry.destroy: delete buffer of size ' + this.vertex_data.byteLength);\n    this.gl.deleteBuffer(this.buffer);\n    this.buffer = null;\n    delete this.vertex_data;\n    this.valid = false;\n    return true;\n};\n",
    "// Rendering modes\nimport GLVertexLayout from './gl_vertex_layout';\nimport {GLBuilders} from './gl_builders';\nimport GLProgram from './gl_program';\nimport GLGeometry from './gl_geom';\nimport gl from './gl_constants'; // web workers don't have access to GL context, so import all GL constants\nimport log from 'loglevel';\nimport shaderSources from './shader_sources'; // built-in shaders\n\nexport var Modes = {};\nexport var ModeManager = {};\n\n// Manage modes\n\n// Global configuration for all modes\nModeManager.init = function () {\n    GLProgram.removeTransform('globals');\n\n    // Layer re-ordering function\n    GLProgram.addTransform('globals', shaderSources['modules/reorder_layers']);\n\n    // Spherical environment map\n    GLProgram.addTransform('globals', `\n        #if defined(LIGHTING_ENVIRONMENT)\n        ${shaderSources['modules/spherical_environment_map']}\n        #endif\n    `);\n};\n\n// Update built-in mode or create a new one\nModeManager.updateMode = function (name, settings) {\n    Modes[name] = Modes[name] || Object.create(Modes[settings.extends] || RenderMode);\n    if (Modes[settings.extends]) {\n        Modes[name].parent = Modes[settings.extends]; // explicit 'super' class access\n    }\n\n    for (var s in settings) {\n        Modes[name][s] = settings[s];\n    }\n\n    Modes[name].name = name;\n    return Modes[name];\n};\n\n// Destroy all modes for a given GL context\nModeManager.destroy = function (gl) {\n    Object.keys(Modes).forEach((_name) => {\n        var mode = Modes[_name];\n        if (mode.gl === gl) {\n            log.trace(`destroying render mode ${mode.name}`);\n            mode.destroy();\n        }\n    });\n};\n\n\n// Base class\n\nvar RenderMode = {\n    init () {\n        this.defines = {};\n        this.shaders = {};\n        this.selection = false;\n        this.compiling = false;\n        this.compiled = false;\n        this.program = null;\n        this.selection_program = null;\n    },\n\n    setGL (gl) {\n        this.gl = gl;\n    },\n\n    makeGLGeometry (vertex_data) {\n        return new GLGeometry(this.gl, vertex_data, this.vertex_layout);\n    },\n\n    isBuiltIn () {\n        return this.hasOwnProperty('built_in');\n    },\n\n    // Build functions are no-ops until overriden\n    buildPolygons () {},\n    buildLines () {},\n    buildPoints () {},\n\n    destroy () {\n        if (this.program) {\n            this.program.destroy();\n            this.program = null;\n        }\n\n        if (this.selection_program) {\n            this.selection_program.destroy();\n            this.selection_program = null;\n        }\n\n        this.gl = null;\n\n        if (!this.isBuiltIn()) {\n            delete Modes[this.name];\n        }\n    },\n\n    compile () {\n        if (!this.gl) {\n            throw(new Error(`mode.compile(): skipping for ${this.name} because no GL context`));\n        }\n\n        if (this.compiling) {\n            throw(new Error(`mode.compile(): skipping for ${this.name} because mode is already compiling`));\n        }\n        this.compiling = true;\n        this.compiled = false;\n\n        // Build defines & for selection (need to create a new object since the first is stored as a reference by the program)\n        var defines = this.buildDefineList();\n        if (this.selection) {\n            var selection_defines = Object.assign({}, defines);\n            selection_defines['FEATURE_SELECTION'] = true;\n        }\n\n        // Get any custom code transforms\n        var transforms = (this.shaders && this.shaders.transforms);\n\n        // Create shaders\n        try {\n            this.program = new GLProgram(\n                this.gl,\n                shaderSources[this.vertex_shader_key],\n                shaderSources[this.fragment_shader_key],\n                {\n                    defines: defines,\n                    transforms: transforms,\n                    name: this.name\n                }\n            );\n\n            if (this.selection) {\n                this.selection_program = new GLProgram(\n                    this.gl,\n                    shaderSources[this.vertex_shader_key],\n                    shaderSources['selection_fragment'],\n                    {\n                        defines: selection_defines,\n                        transforms: transforms,\n                        name: (this.name + ' (selection)')\n                    }\n                );\n            }\n            else {\n                this.selection_program = null;\n            }\n        }\n        catch(error) {\n            this.compiling = false;\n            this.compiled = false;\n            throw(new Error(`mode.compile(): mode ${this.name} error:`, error));\n        }\n\n        this.compiling = false;\n        this.compiled = true;\n    },\n\n    /** TODO: could probably combine and generalize this with similar method in GLProgram\n     * (list of define objects that inherit from each other)\n     */\n    buildDefineList () {\n        // Add any custom defines to built-in mode defines\n        var defines = {}; // create a new object to avoid mutating a prototype value that may be shared with other modes\n        if (this.defines != null) {\n            for (var d in this.defines) {\n                defines[d] = this.defines[d];\n            }\n        }\n        if (this.shaders != null && this.shaders.defines != null) {\n            for (d in this.shaders.defines) {\n                defines[d] = this.shaders.defines[d];\n            }\n        }\n        return defines;\n\n    },\n\n\n    // Set mode uniforms on currently bound program\n    setUniforms () {\n        var program = GLProgram.current;\n        if (program != null && this.shaders != null && this.shaders.uniforms != null) {\n            program.setUniforms(this.shaders.uniforms);\n        }\n    },\n\n    update () {\n        // Mode-specific animation\n        // if (typeof this.animation === 'function') {\n        //     this.animation();\n        // }\n    }\n};\n\n\n// Built-in rendering modes\n\n/*** Plain polygons ***/\n\nvar Polygons = Object.create(RenderMode);\n\nObject.assign(Polygons, {\n    built_in: true,\n    init() {\n        RenderMode.init.apply(this);\n\n        // Base shaders\n        this.vertex_shader_key = 'polygon_vertex';\n        this.fragment_shader_key = 'polygon_fragment';\n\n        // Default world coords to wrap every 100,000 meters, can turn off by setting this to 'false'\n        this.defines['WORLD_POSITION_WRAP'] = 100000;\n\n        // Turn feature selection on\n        this.selection = true;\n\n        // Basic attributes, others can be added (see texture UVs below)\n        var attribs = [\n            { name: 'a_position', size: 3, type: gl.FLOAT, normalized: false },\n            { name: 'a_normal', size: 3, type: gl.FLOAT, normalized: false },\n            // { name: 'a_normal', size: 3, type: gl.BYTE, normalized: true }, // attrib isn't a multiple of 4!\n            // { name: 'a_color', size: 3, type: gl.FLOAT, normalized: false },\n            { name: 'a_color', size: 4, type: gl.UNSIGNED_BYTE, normalized: true },\n            // { name: 'a_selection_color', size: 4, type: gl.FLOAT, normalized: false },\n            { name: 'a_selection_color', size: 4, type: gl.UNSIGNED_BYTE, normalized: true },\n            { name: 'a_layer', size: 1, type: gl.FLOAT, normalized: false }\n        ];\n\n        // Optional texture UVs\n        if (this.texcoords) {\n            this.defines['TEXTURE_COORDS'] = true;\n\n            // Add vertex attribute for UVs only when needed\n            attribs.push({ name: 'a_texcoord', size: 2, type: gl.FLOAT, normalized: false });\n        }\n\n        this.vertex_layout = new GLVertexLayout(attribs);\n    },\n\n    /**\n     * A \"template\" that sets constant attibutes for each vertex, which is then modified per vertex or per feature.\n     * A plain JS array matching the order of the vertex layout.\n     */\n    makeVertexTemplate(style) {\n        // Basic attributes, others can be added (see texture UVs below)\n        var template = [\n            // position - x & y coords will be filled in per-vertex below\n            0, 0, style.z,\n            // normal\n            0, 0, 1,\n            // color\n            // TODO: automate multiplication for normalized attribs?\n            style.color[0] * 255, style.color[1] * 255, style.color[2] * 255, 255,\n            // selection color\n            style.selection.color[0] * 255, style.selection.color[1] * 255, style.selection.color[2] * 255, style.selection.color[3] * 255,\n            // layer number\n            style.layer_num\n        ];\n\n        if (this.texcoords) {\n            // Add texture UVs to template only if needed\n            template.push(0, 0);\n        }\n\n        return template;\n\n    },\n\n    buildPolygons(polygons, style, vertex_data) {\n        var vertex_template = this.makeVertexTemplate(style);\n\n        // Extruded polygons (e.g. 3D buildings)\n        if (style.extrude && style.height) {\n            GLBuilders.buildExtrudedPolygons(\n                polygons,\n                style.z, style.height, style.min_height,\n                vertex_data, vertex_template,\n                this.vertex_layout.index.a_normal,\n                { texcoord_index: this.vertex_layout.index.a_texcoord }\n            );\n        }\n        // Regular polygons\n        else {\n            GLBuilders.buildPolygons(\n                polygons,\n                vertex_data, vertex_template,\n                { texcoord_index: this.vertex_layout.index.a_texcoord }\n            );\n        }\n\n        // Polygon outlines\n        if (style.outline.color && style.outline.width) {\n            // Replace color in vertex template\n            var color_index = this.vertex_layout.index.a_color;\n            vertex_template[color_index + 0] = style.outline.color[0] * 255;\n            vertex_template[color_index + 1] = style.outline.color[1] * 255;\n            vertex_template[color_index + 2] = style.outline.color[2] * 255;\n\n            // Polygon outlines sit over current layer but underneath the one above\n            // TODO: address inconsistency with line outlines\n            vertex_template[this.vertex_layout.index.a_layer] += 0.0001;\n\n            for (var mpc=0; mpc < polygons.length; mpc++) {\n                GLBuilders.buildPolylines(\n                    polygons[mpc],\n                    style.z,\n                    style.outline.width,\n                    vertex_data,\n                    vertex_template,\n                    {\n                        texcoord_index: this.vertex_layout.index.a_texcoord,\n                        closed_polygon: true,\n                        remove_tile_edges: !style.outline.tile_edges\n                    }\n                );\n            }\n        }\n    },\n\n    buildLines(lines, style, vertex_data) {\n        var vertex_template = this.makeVertexTemplate(style);\n\n        // Main lines\n        GLBuilders.buildPolylines(\n            lines,\n            style.z,\n            style.width,\n            vertex_data,\n            vertex_template,\n            {\n                texcoord_index: this.vertex_layout.index.a_texcoord\n            }\n        );\n\n        // Line outlines\n        if (style.outline.color && style.outline.width) {\n            // Replace color in vertex template\n            var color_index = this.vertex_layout.index.a_color;\n            vertex_template[color_index + 0] = style.outline.color[0] * 255;\n            vertex_template[color_index + 1] = style.outline.color[1] * 255;\n            vertex_template[color_index + 2] = style.outline.color[2] * 255;\n\n            // Line outlines sit underneath current layer but above the one below\n            // TODO: address inconsistency with polygon outlines\n            // TODO: need more fine-grained styling controls for outlines\n            // (see complex road interchanges where casing outlines should be interleaved by road type)\n            vertex_template[this.vertex_layout.index.a_layer] -= 0.0001;\n\n            GLBuilders.buildPolylines(\n                lines,\n                style.z,\n                style.width + 2 * style.outline.width,\n                vertex_data,\n                vertex_template,\n                {\n                    texcoord_index: this.vertex_layout.index.a_texcoord\n                }\n            );\n        }\n    },\n\n    buildPoints(points, style, vertex_data) {\n        var vertex_template = this.makeVertexTemplate(style);\n\n        GLBuilders.buildQuadsForPoints(\n            points,\n            style.size * 2,\n            style.size * 2,\n            vertex_data,\n            vertex_template,\n            { texcoord_index: this.vertex_layout.index.a_texcoord }\n        );\n\n    },\n    name: 'polygons'\n});\n\n//Polygons.name = 'polygons';\nModes[Polygons.name] = Polygons;\n\n\n\n/*** Points w/simple distance field rendering ***/\n\nvar Points = Object.create(RenderMode);\n\nObject.assign(Points, {\n    name: 'points',\n    built_in: true,\n    init() {\n        RenderMode.init.apply(this);\n\n        // Base shaders\n        this.vertex_shader_key = 'point_vertex';\n        this.fragment_shader_key = 'point_fragment';\n\n        // TODO: remove this hard-coded special effect\n        this.defines['EFFECT_SCREEN_COLOR'] = true;\n\n        // Turn feature selection on\n        this.selection = true;\n\n        // Vertex attributes\n        this.vertex_layout = new GLVertexLayout([\n            { name: 'a_position', size: 3, type: gl.FLOAT, normalized: false },\n            { name: 'a_texcoord', size: 2, type: gl.FLOAT, normalized: false },\n            { name: 'a_color', size: 4, type: gl.UNSIGNED_BYTE, normalized: true },\n            { name: 'a_selection_color', size: 4, type: gl.UNSIGNED_BYTE, normalized: true },\n            { name: 'a_layer', size: 1, type: gl.FLOAT, normalized: false }\n        ]);\n    },\n\n    /**\n     * A \"template\" that sets constant attibutes for each vertex, which is then modified per vertex or per feature.\n     * A plain JS array matching the order of the vertex layout.\n     */\n    makeVertexTemplate(style) {\n        return [\n            // position - x & y coords will be filled in per-vertex below\n            0, 0, style.z,\n            // texture coords\n            0, 0,\n            // color\n            // TODO: automate multiplication for normalized attribs?\n            style.color[0] * 255, style.color[1] * 255, style.color[2] * 255, 255,\n            // selection color\n            style.selection.color[0] * 255, style.selection.color[1] * 255, style.selection.color[2] * 255, style.selection.color[3] * 255,\n            // layer number\n            style.layer_num\n        ];\n    },\n\n    buildPoints(points, style, vertex_data) {\n        var vertex_template = this.makeVertexTemplate(style);\n\n        GLBuilders.buildQuadsForPoints(\n            points,\n            style.size * 2,\n            style.size * 2,\n            vertex_data,\n            vertex_template,\n            { texcoord_index: this.vertex_layout.index.a_texcoord }\n        );\n\n    }\n\n});\n\nModes[Points.name] = Points;\n",
    "/* global GLProgram */\n// Thin GL program wrapp to cache uniform locations/values, do compile-time pre-processing\n// (injecting #defines and #pragma transforms into shaders), etc.\nimport {GL} from './gl';\nimport GLTexture from './gl_texture';\n\nGLProgram.id = 0; // assign each program a unique id\nGLProgram.programs = {}; // programs, by id\n\nexport default function GLProgram (gl, vertex_shader, fragment_shader, options)\n{\n    options = options || {};\n\n    this.gl = gl;\n    this.program = null;\n    this.compiled = false;\n    this.compiling = false;\n    this.defines = Object.assign({}, options.defines||{}); // key/values inserted as #defines into shaders at compile-time\n    this.transforms = Object.assign({}, options.transforms||{}); // key/values for URLs of blocks that can be injected into shaders at compile-time\n    this.uniforms = {}; // program locations of uniforms, set/updated at compile-time\n    this.attribs = {}; // program locations of vertex attributes\n\n    this.vertex_shader = vertex_shader;\n    this.fragment_shader = fragment_shader;\n\n    this.id = GLProgram.id++;\n    GLProgram.programs[this.id] = this;\n    this.name = options.name; // can provide a program name (useful for debugging)\n\n    this.compile();\n}\n\nGLProgram.prototype.destroy = function () {\n    this.gl.useProgram(null);\n    this.gl.deleteProgram(this.program);\n    this.program = null;\n    this.uniforms = {};\n    this.attribs = {};\n    delete GLProgram.programs[this.id];\n    this.compiled = false;\n};\n\n// Use program wrapper with simple state cache\nGLProgram.prototype.use = function ()\n{\n    if (!this.compiled) {\n        return;\n    }\n\n    if (GLProgram.current !== this) {\n        this.gl.useProgram(this.program);\n    }\n    GLProgram.current = this;\n};\nGLProgram.current = null;\n\n// Global config applied to all programs (duplicate properties for a specific program will take precedence)\nGLProgram.defines = {};\nGLProgram.transforms = {};\n\nGLProgram.addTransform = function (key, ...transforms) {\n    GLProgram.transforms[key] = GLProgram.transforms[key] || [];\n    GLProgram.transforms[key].push(...transforms);\n};\n\n// Remove all global shader transforms for a given key\nGLProgram.removeTransform = function (key) {\n    GLProgram.transforms[key] = [];\n};\n\nGLProgram.prototype.compile = function () {\n\n    if (this.compiling) {\n        throw(new Error(`GLProgram.compile(): skipping for ${this.id} (${this.name}) because already compiling`));\n    }\n    this.compiling = true;\n    this.compiled = false;\n\n    // Copy sources from pre-modified template\n    this.computed_vertex_shader = this.vertex_shader;\n    this.computed_fragment_shader = this.fragment_shader;\n\n    // Make list of defines to be injected later\n    var defines = this.buildDefineList();\n\n    // Inject user-defined transforms (arbitrary code points matching named #pragmas)\n    // Replace according to this pattern:\n    // #pragma tangram: [key]\n    // e.g. #pragma tangram: globals\n\n    // TODO: support glslify #pragma export names for better compatibility? (e.g. rename main() functions)\n    // TODO: auto-insert uniforms referenced in mode definition, but not in shader base or transforms? (problem: don't have access to uniform list/type here)\n\n    // Gather all transform code snippets\n    var transforms = this.buildShaderTransformList();\n    var regexp;\n\n    for (var key in transforms) {\n        var transform = transforms[key];\n        if (!transform) {\n            continue;\n        }\n\n        // First find code replace points in shaders\n        regexp = new RegExp('^\\\\s*#pragma\\\\s+tangram:\\\\s+' + key + '\\\\s*$', 'm');\n        var inject_vertex = this.computed_vertex_shader.match(regexp);\n        var inject_fragment = this.computed_fragment_shader.match(regexp);\n\n        // Avoid network request if nothing to replace\n        if (inject_vertex == null && inject_fragment == null) {\n            continue;\n        }\n\n        // Each key can be a single string or array of strings\n        var source = transform;\n        if (Array.isArray(transform)) {\n            // Combine all transforms into one string\n            source = transform.reduce((prev, cur) => `${prev}\\n${cur}`);\n        }\n\n        // Inject\n        if (inject_vertex != null) {\n            this.computed_vertex_shader = this.computed_vertex_shader.replace(regexp, source);\n        }\n        if (inject_fragment != null) {\n            this.computed_fragment_shader = this.computed_fragment_shader.replace(regexp, source);\n        }\n\n        // Add a #define for this injection point\n        defines['TANGRAM_TRANSFORM_' + key.replace(' ', '_').toUpperCase()] = true;\n    }\n\n    // Clean-up any #pragmas that weren't replaced (to prevent compiler warnings)\n    regexp = new RegExp('^\\\\s*#pragma\\\\s+tangram:\\\\s+\\\\w+\\\\s*$', 'gm');\n    this.computed_vertex_shader = this.computed_vertex_shader.replace(regexp, '');\n    this.computed_fragment_shader = this.computed_fragment_shader.replace(regexp, '');\n\n    // Build & inject defines\n    // This is done *after* code injection so that we can add defines for which code points were injected\n    var define_str = GLProgram.buildDefineString(defines);\n    this.computed_vertex_shader = define_str + this.computed_vertex_shader;\n    this.computed_fragment_shader = define_str + this.computed_fragment_shader;\n\n    // Include program info useful for debugging\n    var info = (this.name ? (this.name + ' / id ' + this.id) : ('id ' + this.id));\n    this.computed_vertex_shader = '// Program: ' + info + '\\n' + this.computed_vertex_shader;\n    this.computed_fragment_shader = '// Program: ' + info + '\\n' + this.computed_fragment_shader;\n\n    // Compile & set uniforms to cached values\n    try {\n        this.program = GL.updateProgram(this.gl, this.program, this.computed_vertex_shader, this.computed_fragment_shader);\n        this.compiled = true;\n        this.compiling = false;\n    }\n    catch(error) {\n        this.program = null;\n        this.compiled = false;\n        this.compiling = false;\n        throw(new Error(`GLProgram.compile(): program ${this.id} (${this.name}) error:`, error));\n    }\n\n    this.use();\n    this.refreshUniforms();\n    this.refreshAttributes();\n};\n\n// Make list of defines (global, then program-specific)\nGLProgram.prototype.buildDefineList = function () {\n    var d, defines = {};\n    for (d in GLProgram.defines) {\n        defines[d] = GLProgram.defines[d];\n    }\n    for (d in this.defines) {\n        defines[d] = this.defines[d];\n    }\n    return defines;\n};\n\n// Make list of shader transforms (global, then program-specific)\nGLProgram.prototype.buildShaderTransformList = function () {\n    var d, transforms = {};\n    for (d in GLProgram.transforms) {\n        transforms[d] = [];\n\n        if (typeof GLProgram.transforms[d] === 'object' && GLProgram.transforms[d].length >= 0) {\n            transforms[d].push(...GLProgram.transforms[d]);\n        }\n        else {\n            transforms[d] = [GLProgram.transforms[d]];\n        }\n    }\n    for (d in this.transforms) {\n        transforms[d] = transforms[d] || [];\n\n        if (typeof this.transforms[d] === 'object' && this.transforms[d].length >= 0) {\n            transforms[d].push(...this.transforms[d]);\n        }\n        else {\n            transforms[d].push(this.transforms[d]);\n        }\n    }\n    return transforms;\n};\n\n// Turn #defines into a combined string\nGLProgram.buildDefineString = function (defines) {\n    var define_str = \"\";\n    for (var d in defines) {\n        if (defines[d] === false) {\n            continue;\n        }\n        else if (typeof defines[d] === 'boolean' && defines[d] === true) { // booleans are simple defines with no value\n            define_str += \"#define \" + d + \"\\n\";\n        }\n        else if (typeof defines[d] === 'number' && Math.floor(defines[d]) === defines[d]) { // int to float conversion to satisfy GLSL floats\n            define_str += \"#define \" + d + \" \" + defines[d].toFixed(1) + \"\\n\";\n        }\n        else { // any other float or string value\n            define_str += \"#define \" + d + \" \" + defines[d] + \"\\n\";\n        }\n    }\n    return define_str;\n};\n\n// Set uniforms from a JS object, with inferred types\nGLProgram.prototype.setUniforms = function (uniforms)\n{\n    if (!this.compiled) {\n        return;\n    }\n\n    // TODO: only update uniforms when changed\n    var texture_unit = 0;\n\n    for (var u in uniforms) {\n        var uniform = uniforms[u];\n\n        // Single float\n        if (typeof uniform === 'number') {\n            this.uniform('1f', u, uniform);\n        }\n        // Multiple floats - vector or array\n        else if (typeof uniform === 'object') {\n            // float vectors (vec2, vec3, vec4)\n            if (uniform.length >= 2 && uniform.length <= 4) {\n                this.uniform(uniform.length + 'fv', u, uniform);\n            }\n            // float array\n            else if (uniform.length > 4) {\n                this.uniform('1fv', u + '[0]', uniform);\n            }\n            // TODO: assume matrix for (typeof == Float32Array && length == 16)?\n        }\n        // Boolean\n        else if (typeof uniform === 'boolean') {\n            this.uniform('1i', u, uniform);\n        }\n        // Texture\n        else if (typeof uniform === 'string') {\n            var texture = GLTexture.textures[uniform];\n            if (texture == null) {\n                texture = new GLTexture(this.gl, uniform);\n                texture.load(uniform);\n            }\n\n            texture.bind(texture_unit);\n            this.uniform('1i', u, texture_unit);\n            texture_unit++;\n        }\n        // TODO: support other non-float types? (int, etc.)\n    }\n};\n\n// ex: program.uniform('3f', 'position', x, y, z);\n// TODO: only update uniforms when changed\nGLProgram.prototype.uniform = function (method, name, ...values) // 'values' is a method-appropriate arguments list\n{\n    if (!this.compiled) {\n        return;\n    }\n\n    var uniform = (this.uniforms[name] = this.uniforms[name] || {});\n    uniform.name = name;\n    uniform.location = uniform.location || this.gl.getUniformLocation(this.program, name);\n    uniform.method = 'uniform' + method;\n    uniform.values = values;\n    this.updateUniform(name);\n};\n\n// Set a single uniform\nGLProgram.prototype.updateUniform = function (name)\n{\n    if (!this.compiled) {\n        return;\n    }\n\n    var uniform = this.uniforms[name];\n    if (uniform == null || uniform.location == null) {\n        return;\n    }\n\n    this.use();\n    this.gl[uniform.method].apply(this.gl, [uniform.location].concat(uniform.values)); // call appropriate GL uniform method and pass through arguments\n};\n\n// Refresh uniform locations and set to last cached values\nGLProgram.prototype.refreshUniforms = function ()\n{\n    if (!this.compiled) {\n        return;\n    }\n\n    for (var u in this.uniforms) {\n        this.uniforms[u].location = this.gl.getUniformLocation(this.program, u);\n        this.updateUniform(u);\n    }\n};\n\nGLProgram.prototype.refreshAttributes = function ()\n{\n    // var len = this.gl.getProgramParameter(this.program, this.gl.ACTIVE_ATTRIBUTES);\n    // for (var i=0; i < len; i++) {\n    //     var a = this.gl.getActiveAttrib(this.program, i);\n    // }\n    this.attribs = {};\n};\n\n// Get the location of a vertex attribute\nGLProgram.prototype.attribute = function (name)\n{\n    if (!this.compiled) {\n        return;\n    }\n\n    var attrib = (this.attribs[name] = this.attribs[name] || {});\n    if (attrib.location != null) {\n        return attrib;\n    }\n\n    attrib.name = name;\n    attrib.location = this.gl.getAttribLocation(this.program, name);\n\n    // var info = this.gl.getActiveAttrib(this.program, attrib.location);\n    // attrib.type = info.type;\n    // attrib.size = info.size;\n\n    return attrib;\n};\n",
    "/*global GLTexture */\n// Texture management\nimport Utils from '../utils';\nimport log from 'loglevel';\n\n// Global set of textures, by name\nGLTexture.textures = {};\n\n// GL texture wrapper object for keeping track of a global set of textures, keyed by an arbitrary name\nexport default function GLTexture (gl, name, options = {}) {\n    this.gl = gl;\n    this.texture = gl.createTexture();\n    if (this.texture) {\n        this.valid = true;\n    }\n    this.bind(0);\n    this.image = null;\n\n    // Default to a 1-pixel black texture so we can safely render while we wait for an image to load\n    // See: http://stackoverflow.com/questions/19722247/webgl-wait-for-texture-to-load\n    this.setData(1, 1, new Uint8Array([0, 0, 0, 255]), { filtering: 'nearest' });\n\n    // TODO: better support for non-URL sources: canvas/video elements, raw pixel buffers\n\n    this.name = name;\n    GLTexture.textures[this.name] = this;\n}\n\n// Destroy a single texture instance\nGLTexture.prototype.destroy = function () {\n    if (!this.valid) {\n        return;\n    }\n    this.gl.deleteTexture(this.texture);\n    this.texture = null;\n    delete this.data;\n    this.data = null;\n    delete GLTexture.textures[this.name];\n    this.valid = false;\n};\n\n// Destroy all texture instances for a given GL context\nGLTexture.destroy = function (gl) {\n    var textures = Object.keys(GLTexture.textures);\n    for (var t of textures) {\n        var texture = GLTexture.textures[t];\n        if (texture.gl === gl) {\n            log.trace(`destroying GLTexture ${texture.name}`);\n            texture.destroy();\n        }\n    }\n};\n\nGLTexture.prototype.bind = function (unit) {\n    if (!this.valid) {\n        return;\n    }\n    this.gl.activeTexture(this.gl.TEXTURE0 + unit);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, this.texture);\n};\n\n// Loads a texture from a URL\nGLTexture.prototype.load = function (url, options = {}) {\n    if (!this.valid) {\n        return;\n    }\n    this.image = new Image();\n    this.image.onload = () => {\n        this.width = this.image.width;\n        this.height = this.image.height;\n        this.data = null; // mutually exclusive with direct data buffer textures\n        this.update(options);\n        this.setTextureFiltering(options);\n    };\n    this.image.src = url;\n};\n\n// Sets texture to a raw image buffer\nGLTexture.prototype.setData = function (width, height, data, options = {}) {\n    this.width = width;\n    this.height = height;\n    this.data = data;\n    this.image = null; // mutually exclusive with image element-based textures\n\n    this.update(options);\n    this.setTextureFiltering(options);\n};\n\n// Uploads current image or buffer to the GPU (can be used to update animated textures on the fly)\nGLTexture.prototype.update = function (options = {}) {\n    if (!this.valid) {\n        return;\n    }\n\n    this.bind(0);\n    this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, (options.UNPACK_FLIP_Y_WEBGL === false ? false : true));\n\n    // Image element\n    if (this.image && this.image.complete) {\n        this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, this.gl.RGBA, this.gl.UNSIGNED_BYTE, this.image);\n    }\n    // Raw image buffer\n    else if (this.width && this.height) { // NOTE: this.data can be null, to zero out texture\n        this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, this.width, this.height, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, this.data);\n    }\n};\n\n// Determines appropriate filtering mode\n// Assumes texture to be operated on is already bound\nGLTexture.prototype.setTextureFiltering = function (options = {}) {\n    if (!this.valid) {\n        return;\n    }\n\n    options.filtering = options.filtering || 'mipmap'; // default to mipmaps for power-of-2 textures\n    var gl = this.gl;\n\n    // For power-of-2 textures, the following presets are available:\n    // mipmap: linear blend from nearest mip\n    // linear: linear blend from original image (no mips)\n    // nearest: nearest pixel from original image (no mips, 'blocky' look)\n    if (Utils.isPowerOf2(this.width) && Utils.isPowerOf2(this.height)) {\n        this.power_of_2 = true;\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, options.TEXTURE_WRAP_S || gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, options.TEXTURE_WRAP_T || gl.CLAMP_TO_EDGE);\n\n        if (options.filtering === 'mipmap') {\n            log.trace('power-of-2 MIPMAP');\n            this.filtering = 'mipmap';\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_NEAREST); // TODO: use trilinear filtering by defualt instead?\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n            gl.generateMipmap(gl.TEXTURE_2D);\n        }\n        else if (options.filtering === 'linear') {\n            log.trace('power-of-2 LINEAR');\n            this.filtering = 'linear';\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n        }\n        else if (options.filtering === 'nearest') {\n            log.trace('power-of-2 NEAREST');\n            this.filtering = 'nearest';\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n        }\n    }\n    else {\n        // WebGL has strict requirements on non-power-of-2 textures:\n        // No mipmaps and must clamp to edge\n        this.power_of_2 = false;\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\n        if (options.filtering === 'nearest') {\n            log.trace('power-of-2 NEAREST');\n            this.filtering = 'nearest';\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n        }\n        else { // default to linear for non-power-of-2 textures\n            log.trace('power-of-2 LINEAR');\n            this.filtering = 'linear';\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n        }\n    }\n};\n",
    "/* global GLVertexLayout */\n\nimport gl from './gl_constants'; // web workers don't have access to GL context, so import all GL constants\n\nimport log from 'loglevel';\n\n// Describes a vertex layout that can be used with many different GL programs.\nexport default class GLVertexLayout {\n    // Attribs are an array, in layout order, of: name, size, type, normalized\n    // ex: { name: 'position', size: 3, type: gl.FLOAT, normalized: false }\n    constructor (attribs) {\n        this.attribs = attribs; // dictionary of attributes, specified as standard GL attrib options\n        this.components = [];   // list of type and offset info about each attribute component\n        this.index = {};        // linear buffer index of each attribute component, e.g. this.index.position.x\n\n        // Calc vertex stride\n        this.stride = 0;\n\n        var count = 0;\n        for (var attrib of this.attribs) {\n            attrib.offset = this.stride;\n            attrib.byte_size = attrib.size;\n            var shift = 0;\n\n            switch (attrib.type) {\n                case gl.FLOAT:\n                case gl.INT:\n                case gl.UNSIGNED_INT:\n                    attrib.byte_size *= 4;\n                    shift = 2;\n                    break;\n                case gl.SHORT:\n                case gl.UNSIGNED_SHORT:\n                    attrib.byte_size *= 2;\n                    shift = 1;\n                    break;\n            }\n\n            // Force 4-byte alignment on attributes\n            this.stride += attrib.byte_size;\n            if (this.stride & 3) { // pad to multiple of 4 bytes\n                this.stride += 4 - (this.stride & 3);\n            }\n\n            // Add info to list of attribute components\n            // Used to build the vertex data, provides pointers and offsets into each typed array view\n            // Each component is an array of:\n            // [GL attrib type, pointer to typed array view, bits to shift right to determine buffer offset, additional buffer offset for the component]\n            var offset_typed = attrib.offset >> shift;\n            if (attrib.size > 1) {\n                for (var a=0; a < attrib.size; a++) {\n                    this.components.push([attrib.type, null, shift, offset_typed++]);\n                }\n            }\n            else {\n                this.components.push([attrib.type, null, shift, offset_typed]);\n            }\n\n            // Provide an index into the vertex data buffer for each attribute component\n            this.index[attrib.name] = count;\n            count += attrib.size;\n        }\n    }\n\n    // Setup a vertex layout for a specific GL program\n    // Assumes that the desired vertex buffer (VBO) is already bound\n    // If a given program doesn't include all attributes, it can still use the vertex layout\n    // to read those attribs that it does recognize, using the attrib offsets to skip others.\n    enable (gl, program)\n    {\n        // Enable all attributes for this layout\n        for (var a=0; a < this.attribs.length; a++) {\n            var attrib = this.attribs[a];\n            var location = program.attribute(attrib.name).location;\n\n            if (location !== -1) {\n                gl.enableVertexAttribArray(location);\n                gl.vertexAttribPointer(location, attrib.size, attrib.type, attrib.normalized, this.stride, attrib.offset);\n                GLVertexLayout.enabled_attribs[location] = program;\n            }\n        }\n\n        // Disable any previously bound attributes that aren't for this layout\n        var unused_attribs = [];\n        for (location in GLVertexLayout.enabled_attribs) {\n            if (GLVertexLayout.enabled_attribs[location] !== program) {\n                gl.disableVertexAttribArray(location);\n                unused_attribs.push(location);\n            }\n        }\n\n        // Mark attribs as unused\n        for (location in unused_attribs) {\n            delete GLVertexLayout.enabled_attribs[location];\n        }\n    }\n\n    createVertexData () {\n        return new GLVertexData(this);\n    }\n\n}\n\n// Track currently enabled attribs, by the program they are bound to\n// Static class property to reflect global GL state\nGLVertexLayout.enabled_attribs = {};\n\n\n// An intermediary object that holds vertex data in typed arrays, according to a given vertex layout\n// Used to construct a mesh/VBO for rendering\nexport class GLVertexData {\n\n    constructor (vertex_layout) {\n        this.vertex_layout = vertex_layout;\n        this.block_size = 50000;     // block size in which to allocate\n        this.block_num = 1;         // initial # of allocated blocks\n        this.buffer_offset = 0;      // byte offset into currently allocated buffer\n        this.buffer = new ArrayBuffer(this.vertex_layout.stride * this.block_size * this.block_num);\n        // this.components = [for (component of this.vertex_layout.components) [...component]]; // TODO: turn on array comprehension in traceur?\n        this.components = [];\n        for (var component of this.vertex_layout.components) {\n            this.components.push([...component]);\n        }\n        this.vertex_count = 0;\n        this.setBufferViews();\n    }\n\n    // (Re-)allocate typed views into the main buffer - only create the types we need for this layout\n    setBufferViews () {\n        this.buffer_views = {};\n        for (var attrib of this.vertex_layout.attribs) {\n            // Need view for this type?\n            if (this.buffer_views[attrib.type] == null) {\n                var array_type = this.array_types[attrib.type];\n                this.buffer_views[attrib.type] = new array_type(this.buffer);\n            }\n        }\n\n        // Update component buffer pointers\n        for (var component of this.components) {\n            component[1] = this.buffer_views[component[0]];\n        }\n    }\n\n    // Check allocated buffer size, expand/realloc buffer if needed\n    // checkBufferSize (num = 1) {\n    //     if ((this.buffer_offset + (num * this.vertex_layout.stride)) > this.buffer.byteLength) {\n    //         this.block_num += Math.ceil(num / this.block_size);\n    checkBufferSize () {\n        if ((this.buffer_offset + this.vertex_layout.stride) > this.buffer.byteLength) {\n            this.block_num++;\n            var new_block = new ArrayBuffer(this.vertex_layout.stride * this.block_size * this.block_num);\n            var new_view = new Uint8Array(new_block);\n            new_view.set(new Uint8Array(this.buffer)); // copy existing data to new buffer\n\n            this.buffer = new_block;\n            this.setBufferViews();\n            log.info(`GLVertexData: expanded vertex block to ${this.block_size * this.block_num} vertices`);\n        }\n    }\n\n    // Add a vertex, copied from a plain JS array of elements matching the order of the vertex layout.\n    // Note: uses pre-calculated info about each attribute, including pointer to appropriate typed array\n    // view and offset into it. This was the fastest method profiled so far for filling a mixed-type\n    // vertex layout (though still slower than the previous method that only supported Float32Array attributes).\n    addVertex (vertex) {\n        this.checkBufferSize();\n        var i=0;\n\n        // ES6-style destructuring and iteration - cool but noticeably slower (at least w/traceur compiled code)\n        // for (var [, buffer, shift, offset] of this.components) {\n        //     buffer[(this.buffer_offset >> shift) + offset] = vertex[i++];\n\n        var clen = this.components.length;\n        for (var c=0; c < clen; c++) {\n            var component = this.components[c];\n            component[1][(this.buffer_offset >> component[2]) + component[3]] = vertex[i++];\n        }\n\n        this.buffer_offset += this.vertex_layout.stride;\n        this.vertex_count++;\n    }\n\n    // Finalize vertex buffer for use in constructing a mesh\n    end () {\n        // Clip the allocated block to free unused memory\n        if (this.buffer_offset < this.buffer.byteLength) {\n            var new_block = new ArrayBuffer(this.buffer_offset);\n            var new_view = new Uint8Array(new_block);\n            new_view.set(new Uint8Array(this.buffer, 0, this.buffer_offset));\n            this.buffer = new_block;\n        }\n        return this;\n    }\n\n}\n\n// Maps GL types to JS array types\nGLVertexData.prototype.array_types = {\n    [gl.FLOAT]: Float32Array,\n    [gl.BYTE]: Int8Array,\n    [gl.UNSIGNED_BYTE]: Uint8Array,\n    [gl.INT]: Int32Array,\n    [gl.UNSIGNED_INT]: Uint32Array,\n    [gl.SHORT]: Int16Array,\n    [gl.UNSIGNED_SHORT]: Uint16Array\n};\n",
    "// Generated from GLSL files, don't edit!\nvar shaderSources = {};\n\nshaderSources['modules/directional_light'] =\n\"vec3 directionalLight (\\n\" +\n\"    vec3 normal,\\n\" +\n\"    vec3 color,\\n\" +\n\"    vec3 light_dir,\\n\" +\n\"    float light_ambient) {\\n\" +\n\"\\n\" +\n\"    // Flat shading\\n\" +\n\"    light_dir = normalize(light_dir);\\n\" +\n\"    color *= dot(normal, light_dir * -1.0) + light_ambient;\\n\" +\n\"    return color;\\n\" +\n\"}\\n\" +\n\"\\n\" +\n\"#pragma glslify: export(directionalLight)\\n\" +\n\"\";\n\nshaderSources['modules/point_light'] =\n\"vec3 pointLight (\\n\" +\n\"    vec4 position,\\n\" +\n\"    vec3 normal,\\n\" +\n\"    vec3 color,\\n\" +\n\"    vec4 light_pos,\\n\" +\n\"    float light_ambient,\\n\" +\n\"    const bool backlight) {\\n\" +\n\"\\n\" +\n\"    vec3 light_dir = normalize(position.xyz - light_pos.xyz); // from light point to vertex\\n\" +\n\"    color *= abs(max(float(backlight) * -1., dot(normal, light_dir * -1.0))) + light_ambient;\\n\" +\n\"    return color;\\n\" +\n\"}\\n\" +\n\"\\n\" +\n\"#pragma glslify: export(pointLight)\\n\" +\n\"\";\n\nshaderSources['modules/popup'] =\n\"// Pop-up effect - 3d in center of viewport, fading to 2d at edges\\n\" +\n\"vec4 popup (vec4 position, const vec2 center, const float radius) {\\n\" +\n\"    if (position.z > 0.) {\\n\" +\n\"        float cd = distance(position.xy, center);\\n\" +\n\"        float popup_fade_inner = radius * 2. / 3.; // 0.5\\n\" +\n\"        float popup_fade_outer = radius; // 0.75\\n\" +\n\"        if (cd > popup_fade_inner) {\\n\" +\n\"            position.z *= 1.0 - smoothstep(popup_fade_inner, popup_fade_outer, cd);\\n\" +\n\"        }\\n\" +\n\"        // const float zoom_boost_start = 15.0;\\n\" +\n\"        // const float zoom_boost_end = 17.0;\\n\" +\n\"        // const float zoom_boost_magnitude = 0.75;\\n\" +\n\"        // position.z *= 1.0 + (1.0 - smoothstep(zoom_boost_start, zoom_boost_end, u_map_zoom)) * zoom_boost_magnitude;\\n\" +\n\"    }\\n\" +\n\"\\n\" +\n\"    return position;\\n\" +\n\"}\\n\" +\n\"\\n\" +\n\"#pragma glslify: export(popup)\\n\" +\n\"\";\n\nshaderSources['modules/reorder_layers'] =\n\"// Re-orders depth so that higher numbered layers are \\\"force\\\"-drawn over lower ones\\n\" +\n\"\\n\" +\n\"void reorderLayers (float layer, float num_layers, inout vec4 position) {\\n\" +\n\"    float layer_order = ((layer + 1.) / (num_layers + 1.)) + 1.;\\n\" +\n\"    position.z /= layer_order;\\n\" +\n\"    position.xyw *= layer_order;\\n\" +\n\"}\\n\" +\n\"\\n\" +\n\"#pragma glslify: export(reorderLayers)\\n\" +\n\"\";\n\nshaderSources['modules/specular_point_light'] =\n\"vec3 specularLight (\\n\" +\n\"    vec4 position,\\n\" +\n\"    vec3 normal,\\n\" +\n\"    vec3 color,\\n\" +\n\"    vec4 light_pos,\\n\" +\n\"    float light_ambient,\\n\" +\n\"    const bool backlight) {\\n\" +\n\"\\n\" +\n\"    vec3 light_dir = normalize(position.xyz - light_pos.xyz); // direction from the light to the model\\n\" +\n\"    vec3 view_pos = vec3(0., 0., 500.); // approximate location of eye (TODO: make this configurable and calculated based on proper FOV/perspective calc)\\n\" +\n\"    vec3 view_dir = normalize(position.xyz - view_pos.xyz); // direction from eye to model\\n\" +\n\"\\n\" +\n\"    vec3 specularReflection;\\n\" +\n\"\\n\" +\n\"    if (dot(normal, -light_dir) < 0.0) { // light source on the wrong side?\\n\" +\n\"      specularReflection = vec3(0.0, 0.0, 0.0); // no specular reflection\\n\" +\n\"    }\\n\" +\n\"    else {\\n\" +\n\"        // TODO: make configurable / part of material + light definitions\\n\" +\n\"        float attenuation = 1.0;\\n\" +\n\"        float lightSpecularTerm = 1.0;\\n\" +\n\"        float materialSpecularTerm = 10.0;\\n\" +\n\"        float materialShininessTerm = 10.0;\\n\" +\n\"\\n\" +\n\"        specularReflection =\\n\" +\n\"            attenuation *\\n\" +\n\"            vec3(lightSpecularTerm) *\\n\" +\n\"            vec3(materialSpecularTerm) *\\n\" +\n\"            pow(max(0.0, dot(reflect(-light_dir, normal), view_dir)), materialShininessTerm);\\n\" +\n\"    }\\n\" +\n\"\\n\" +\n\"    // specularReflection *= vec3(1., 0., 0.); // test specular color (TODO: add support in light definition)\\n\" +\n\"\\n\" +\n\"    float diffuse = abs(max(float(backlight) * -1., dot(normal, light_dir * -1.0)));\\n\" +\n\"\\n\" +\n\"    // Diffuse + specular + ambient\\n\" +\n\"    color *=\\n\" +\n\"        diffuse +\\n\" +\n\"        specularReflection +\\n\" +\n\"        light_ambient;\\n\" +\n\"\\n\" +\n\"    return color;\\n\" +\n\"}\\n\" +\n\"\\n\" +\n\"#pragma glslify: export(specularLight)\\n\" +\n\"\";\n\nshaderSources['modules/spherical_environment_map'] =\n\"// Spherical environment map\\n\" +\n\"// Based on: http://www.clicktorelease.com/blog/creating-spherical-environment-mapping-shader\\n\" +\n\"\\n\" +\n\"// view_pos: location of camera\\n\" +\n\"// position: location of current point on surface\\n\" +\n\"// normal: normal of current piont on surface\\n\" +\n\"// envmap: spherical environment map texture\\n\" +\n\"\\n\" +\n\"vec4 sphericalEnvironmentMap(vec3 view_pos, vec3 position, vec3 normal, sampler2D envmap) {\\n\" +\n\"    // Normalized vector from camera to surface\\n\" +\n\"    vec3 eye = normalize(position.xyz - view_pos.xyz);\\n\" +\n\"\\n\" +\n\"    // Force surfaces to be in front of camera (safeguard that fixes fake camera optics)\\n\" +\n\"    if (eye.z > 0.01) {\\n\" +\n\"        eye.z = 0.01;\\n\" +\n\"    }\\n\" +\n\"\\n\" +\n\"    // Reflection of eye off of surface normal\\n\" +\n\"    vec3 r = reflect(eye, normal);\\n\" +\n\"\\n\" +\n\"    // Map reflected vector onto the surface of a sphere\\n\" +\n\"    r.z += 1.;\\n\" +\n\"    float m = 2. * length(r);\\n\" +\n\"\\n\" +\n\"    // Adjust xy to account for spherical shape, and center in middle of texture\\n\" +\n\"    vec2 uv = r.xy / m + .5;\\n\" +\n\"\\n\" +\n\"    // Sample the environment map\\n\" +\n\"    return texture2D(envmap, uv);\\n\" +\n\"}\\n\" +\n\"\\n\" +\n\"#pragma glslify: export(sphericalEnvironmentMap)\\n\" +\n\"\";\n\nshaderSources['point_fragment'] =\n\"uniform vec2 u_resolution;\\n\" +\n\"\\n\" +\n\"varying vec3 v_color;\\n\" +\n\"varying vec2 v_texcoord;\\n\" +\n\"\\n\" +\n\"void main (void) {\\n\" +\n\"    vec3 color = v_color;\\n\" +\n\"    vec3 lighting = vec3(1.);\\n\" +\n\"\\n\" +\n\"    // Simple threshold at dot radius\\n\" +\n\"    vec2 uv = v_texcoord * 2. - 1.;\\n\" +\n\"    float len = length(uv);\\n\" +\n\"    if (len > 1.) {\\n\" +\n\"        discard;\\n\" +\n\"    }\\n\" +\n\"    color *= (1. - smoothstep(.25, 1., len)) + 0.5;\\n\" +\n\"\\n\" +\n\"    #pragma tangram: fragment\\n\" +\n\"\\n\" +\n\"    gl_FragColor = vec4(color, 1.);\\n\" +\n\"}\\n\" +\n\"\";\n\nshaderSources['point_vertex'] =\n\"uniform mat4 u_tile_view;\\n\" +\n\"uniform float u_num_layers;\\n\" +\n\"\\n\" +\n\"attribute vec3 a_position;\\n\" +\n\"attribute vec2 a_texcoord;\\n\" +\n\"attribute vec3 a_color;\\n\" +\n\"attribute float a_layer;\\n\" +\n\"\\n\" +\n\"varying vec3 v_color;\\n\" +\n\"varying vec2 v_texcoord;\\n\" +\n\"\\n\" +\n\"#if defined(FEATURE_SELECTION)\\n\" +\n\"    attribute vec4 a_selection_color;\\n\" +\n\"    varying vec4 v_selection_color;\\n\" +\n\"#endif\\n\" +\n\"\\n\" +\n\"#pragma tangram: globals\\n\" +\n\"#pragma tangram: camera\\n\" +\n\"\\n\" +\n\"void main() {\\n\" +\n\"    #if defined(FEATURE_SELECTION)\\n\" +\n\"        if (a_selection_color.xyz == vec3(0.)) {\\n\" +\n\"            // Discard by forcing invalid triangle if we\\'re in the feature\\n\" +\n\"            // selection pass but have no selection info\\n\" +\n\"            // TODO: in some cases we may actually want non-selectable features to occlude selectable ones?\\n\" +\n\"            gl_Position = vec4(0., 0., 0., 1.);\\n\" +\n\"            return;\\n\" +\n\"        }\\n\" +\n\"        v_selection_color = a_selection_color;\\n\" +\n\"    #endif\\n\" +\n\"\\n\" +\n\"    // vec4 position = u_perspective * u_tile_view * vec4(a_position, 1.);\\n\" +\n\"    vec4 position = u_tile_view * vec4(a_position, 1.);\\n\" +\n\"\\n\" +\n\"    #pragma tangram: vertex\\n\" +\n\"\\n\" +\n\"    v_color = a_color;\\n\" +\n\"    v_texcoord = a_texcoord;\\n\" +\n\"\\n\" +\n\"    cameraProjection(position);\\n\" +\n\"\\n\" +\n\"    // Re-orders depth so that higher numbered layers are \\\"force\\\"-drawn over lower ones\\n\" +\n\"    reorderLayers(a_layer, u_num_layers, position);\\n\" +\n\"\\n\" +\n\"    gl_Position = position;\\n\" +\n\"}\\n\" +\n\"\";\n\nshaderSources['polygon_fragment'] =\n\"uniform vec2 u_resolution;\\n\" +\n\"uniform vec2 u_aspect;\\n\" +\n\"uniform float u_meters_per_pixel;\\n\" +\n\"uniform float u_time;\\n\" +\n\"uniform float u_map_zoom;\\n\" +\n\"uniform vec2 u_map_center;\\n\" +\n\"uniform vec2 u_tile_origin;\\n\" +\n\"uniform sampler2D u_texture; // built-in uniform for texture maps\\n\" +\n\"\\n\" +\n\"varying vec3 v_color;\\n\" +\n\"varying vec4 v_world_position;\\n\" +\n\"\\n\" +\n\"#if defined(TEXTURE_COORDS)\\n\" +\n\"    varying vec2 v_texcoord;\\n\" +\n\"#endif\\n\" +\n\"\\n\" +\n\"// Define a wrap value for world coordinates (allows more precision at higher zooms)\\n\" +\n\"// e.g. at wrap 1000, the world space will wrap every 1000 meters\\n\" +\n\"#if defined(WORLD_POSITION_WRAP)\\n\" +\n\"    vec2 world_position_anchor = vec2(floor(u_tile_origin / WORLD_POSITION_WRAP) * WORLD_POSITION_WRAP);\\n\" +\n\"\\n\" +\n\"    // Convert back to absolute world position if needed\\n\" +\n\"    vec4 absoluteWorldPosition () {\\n\" +\n\"        return vec4(v_world_position.xy + world_position_anchor, v_world_position.z, v_world_position.w);\\n\" +\n\"    }\\n\" +\n\"#else\\n\" +\n\"    vec4 absoluteWorldPosition () {\\n\" +\n\"        return v_world_position;\\n\" +\n\"    }\\n\" +\n\"#endif\\n\" +\n\"\\n\" +\n\"#if defined(LIGHTING_ENVIRONMENT)\\n\" +\n\"    uniform sampler2D u_env_map;\\n\" +\n\"#endif\\n\" +\n\"\\n\" +\n\"#if !defined(LIGHTING_VERTEX)\\n\" +\n\"    varying vec4 v_position;\\n\" +\n\"    varying vec3 v_normal;\\n\" +\n\"#else\\n\" +\n\"    varying vec3 v_lighting;\\n\" +\n\"#endif\\n\" +\n\"\\n\" +\n\"#pragma tangram: globals\\n\" +\n\"#pragma tangram: lighting\\n\" +\n\"\\n\" +\n\"void main (void) {\\n\" +\n\"    vec3 color = v_color;\\n\" +\n\"\\n\" +\n\"    #if defined(LIGHTING_ENVIRONMENT)\\n\" +\n\"        // Approximate location of eye (TODO: make this configurable)\\n\" +\n\"        vec3 view_pos = vec3(0., 0., 100. * u_meters_per_pixel);\\n\" +\n\"\\n\" +\n\"        // Replace object color with environment map\\n\" +\n\"        color = sphericalEnvironmentMap(view_pos, v_position.xyz, v_normal, u_env_map).rgb;\\n\" +\n\"    #endif\\n\" +\n\"\\n\" +\n\"    #if !defined(LIGHTING_VERTEX) // default to per-pixel lighting\\n\" +\n\"        vec3 lighting = calculateLighting(v_position, v_normal, vec3(1.));\\n\" +\n\"    #else\\n\" +\n\"        vec3 lighting = v_lighting;\\n\" +\n\"    #endif\\n\" +\n\"\\n\" +\n\"    // Apply lighting to color\\n\" +\n\"    // TODO: add transformation points to give more control to style-specific shaders\\n\" +\n\"    color *= lighting;\\n\" +\n\"\\n\" +\n\"    // Style-specific vertex transformations\\n\" +\n\"    #pragma tangram: fragment\\n\" +\n\"\\n\" +\n\"    gl_FragColor = vec4(color, 1.0);\\n\" +\n\"}\\n\" +\n\"\";\n\nshaderSources['polygon_vertex'] =\n\"uniform vec2 u_resolution;\\n\" +\n\"uniform vec2 u_aspect;\\n\" +\n\"uniform float u_time;\\n\" +\n\"uniform float u_map_zoom;\\n\" +\n\"uniform vec2 u_map_center;\\n\" +\n\"uniform vec2 u_tile_origin;\\n\" +\n\"uniform mat4 u_tile_world;\\n\" +\n\"uniform mat4 u_tile_view;\\n\" +\n\"uniform float u_meters_per_pixel;\\n\" +\n\"uniform float u_num_layers;\\n\" +\n\"\\n\" +\n\"attribute vec3 a_position;\\n\" +\n\"attribute vec3 a_normal;\\n\" +\n\"attribute vec3 a_color;\\n\" +\n\"attribute float a_layer;\\n\" +\n\"\\n\" +\n\"varying vec3 v_color;\\n\" +\n\"varying vec4 v_world_position;\\n\" +\n\"\\n\" +\n\"// Optional texture UVs\\n\" +\n\"#if defined(TEXTURE_COORDS)\\n\" +\n\"    attribute vec2 a_texcoord;\\n\" +\n\"    varying vec2 v_texcoord;\\n\" +\n\"#endif\\n\" +\n\"\\n\" +\n\"// Define a wrap value for world coordinates (allows more precision at higher zooms)\\n\" +\n\"// e.g. at wrap 1000, the world space will wrap every 1000 meters\\n\" +\n\"#if defined(WORLD_POSITION_WRAP)\\n\" +\n\"    vec2 world_position_anchor = vec2(floor(u_tile_origin / WORLD_POSITION_WRAP) * WORLD_POSITION_WRAP);\\n\" +\n\"\\n\" +\n\"    // Convert back to absolute world position if needed\\n\" +\n\"    vec4 absoluteWorldPosition () {\\n\" +\n\"        return vec4(v_world_position.xy + world_position_anchor, v_world_position.z, v_world_position.w);\\n\" +\n\"    }\\n\" +\n\"#else\\n\" +\n\"    vec4 absoluteWorldPosition () {\\n\" +\n\"        return v_world_position;\\n\" +\n\"    }\\n\" +\n\"#endif\\n\" +\n\"\\n\" +\n\"#if defined(FEATURE_SELECTION)\\n\" +\n\"    attribute vec4 a_selection_color;\\n\" +\n\"    varying vec4 v_selection_color;\\n\" +\n\"#endif\\n\" +\n\"\\n\" +\n\"#if !defined(LIGHTING_VERTEX)\\n\" +\n\"    varying vec4 v_position;\\n\" +\n\"    varying vec3 v_normal;\\n\" +\n\"#else\\n\" +\n\"    varying vec3 v_lighting;\\n\" +\n\"#endif\\n\" +\n\"\\n\" +\n\"#pragma tangram: globals\\n\" +\n\"#pragma tangram: camera\\n\" +\n\"#pragma tangram: lighting\\n\" +\n\"\\n\" +\n\"void main() {\\n\" +\n\"    // Selection pass-specific rendering\\n\" +\n\"    #if defined(FEATURE_SELECTION)\\n\" +\n\"        if (a_selection_color.xyz == vec3(0.)) {\\n\" +\n\"            // Discard by forcing invalid triangle if we\\'re in the feature\\n\" +\n\"            // selection pass but have no selection info\\n\" +\n\"            // TODO: in some cases we may actually want non-selectable features to occlude selectable ones?\\n\" +\n\"            gl_Position = vec4(0., 0., 0., 1.);\\n\" +\n\"            return;\\n\" +\n\"        }\\n\" +\n\"        v_selection_color = a_selection_color;\\n\" +\n\"    #endif\\n\" +\n\"\\n\" +\n\"    // Position\\n\" +\n\"    vec4 position = u_tile_view * vec4(a_position, 1.);\\n\" +\n\"\\n\" +\n\"    // Texture UVs\\n\" +\n\"    #if defined(TEXTURE_COORDS)\\n\" +\n\"        v_texcoord = a_texcoord;\\n\" +\n\"    #endif\\n\" +\n\"\\n\" +\n\"    // World coordinates for 3d procedural textures\\n\" +\n\"    v_world_position = u_tile_world * vec4(a_position, 1.);\\n\" +\n\"    #if defined(WORLD_POSITION_WRAP)\\n\" +\n\"        v_world_position.xy -= world_position_anchor;\\n\" +\n\"    #endif\\n\" +\n\"\\n\" +\n\"    // Style-specific vertex transformations\\n\" +\n\"    #pragma tangram: vertex\\n\" +\n\"\\n\" +\n\"    // Shading\\n\" +\n\"    #if defined(LIGHTING_VERTEX)\\n\" +\n\"        v_color = a_color;\\n\" +\n\"        v_lighting = calculateLighting(position, a_normal, vec3(1.));\\n\" +\n\"    #else\\n\" +\n\"        // Send to fragment shader for per-pixel lighting\\n\" +\n\"        v_position = position;\\n\" +\n\"        v_normal = a_normal;\\n\" +\n\"        v_color = a_color;\\n\" +\n\"    #endif\\n\" +\n\"\\n\" +\n\"    // Camera\\n\" +\n\"    cameraProjection(position);\\n\" +\n\"\\n\" +\n\"    // Re-orders depth so that higher numbered layers are \\\"force\\\"-drawn over lower ones\\n\" +\n\"    reorderLayers(a_layer, u_num_layers, position);\\n\" +\n\"\\n\" +\n\"    gl_Position = position;\\n\" +\n\"}\\n\" +\n\"\";\n\nshaderSources['selection_fragment'] =\n\"#if defined(FEATURE_SELECTION)\\n\" +\n\"    varying vec4 v_selection_color;\\n\" +\n\"#endif\\n\" +\n\"\\n\" +\n\"void main (void) {\\n\" +\n\"    #if defined(FEATURE_SELECTION)\\n\" +\n\"        gl_FragColor = v_selection_color;\\n\" +\n\"    #else\\n\" +\n\"        gl_FragColor = vec4(0., 0., 0., 1.);\\n\" +\n\"    #endif\\n\" +\n\"}\\n\" +\n\"\";\n\nmodule.exports = shaderSources;\n",
    "import Utils from './utils';\nimport Scene from './scene';\n\nimport log from 'loglevel';\n\n// Exports must appear outside a function, but will only be defined in main thread (below)\nexport var LeafletLayer;\nexport function leafletLayer(options) {\n    return new LeafletLayer(options);\n}\n\n// Leaflet layer functionality is only defined in main thread\nUtils.inMainThread(() => {\n\n    LeafletLayer = L.GridLayer.extend({\n\n        initialize: function (options) {\n            L.setOptions(this, options);\n            this.createScene();\n            this.hooks = {};\n        },\n\n        createScene: function () {\n            this.scene = Scene.create({\n                tile_source: this.options.vectorTileSource,\n                layers: this.options.vectorLayers,\n                styles: this.options.vectorStyles\n            }, {\n                numWorkers: this.options.numWorkers,\n                preRender: this.options.preRender,\n                postRender: this.options.postRender,\n                // advanced option, app will have to manually called scene.render() per frame\n                disableRenderLoop: this.options.disableRenderLoop,\n                workerUrl: this.options.workerUrl\n            });\n        },\n\n        // Finish initializing scene and setup events when layer is added to map\n        onAdd: function () {\n            if (!this.scene) {\n                this.createScene();\n            }\n\n            L.GridLayer.prototype.onAdd.apply(this, arguments);\n\n            this.hooks.tileunload = (event) => {\n                // TODO: not expecting leaflet to fire this event for tiles that simply pan\n                // out of bounds when 'unloadInvisibleTiles' option is set, but it's firing\n                // since upgrading to latest master branch - force-checking for now\n                if (this.options.unloadInvisibleTiles) {\n                    var tile = event.tile;\n                    var key = tile.getAttribute('data-tile-key');\n                    this.scene.removeTile(key);\n                }\n            };\n            this.on('tileunload', this.hooks.tileunload);\n\n            this.hooks.resize = () => {\n                var size = this._map.getSize();\n                this.scene.resizeMap(size.x, size.y);\n            };\n            this._map.on('resize', this.hooks.resize);\n\n            this.hooks.move = () => {\n                var center = this._map.getCenter();\n                this.scene.setCenter(center.lng, center.lat);\n                this.scene.immediateRedraw();\n            };\n            this._map.on('move', this.hooks.move);\n\n            this.hooks.zoomstart = () => {\n                this.scene.startZoom();\n            };\n            this._map.on('zoomstart', this.hooks.zoomstart);\n\n            this.hooks.zoomend = () => {\n                this.scene.setZoom(this._map.getZoom());\n            };\n            this._map.on('zoomend', this.hooks.zoomend);\n\n            this.hooks.dragstart = () => {\n                this.scene.panning = true;\n            };\n            this._map.on('dragstart', this.hooks.dragstart);\n\n            this.hooks.dragend = () => {\n                this.scene.panning = false;\n            };\n            this._map.on('dragend', this.hooks.dragend);\n\n            // Canvas element will be inserted after map container (leaflet transforms shouldn't be applied to the GL canvas)\n            // TODO: find a better way to deal with this? right now GL map only renders correctly as the bottom layer\n            this.scene.container = this._map.getContainer();\n\n            var center = this._map.getCenter();\n            this.scene.setCenter(center.lng, center.lat, this._map.getZoom());\n\n            // Use leaflet's existing event system as the callback mechanism\n            this.scene.init().then(() => {\n                log.debug('Scene.init() succeeded');\n                this.fire('init');\n            }, (error) => {\n                log.error('Scene.init() failed with error:', error);\n                throw error;\n            });\n        },\n\n        onRemove: function () {\n            L.GridLayer.prototype.onRemove.apply(this, arguments);\n\n            this.off('tileunload', this.hooks.tileunload);\n            this._map.off('resize', this.hooks.resize);\n            this._map.off('move', this.hooks.move);\n            this._map.off('zoomstart', this.hooks.zoomstart);\n            this._map.off('zoomend', this.hooks.zoomend);\n            this._map.off('dragstart', this.hooks.dragstart);\n            this._map.off('dragend', this.hooks.dragend);\n            this.hooks = {};\n\n            if (this.scene) {\n                this.scene.destroy();\n                this.scene = null;\n            }\n        },\n\n        createTile: function (coords) {\n            var div = document.createElement('div');\n            this.scene.loadTile(coords, { debugElement: div });\n            return div;\n        },\n\n        render: function () {\n            if (!this.scene) {\n                return;\n            }\n            this.scene.render();\n        }\n\n    });\n\n});\n",
    "/*global Light */\nimport GLProgram from './gl/gl_program';\n\n// Abstract base class\nexport default class Light {\n\n    constructor(scene) {\n        this.scene = scene;\n    }\n\n    // Create a light by type name, factory-style\n    static create(scene, config) {\n        switch (config.type) {\n            case 'point':\n                return new PointLight(scene, config);\n            case 'directional':\n                return new DirectionalLight(scene, config);\n            case 'spotlight':\n                return new SpotLight(scene, config);\n            /* falls through */\n            default:\n                return new NoLight(scene, config);\n        }\n    }\n\n    // Update method called once per frame\n    update() {\n    }\n\n    // Called once per frame per program (e.g. for main render pass, then for each additional pass for feature selection, etc.)\n    setupProgram(program) {\n    }\n\n}\n\n// Shader transform name\nLight.transform = 'lighting';\n\n\n// Point light implementing diffuse, specular, and ambient terms\nclass PointLight extends Light {\n\n    constructor(scene, options = {}) {\n        super(scene);\n        this.type = 'point';\n\n        this.color = (options.color || [1, 1, 1]).map(parseFloat);\n        this.position = (options.position || [0, 0, 200]).map(parseFloat); // [x, y, z]\n        this.ambient = !isNaN(parseFloat(options.ambient)) ? parseFloat(options.ambient) : 0.5;\n        this.backlight = options.backlight || false;\n\n        GLProgram.removeTransform(Light.transform);\n        GLProgram.addTransform(Light.transform, `\n            vec3 pointLight(\n                vec4 position,\n                vec3 normal,\n                vec3 color,\n                vec4 light_pos,\n                float light_ambient,\n                const bool backlight) {\n\n                // Lambert shading\n                vec3 light_dir = normalize(position.xyz - light_pos.xyz); // from light point to vertex\n                color *= abs(max(float(backlight) * -1., dot(normal, light_dir * -1.0))) + light_ambient;\n                return color;\n            }\n\n            uniform vec4 u_point_light_position;\n            uniform vec3 u_point_light_color;\n            uniform float u_point_light_ambient;\n            uniform bool u_point_light_backlight;\n\n            vec3 calculateLighting(\n                vec4 position,\n                vec3 normal,\n                vec3 color) {\n\n                return pointLight(\n                    position, normal, u_point_light_color,\n                    u_point_light_position,\n                    u_point_light_ambient,\n                    u_point_light_backlight\n                );\n            }`\n        );\n    }\n\n    setupProgram(program) {\n        program.uniform('4f', 'u_point_light_position',\n            this.position[0] * this.scene.meters_per_pixel,\n            this.position[1] * this.scene.meters_per_pixel,\n            this.position[2] * this.scene.meters_per_pixel,\n            1);\n        program.uniform('3fv', 'u_point_light_color', this.color);\n        program.uniform('1f', 'u_point_light_ambient', this.ambient);\n        program.uniform('1i', 'u_point_light_backlight', this.backlight);\n    }\n\n}\n\nclass SpotLight extends Light {\n\n    constructor(scene, options = {}) {\n        super(scene);\n        this.type = 'spotlight';\n\n        this.position = (options.position || [0, 0, 500]).map(parseFloat); // [x, y, z]\n        this.direction = (options.direction || [0, 0, -1]).map(parseFloat); // [x, y, z]\n        this.inner_angle = parseFloat(options.inner_angle || 20);\n        this.outer_angle = parseFloat(options.outer_angle || 25);\n        this.color = (options.color || [1, 1, 1]).map(parseFloat);\n        this.ambient = !isNaN(parseFloat(options.ambient)) ? parseFloat(options.ambient) : 0.2;\n\n        GLProgram.removeTransform(Light.transform);\n        GLProgram.addTransform(Light.transform, `\n            vec3 spotLight(\n                vec4 position,\n                vec3 normal,\n                vec3 color,\n                vec4 light_pos,\n                vec3 light_dir,\n                float inner_angle,\n                float outer_angle,\n                float light_ambient) {\n\n                // Lambert shading\n                vec3 light_to_pos = normalize(position.xyz - light_pos.xyz); // from light point to vertex\n\n                float inner_cutoff = cos(radians(inner_angle));\n                float outer_cutoff = cos(radians(outer_angle));\n\n                light_dir = normalize(light_dir);\n                float angle = dot(light_dir, light_to_pos);\n\n                if (angle > outer_cutoff) {\n                    float intensity = mix(.2, 1., max(0., dot(normal, light_to_pos * -1.0)));\n\n                    if (angle < inner_cutoff) {\n                        intensity *= mix(1., 0., (inner_cutoff - angle) / (inner_cutoff - outer_cutoff));\n                    }\n\n                    color *= intensity + light_ambient;\n                }\n                else {\n                    color *= light_ambient;\n                }\n\n                return color;\n            }\n\n            uniform vec4 u_spotlight_position;\n            uniform vec3 u_spotlight_direction;\n            uniform float u_spotlight_inner_angle;\n            uniform float u_spotlight_outer_angle;\n            uniform vec3 u_spotlight_color;\n            uniform float u_spotlight_ambient;\n\n            vec3 calculateLighting(\n                vec4 position,\n                vec3 normal,\n                vec3 color) {\n\n                return spotLight(\n                    position, normal, u_spotlight_color,\n                    u_spotlight_position,\n                    u_spotlight_direction,\n                    u_spotlight_inner_angle,\n                    u_spotlight_outer_angle,\n                    u_spotlight_ambient\n                );\n            }`\n        );\n    }\n\n    setupProgram(program) {\n        program.uniform('4f', 'u_spotlight_position',\n            this.position[0] * this.scene.meters_per_pixel,\n            this.position[1] * this.scene.meters_per_pixel,\n            this.position[2] * this.scene.meters_per_pixel,\n            1);\n        program.uniform('3fv', 'u_spotlight_direction', this.direction);\n        program.uniform('1f', 'u_spotlight_inner_angle', this.inner_angle);\n        program.uniform('1f', 'u_spotlight_outer_angle', this.outer_angle);\n        program.uniform('3fv', 'u_spotlight_color', this.color);\n        program.uniform('1f', 'u_spotlight_ambient', this.ambient);\n    }\n\n}\n\n// Directional light implementing diffuse, specular, and ambient terms\nclass DirectionalLight extends Light {\n\n    constructor(scene, options = {}) {\n        super(scene);\n        this.type = 'directional';\n\n        this.direction = (options.direction || [0.2, 0.7, -0.5]).map(parseFloat); // [x, y, z]\n        this.color = (options.color || [1, 1, 1]).map(parseFloat);\n        this.ambient = !isNaN(parseFloat(options.ambient)) ? parseFloat(options.ambient) : 0.5;\n\n        GLProgram.removeTransform(Light.transform);\n        GLProgram.addTransform(Light.transform, `\n            vec3 directionalLight (\n                vec3 normal,\n                vec3 color,\n                vec3 light_dir,\n                float light_ambient) {\n\n                // Flat shading\n                light_dir = normalize(light_dir);\n                color *= max(0., dot(normal, light_dir * -1.0)) + light_ambient;\n                return color;\n            }\n\n            uniform vec3 u_directional_light_direction;\n            uniform vec3 u_directional_light_color;\n            uniform float u_directional_light_ambient;\n\n            vec3 calculateLighting(\n                vec4 position,\n                vec3 normal,\n                vec3 color) {\n\n                return directionalLight(\n                    normal,\n                    u_directional_light_color,\n                    u_directional_light_direction,\n                    u_directional_light_ambient\n                );\n            }`\n        );\n    }\n\n    setupProgram(program) {\n        program.uniform('3fv', 'u_directional_light_direction', this.direction);\n        program.uniform('3fv', 'u_directional_light_color', this.color);\n        program.uniform('1f', 'u_directional_light_ambient', this.ambient);\n    }\n\n}\n\n// No lighting\nclass NoLight extends Light {\n\n    constructor(scene, options = {}) {\n        super(scene);\n        this.type = 'none';\n\n        GLProgram.removeTransform(Light.transform);\n        GLProgram.addTransform(Light.transform, `\n            vec3 calculateLighting(\n                vec4 position,\n                vec3 normal,\n                vec3 color) {\n\n                return color;\n            }`\n        );\n   }\n\n}\n",
    "/*jshint worker: true*/\n\n// Modules and dependencies to expose in the public Tangram module\nimport Utils from './utils';\n\n// The leaflet layer plugin is currently the primary public API\nimport {LeafletLayer, leafletLayer} from './leaflet_layer';\n\n// The scene worker is only activated when a worker thread is instantiated, but must always be loaded\nimport {SceneWorker} from '../src/scene_worker';\n\n// Additional modules are exposed for debugging\nimport log from 'loglevel';\nimport {Geo} from './geo';\nimport GL from './gl/gl';\nimport GLProgram from './gl/gl_program';\nimport GLTexture from './gl/gl_texture';\nimport WorkerBroker from './worker_broker';\n\n// Window can only be set in main thread\nUtils.inMainThread(() => {\n    window.Tangram = module.exports = {\n        LeafletLayer,\n        leafletLayer,\n        debug: {\n            log,\n            Geo,\n            GL,\n            GLProgram,\n            GLTexture,\n            WorkerBroker\n        }\n    };\n});\n\n// Make some modules accessible in worker for debugging\nUtils.inWorkerThread(() => {\n    self.Tangram = {\n        debug: {\n            SceneWorker,\n            WorkerBroker\n        }\n    };\n});\n",
    "/*global Scene */\nimport {Geo} from './geo';\nimport Utils from './utils';\nimport WorkerBroker from './worker_broker';\nimport {Style} from './style';\nimport {GL} from './gl/gl';\nimport {GLBuilders} from './gl/gl_builders';\nimport GLProgram from './gl/gl_program';\nimport GLTexture from './gl/gl_texture';\nimport {ModeManager} from './gl/gl_modes';\nimport Camera from './camera';\nimport Lighting from './light';\nimport Tile from './tile';\nimport TileSource from './tile_source';\n\nimport log from 'loglevel';\nimport glMatrix from 'gl-matrix';\nvar mat4 = glMatrix.mat4;\nvar vec3 = glMatrix.vec3;\n\n// Global setup\nUtils.inMainThread(() => {\n    // On main thread only (skip in web worker)\n    Utils.requestAnimationFramePolyfill();\n });\nScene.tile_scale = 4096; // coordinates are locally scaled to the range [0, tile_scale]\nGeo.setTileScale(Scene.tile_scale);\nGLBuilders.setTileScale(Scene.tile_scale);\nGLProgram.defines.TILE_SCALE = Scene.tile_scale;\n\n// Layers & styles: pass an object directly, or a URL as string to load remotely\nexport default function Scene(tile_source, layer_source, style_source, options) {\n\n    options = options || {};\n    this.initialized = false;\n\n    this.tile_source = tile_source;\n    this.tiles = {};\n    this.queued_tiles = [];\n    this.num_workers = options.numWorkers || 2;\n    this.allow_cross_domain_workers = (options.allowCrossDomainWorkers === false ? false : true);\n    this.worker_url = options.workerUrl;\n\n    this.layer_source = layer_source;\n    this.style_source = style_source;\n    this.layers = null;\n    this.styles = null;\n\n    this.building = null;                           // tracks current scene building state (tiles being built, etc.)\n    this.dirty = true;                              // request a redraw\n    this.animated = false;                          // request redraw every frame\n    this.preRender = options.preRender;             // optional pre-rendering hook\n    this.postRender = options.postRender;           // optional post-rendering hook\n    this.render_loop = !options.disableRenderLoop;  // disable render loop - app will have to manually call Scene.render() per frame\n\n    this.frame = 0;\n    this.zoom = null;\n    this.center = null;\n    this.device_pixel_ratio = window.devicePixelRatio || 1;\n\n    this.zooming = false;\n    this.panning = false;\n    this.logLevel = options.logLevel || 'debug';\n    log.setLevel(this.logLevel);\n\n    this.container = options.container;\n\n    this.resetTime();\n}\n\nScene.create = function ({tile_source, layers, styles}, options = {}) {\n    if (!(tile_source instanceof TileSource)) {\n        tile_source = TileSource.create(tile_source);\n    }\n    return new Scene(tile_source, layers, styles, options);\n};\n\nScene.prototype.init = function () {\n    if (this.initialized) {\n        return Promise.resolve();\n    }\n    this.initializing = true;\n\n    // Load scene definition (layers, styles, etc.), then create modes & workers\n    return new Promise((resolve, reject) => {\n        this.loadScene().then(() => {\n            Promise.all([\n                new Promise((resolve, reject) => {\n                    this.modes = Scene.createModes(this.styles.modes);\n                    this.updateActiveModes();\n                    resolve();\n                }),\n                this.createWorkers()\n            ]).then(() => {\n                this.container = this.container || document.body;\n                this.canvas = document.createElement('canvas');\n                this.canvas.style.position = 'absolute';\n                this.canvas.style.top = 0;\n                this.canvas.style.left = 0;\n                this.canvas.style.zIndex = -1;\n                this.container.appendChild(this.canvas);\n\n                this.gl = GL.getContext(this.canvas);\n                this.resizeMap(this.container.clientWidth, this.container.clientHeight);\n\n                // this.zoom_step = 0.02; // for fractional zoom user adjustment\n                this.last_render_count = null;\n                this.initInputHandlers();\n\n                this.createCamera();\n                this.createLighting();\n                this.initSelectionBuffer();\n\n                // Init GL context for modes\n                for (var mode of Utils.values(this.modes)) {\n                    mode.setGL(this.gl);\n                }\n                this.updateModes();\n\n                this.initializing = false;\n                this.initialized = true;\n                resolve();\n\n                if (this.render_loop !== false) {\n                    this.setupRenderLoop();\n                }\n            }, reject);\n        });\n    });\n};\n\nScene.prototype.destroy = function () {\n    this.initialized = false;\n    this.renderLoop = () => {}; // set to no-op because a null can cause requestAnimationFrame to throw\n\n    if (this.canvas && this.canvas.parentNode) {\n        this.canvas.parentNode.removeChild(this.canvas);\n        this.canvas = null;\n    }\n    this.container = null;\n\n    if (this.gl) {\n        this.gl.deleteFramebuffer(this.fbo);\n        this.fbo = null;\n\n        GLTexture.destroy(this.gl);\n        ModeManager.destroy(this.gl);\n        this.modes = {};\n\n        this.gl = null;\n    }\n\n    if (Array.isArray(this.workers)) {\n        this.workers.forEach((worker) => {\n            worker.terminate();\n        });\n        this.workers = null;\n    }\n\n    this.tiles = {}; // TODO: probably destroy each tile separately too\n};\n\nScene.prototype.initSelectionBuffer = function () {\n    // Selection state tracking\n    this.pixel = new Uint8Array(4);\n    this.pixel32 = new Float32Array(this.pixel.buffer);\n    this.selection_requests = {};\n    this.selected_feature = null;\n    this.selection_delay_timer = null;\n    this.selection_frame_delay = 5; // delay from selection render to framebuffer sample, to avoid CPU/GPU sync lock\n\n    // Frame buffer for selection\n    // TODO: initiate lazily in case we don't need to do any selection\n    this.fbo = this.gl.createFramebuffer();\n    this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this.fbo);\n    this.fbo_size = { width: 256, height: 256 }; // TODO: make configurable / adaptive based on canvas size\n    this.fbo_size.aspect = this.fbo_size.width / this.fbo_size.height;\n    this.gl.viewport(0, 0, this.fbo_size.width, this.fbo_size.height);\n\n    // Texture for the FBO color attachment\n    var fbo_texture = new GLTexture(this.gl, 'selection_fbo');\n    fbo_texture.setData(this.fbo_size.width, this.fbo_size.height, null, { filtering: 'nearest' });\n    this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER, this.gl.COLOR_ATTACHMENT0, this.gl.TEXTURE_2D, fbo_texture.texture, 0);\n\n    // Renderbuffer for the FBO depth attachment\n    var fbo_depth_rb = this.gl.createRenderbuffer();\n    this.gl.bindRenderbuffer(this.gl.RENDERBUFFER, fbo_depth_rb);\n    this.gl.renderbufferStorage(this.gl.RENDERBUFFER, this.gl.DEPTH_COMPONENT16, this.fbo_size.width, this.fbo_size.height);\n    this.gl.framebufferRenderbuffer(this.gl.FRAMEBUFFER, this.gl.DEPTH_ATTACHMENT, this.gl.RENDERBUFFER, fbo_depth_rb);\n\n    this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, null);\n    this.gl.viewport(0, 0, this.canvas.width, this.canvas.height);\n};\n\nScene.prototype.createObjectURL = function () {\n    return (window.URL && window.URL.createObjectURL) || (window.webkitURL && window.webkitURL.createObjectURL);\n};\n\n// Web workers handle heavy duty tile construction: networking, geometry processing, etc.\nScene.prototype.createWorkers = function () {\n    return new Promise((resolve, reject) => {\n        var worker_url = this.worker_url || Utils.findCurrentURL('tangram.debug.js', 'tangram.min.js');\n        if (!worker_url) {\n            reject(new Error(\"Can't load worker because couldn't find base URL that library was loaded from\"));\n            return;\n        }\n\n        var createObjectURL = this.createObjectURL();\n        if (createObjectURL && this.allow_cross_domain_workers) {\n            // To allow workers to be loaded cross-domain, first load worker source via XHR, then create a local URL via a blob\n            Utils.io(worker_url).then((body) => {\n                if (body.length === 0) {\n                    reject(new Error('Web worker loaded with content length zero'));\n                }\n                var worker_local_url = createObjectURL(new Blob([body], { type: 'application/javascript' }));\n                this.makeWorkers(worker_local_url).then(resolve, reject);\n            }, reject);\n        } else { // Traditional load from remote URL\n            this.makeWorkers(worker_url).then(resolve, reject);\n        }\n    });\n};\n\n// Instantiate workers from URL, init event handlers\nScene.prototype.makeWorkers = function (url) {\n    var queue = [];\n\n    this.workers = [];\n    for (var id=0; id < this.num_workers; id++) {\n        var worker = new Worker(url);\n        this.workers[id] = worker;\n\n        worker.addEventListener('message', this.workerLogMessage.bind(this));\n        WorkerBroker.addWorker(worker);\n\n        log.debug(`Scene.makeWorkers: initializing worker ${id}`);\n        let _id = id;\n        queue.push(WorkerBroker.postMessage(worker, 'init', id).then(\n            (id) => {\n                log.debug(`Scene.makeWorkers: initialized worker ${id}`);\n                return id;\n            },\n            (error) => {\n                log.error(`Scene.makeWorkers: failed to initialize worker ${_id}:`, error);\n                return Promise.reject(error);\n            })\n        );\n    }\n\n    this.next_worker = 0;\n    this.selection_map_worker_size = {};\n\n    return Promise.all(queue);\n};\n\n// Round robin selection of next worker\nScene.prototype.nextWorker = function () {\n    var worker = this.workers[this.next_worker];\n    this.next_worker = (this.next_worker + 1) % this.workers.length;\n    return worker;\n};\n\nScene.prototype.setCenter = function (lng, lat, zoom) {\n    this.center = { lng, lat };\n    if (zoom) {\n        this.setZoom(zoom);\n    }\n    this.updateBounds();\n};\n\nScene.prototype.startZoom = function () {\n    this.last_zoom = this.zoom;\n    this.zooming = true;\n};\n\nScene.prototype.preserve_tiles_within_zoom = 2;\nScene.prototype.setZoom = function (zoom) {\n    // Schedule GL tiles for removal on zoom\n    var below = zoom;\n    var above = zoom;\n    if (this.last_zoom != null) {\n        log.trace(`scene.last_zoom: ${this.last_zoom}`);\n        if (Math.abs(zoom - this.last_zoom) <= this.preserve_tiles_within_zoom) {\n            if (zoom > this.last_zoom) {\n                below = zoom - this.preserve_tiles_within_zoom;\n            }\n            else {\n                above = zoom + this.preserve_tiles_within_zoom;\n            }\n        }\n    }\n\n    this.last_zoom = this.zoom;\n    this.zoom = zoom;\n    this.capped_zoom = Math.min(~~this.zoom, this.tile_source.max_zoom || ~~this.zoom);\n    this.zooming = false;\n    this.updateBounds();\n\n    this.removeTilesOutsideZoomRange(below, above);\n};\n\nScene.prototype.viewReady = function () {\n    if (this.css_size == null || this.center == null || this.zoom == null) {\n         return false;\n    }\n    return true;\n};\n\n// Calculate viewport bounds based on current center and zoom\nScene.prototype.updateBounds = function () {\n    // TODO: better concept of \"readiness\" state?\n    if (!this.viewReady()) {\n        return;\n    }\n\n    this.meters_per_pixel = Geo.metersPerPixel(this.zoom);\n\n    // Size of the half-viewport in meters at current zoom\n    this.meter_zoom = {\n        x: this.css_size.width / 2 * this.meters_per_pixel,\n        y: this.css_size.height / 2 * this.meters_per_pixel\n    };\n\n    // Center of viewport in meters\n    var [x, y] = Geo.latLngToMeters([this.center.lng, this.center.lat]);\n    this.center_meters = { x, y };\n\n    this.bounds_meters = {\n        sw: {\n            x: this.center_meters.x - this.meter_zoom.x,\n            y: this.center_meters.y - this.meter_zoom.y\n        },\n        ne: {\n            x: this.center_meters.x + this.meter_zoom.x,\n            y: this.center_meters.y + this.meter_zoom.y\n        }\n    };\n\n    // Buffered meter bounds catches objects outside viewport that stick into view space\n    // TODO: this is a hacky solution, need to revisit\n    var buffer = 200 * this.meters_per_pixel; // pixels -> meters\n    this.bounds_meters_buffered = {\n        sw: {\n            x: this.bounds_meters.sw.x - buffer,\n            y: this.bounds_meters.sw.y - buffer\n        },\n        ne: {\n            x: this.bounds_meters.ne.x + buffer,\n            y: this.bounds_meters.ne.y + buffer\n        }\n    };\n\n    // Mark tiles as visible/invisible\n    for (var tile of Utils.values(this.tiles)) {\n        tile.updateVisibility(this);\n    }\n\n    this.dirty = true;\n};\n\nScene.prototype.removeTilesOutsideZoomRange = function (below, above) {\n    below = Math.min(below, this.tile_source.max_zoom || below);\n    above = Math.min(above, this.tile_source.max_zoom || above);\n\n    var remove_tiles = [];\n    for (var t in this.tiles) {\n        var tile = this.tiles[t];\n        if (tile.coords.z < below || tile.coords.z > above) {\n            remove_tiles.push(t);\n        }\n    }\n    for (var r=0; r < remove_tiles.length; r++) {\n        var key = remove_tiles[r];\n        log.debug(`removed ${key} (outside range [${below}, ${above}])`);\n        this.removeTile(key);\n    }\n};\n\nScene.prototype.resizeMap = function (width, height) {\n    this.dirty = true;\n\n    this.css_size = { width: width, height: height };\n    this.device_size = { width: Math.round(this.css_size.width * this.device_pixel_ratio), height: Math.round(this.css_size.height * this.device_pixel_ratio) };\n    this.view_aspect = this.css_size.width / this.css_size.height;\n    this.updateBounds();\n\n    if (this.canvas) {\n        this.canvas.style.width = this.css_size.width + 'px';\n        this.canvas.style.height = this.css_size.height + 'px';\n        this.canvas.width = this.device_size.width;\n        this.canvas.height = this.device_size.height;\n\n        this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, null);\n        this.gl.viewport(0, 0, this.canvas.width, this.canvas.height);\n    }\n};\n\n// Request scene be redrawn at next animation loop\nScene.prototype.requestRedraw = function () {\n    this.dirty = true;\n};\n\n// Redraw scene immediately - don't wait for animation loop\n// Use sparingly, but for cases where you need the closest possible sync with other UI elements,\n// such as other, non-WebGL map layers (e.g. Leaflet raster layers, markers, etc.)\nScene.prototype.immediateRedraw = function () {\n    this.dirty = true;\n    this.render();\n};\n\n// TODO: remove, unnecessary\n// Determine a Z value that will stack features in a \"painter's algorithm\" style, first by layer, then by draw order within layer\n// Features are assumed to be already sorted in desired draw order by the layer pre-processor\nScene.calculateZ = function (layer, tile, layer_offset, feature_offset) {\n    // var layer_offset = layer_offset || 0;\n    // var feature_offset = feature_offset || 0;\n    var z = 0; // TODO: made this a no-op until revisiting where it should live - one-time calc here, in vertex layout/shader, etc.\n    return z;\n};\n\n// Setup the render loop\nScene.prototype.setupRenderLoop = function ({ pre_render, post_render } = {}) {\n    this.renderLoop = () => {\n        if (this.initialized) {\n            // Render the scene\n            this.render();\n        }\n\n        // Request the next frame\n        window.requestAnimationFrame(this.renderLoop);\n    };\n    setTimeout(() => { this.renderLoop(); }, 0); // delay start by one tick\n};\n\nScene.prototype.render = function () {\n    this.loadQueuedTiles();\n\n    // Render on demand\n    if (this.dirty === false || this.initialized === false || this.viewReady() === false) {\n        return false;\n    }\n    this.dirty = false; // subclasses can set this back to true when animation is needed\n\n    // Pre-render hook\n    if (typeof this.preRender === 'function') {\n        this.preRender();\n    }\n\n    // Render the scene\n    this.renderGL();\n\n    // Post-render hook\n    if (typeof this.postRender === 'function') {\n        this.postRender();\n    }\n\n    // Redraw every frame if animating\n    if (this.animated === true) {\n        this.dirty = true;\n    }\n\n    this.frame++;\n    log.trace('Scene.render()');\n    return true;\n};\n\nScene.prototype.resetFrame = function () {\n    if (!this.initialized) {\n        return;\n    }\n\n    // Reset frame state\n    var gl = this.gl;\n    gl.clearColor(0.0, 0.0, 0.0, 1.0);\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n\n    // TODO: unnecessary repeat?\n    gl.enable(gl.DEPTH_TEST);\n    gl.depthFunc(gl.LESS);\n    gl.enable(gl.CULL_FACE);\n    gl.cullFace(gl.BACK);\n    // gl.enable(gl.BLEND);\n    // gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n};\n\nScene.prototype.renderGL = function () {\n    var gl = this.gl;\n\n    this.input();\n    this.resetFrame();\n\n    // Map transforms\n    if (!this.center) {\n        return;\n    }\n\n    var [x, y] = Geo.latLngToMeters([this.center.lng, this.center.lat]);\n    var center = {x, y};\n\n    // Model-view matrices\n    var tile_view_mat = mat4.create();\n    var tile_world_mat = mat4.create();\n\n    // Update camera & lights\n    this.camera.update();\n    this.lighting.update();\n\n    // Renderable tile list\n    var renderable_tiles = [];\n    for (var t in this.tiles) {\n        var tile = this.tiles[t];\n        if (tile.loaded === true && tile.visible === true) {\n            renderable_tiles.push(tile);\n        }\n    }\n    this.renderable_tiles_count = renderable_tiles.length;\n\n    // Render main pass - tiles grouped by rendering mode (GL program)\n    var render_count = 0;\n    for (var mode in this.modes) {\n        // Per-frame mode updates/animations\n        // Called even if the mode isn't rendered by any current tiles, so time-based animations, etc. continue\n        this.modes[mode].update();\n\n        var program = this.modes[mode].program;\n        if (program == null || program.compiled === false) {\n            continue;\n        }\n\n        var first_for_mode = true;\n\n        // Render tile GL geometries\n        for (t in renderable_tiles) {\n            tile = renderable_tiles[t];\n\n            if (tile.gl_geometry[mode] != null) {\n                // Setup mode if encountering for first time this frame\n                // (lazy init, not all modes will be used in all screen views; some modes might be defined but never used)\n                if (first_for_mode === true) {\n                    first_for_mode = false;\n\n                    program.use();\n                    this.modes[mode].setUniforms();\n\n                    // TODO: don't set uniforms when they haven't changed\n                    program.uniform('2f', 'u_resolution', this.device_size.width, this.device_size.height);\n                    program.uniform('2f', 'u_aspect', this.view_aspect, 1.0);\n                    program.uniform('1f', 'u_time', ((+new Date()) - this.start_time) / 1000);\n                    program.uniform('1f', 'u_map_zoom', this.zoom); // Math.floor(this.zoom) + (Math.log((this.zoom % 1) + 1) / Math.LN2 // scale fractional zoom by log\n                    program.uniform('2f', 'u_map_center', center.x, center.y);\n                    program.uniform('1f', 'u_num_layers', this.layers.length);\n                    program.uniform('1f', 'u_meters_per_pixel', this.meters_per_pixel);\n\n                    this.camera.setupProgram(program);\n                    this.lighting.setupProgram(program);\n                }\n\n                // TODO: calc these once per tile (currently being needlessly re-calculated per-tile-per-mode)\n\n                // Tile origin\n                program.uniform('2f', 'u_tile_origin', tile.min.x, tile.min.y);\n\n                // Tile view matrix - transform tile space into view space (meters, relative to camera)\n                mat4.identity(tile_view_mat);\n                mat4.translate(tile_view_mat, tile_view_mat, vec3.fromValues(tile.min.x - center.x, tile.min.y - center.y, 0)); // adjust for tile origin & map center\n                mat4.scale(tile_view_mat, tile_view_mat, vec3.fromValues(tile.span.x / Scene.tile_scale, -1 * tile.span.y / Scene.tile_scale, 1)); // scale tile local coords to meters\n                program.uniform('Matrix4fv', 'u_tile_view', false, tile_view_mat);\n\n                // Tile world matrix - transform tile space into world space (meters, absolute mercator position)\n                mat4.identity(tile_world_mat);\n                mat4.translate(tile_world_mat, tile_world_mat, vec3.fromValues(tile.min.x, tile.min.y, 0));\n                mat4.scale(tile_world_mat, tile_world_mat, vec3.fromValues(tile.span.x / Scene.tile_scale, -1 * tile.span.y / Scene.tile_scale, 1)); // scale tile local coords to meters\n                program.uniform('Matrix4fv', 'u_tile_world', false, tile_world_mat);\n\n                // Render tile\n                tile.gl_geometry[mode].render();\n                render_count += tile.gl_geometry[mode].geometry_count;\n            }\n        }\n    }\n\n    // Render selection pass (if needed)\n    // Slight variations on render pass code above - mostly because we're reusing uniforms from the main\n    // mode program, for the selection program\n    // TODO: reduce duplicated code w/main render pass above\n    if (Object.keys(this.selection_requests).length > 0) {\n        if (this.panning) {\n            return;\n        }\n\n        // Switch to FBO\n        gl.bindFramebuffer(gl.FRAMEBUFFER, this.fbo);\n        gl.viewport(0, 0, this.fbo_size.width, this.fbo_size.height);\n        this.resetFrame();\n\n        for (mode in this.modes) {\n            program = this.modes[mode].selection_program;\n            if (program == null || program.compiled === false) {\n                continue;\n            }\n\n            first_for_mode = true;\n\n            // Render tile GL geometries\n            for (t in renderable_tiles) {\n                tile = renderable_tiles[t];\n\n                if (tile.gl_geometry[mode] != null) {\n                    // Setup mode if encountering for first time this frame\n                    if (first_for_mode === true) {\n                        first_for_mode = false;\n\n                        program.use();\n                        this.modes[mode].setUniforms();\n\n                        program.uniform('2f', 'u_resolution', this.fbo_size.width, this.fbo_size.height);\n                        program.uniform('2f', 'u_aspect', this.fbo_size.aspect, 1.0);\n                        program.uniform('1f', 'u_time', ((+new Date()) - this.start_time) / 1000);\n                        program.uniform('1f', 'u_map_zoom', this.zoom);\n                        program.uniform('2f', 'u_map_center', center.x, center.y);\n                        program.uniform('1f', 'u_num_layers', this.layers.length);\n                        program.uniform('1f', 'u_meters_per_pixel', this.meters_per_pixel);\n\n                        this.camera.setupProgram(program);\n                        this.lighting.setupProgram(program);\n                    }\n\n                    // Tile origin\n                    program.uniform('2f', 'u_tile_origin', tile.min.x, tile.min.y);\n\n                    // Tile view matrix - transform tile space into view space (meters, relative to camera)\n                    mat4.identity(tile_view_mat);\n                    mat4.translate(tile_view_mat, tile_view_mat, vec3.fromValues(tile.min.x - center.x, tile.min.y - center.y, 0)); // adjust for tile origin & map center\n                    mat4.scale(tile_view_mat, tile_view_mat, vec3.fromValues(tile.span.x / Scene.tile_scale, -1 * tile.span.y / Scene.tile_scale, 1)); // scale tile local coords to meters\n                    program.uniform('Matrix4fv', 'u_tile_view', false, tile_view_mat);\n\n                    // Tile world matrix - transform tile space into world space (meters, absolute mercator position)\n                    mat4.identity(tile_world_mat);\n                    mat4.translate(tile_world_mat, tile_world_mat, vec3.fromValues(tile.min.x, tile.min.y, 0));\n                    mat4.scale(tile_world_mat, tile_world_mat, vec3.fromValues(tile.span.x / Scene.tile_scale, -1 * tile.span.y / Scene.tile_scale, 1)); // scale tile local coords to meters\n                    program.uniform('Matrix4fv', 'u_tile_world', false, tile_world_mat);\n\n                    // Render tile\n                    tile.gl_geometry[mode].render();\n                }\n            }\n        }\n\n        // Delay reading the pixel result from the selection buffer to avoid CPU/GPU sync lock.\n        // Calling readPixels synchronously caused a massive performance hit, presumably since it\n        // forced this function to wait for the GPU to finish rendering and retrieve the texture contents.\n        if (this.selection_delay_timer != null) {\n            clearTimeout(this.selection_delay_timer);\n        }\n        this.selection_delay_timer = setTimeout(\n            () => this.doFeatureSelectionRequests(),\n            this.selection_frame_delay\n        );\n\n        // Reset to screen buffer\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        gl.viewport(0, 0, this.canvas.width, this.canvas.height);\n    }\n\n    if (render_count !== this.last_render_count) {\n        log.info(`Scene: rendered ${render_count} primitives`);\n    }\n    this.last_render_count = render_count;\n\n    return true;\n};\n\n// Request feature selection\n// Runs asynchronously, schedules selection buffer to be updated\nScene.prototype.getFeatureAt = function (pixel) {\n    return new Promise((resolve, reject) => {\n        if (!this.initialized) {\n            reject(new Error(\"Scene.getFeatureAt() called before scene was initialized\"));\n            return;\n        }\n\n        // Queue requests for feature selection, and they will be picked up by the render loop\n        this.selection_request_id = (this.selection_request_id + 1) || 0;\n        this.selection_requests[this.selection_request_id] = {\n            type: 'point',\n            id: this.selection_request_id,\n            point: {\n                // TODO: move this pixel calc to a GL wrapper\n                x: pixel.x * this.device_pixel_ratio,\n                y: this.device_size.height - (pixel.y * this.device_pixel_ratio)\n            },\n            resolve\n        };\n        this.dirty = true; // need to make sure the scene re-renders for these to be processed\n    });\n};\n\nScene.prototype.doFeatureSelectionRequests = function () {\n    var gl = this.gl;\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.fbo);\n\n    for (var request of Utils.values(this.selection_requests)) {\n        // This request was already sent to the worker, we're just awaiting its reply\n        if (request.sent) {\n            continue;\n        }\n\n        // TODO: support other selection types, such as features within a box\n        if (request.type !== 'point') {\n            continue;\n        }\n\n        // Check selection map against FBO\n        gl.readPixels(\n            Math.floor(request.point.x * this.fbo_size.width / this.device_size.width),\n            Math.floor(request.point.y * this.fbo_size.height / this.device_size.height),\n            1, 1, gl.RGBA, gl.UNSIGNED_BYTE, this.pixel);\n        var feature_key = (this.pixel[0] + (this.pixel[1] << 8) + (this.pixel[2] << 16) + (this.pixel[3] << 24)) >>> 0;\n\n        // If feature found, ask appropriate web worker to lookup feature\n        var worker_id = this.pixel[3];\n        if (worker_id !== 255) { // 255 indicates an empty selection buffer pixel\n            if (this.workers[worker_id] != null) {\n                WorkerBroker.postMessage(\n                    this.workers[worker_id],\n                    'getFeatureSelection',\n                    { id: request.id, key: feature_key })\n                .then(message => {\n                    this.workerGetFeatureSelection(message);\n                });\n            }\n        }\n        // No feature found, but still need to resolve promise\n        else {\n            this.workerGetFeatureSelection({ id: request.id, feature: null });\n        }\n\n        request.sent = true;\n    }\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n};\n\n// Called on main thread when a web worker finds a feature in the selection buffer\nScene.prototype.workerGetFeatureSelection = function (message) {\n    var request = this.selection_requests[message.id];\n    if (!request) {\n        throw new Error(\"Scene.workerGetFeatureSelection() called without any message\");\n    }\n\n    var feature = message.feature;\n    var changed = false;\n    if ((feature != null && this.selected_feature == null) ||\n        (feature == null && this.selected_feature != null) ||\n        (feature != null && this.selected_feature != null && feature.id !== this.selected_feature.id)) {\n        changed = true;\n    }\n\n    this.selected_feature = feature; // store the most recently selected feature\n\n    // Resolve the request\n    request.resolve({ feature, changed, request });\n    delete this.selection_requests[message.id]; // done processing this request\n};\n\n// Queue a tile for load\nScene.prototype.loadTile = function (...args) {\n    this.queued_tiles[this.queued_tiles.length] = args;\n};\n\n// Load all queued tiles\nScene.prototype.loadQueuedTiles = function () {\n    if (!this.initialized) {\n        return;\n    }\n\n    if (this.queued_tiles.length === 0) {\n        return;\n    }\n\n    for (var t=0; t < this.queued_tiles.length; t++) {\n        this._loadTile.apply(this, this.queued_tiles[t]);\n    }\n\n    this.queued_tiles = [];\n};\n\n// tile manager\nScene.prototype.cacheTile = function (tile) {\n    this.tiles[tile.key] = tile;\n};\n\nScene.prototype.hasTile = function (key) {\n    return this.tiles[key] !== undefined;\n};\n\nScene.prototype.forgetTile = function (key) {\n    delete this.tiles[key];\n};\n\n\n// Load a single tile\nScene.prototype._loadTile = function (coords, options = {}) {\n    var tile = Tile.create({coords: coords, tile_source: this.tile_source});\n    if (!this.hasTile(tile.key)) {\n        this.cacheTile(tile);\n        tile.load(this, coords);\n        if (options.debugElement) {\n            tile.updateDebugElement(options.debugElement, this.debug);\n        }\n    }\n    return tile;\n};\n\n// TODO: detect which elements need to be refreshed/rebuilt (stylesheet changes, etc.)\nScene.prototype.rebuild = function () {\n    return this.rebuildGeometry();\n};\n\n// Rebuild all tiles\nScene.prototype.rebuildGeometry = function () {\n    if (!this.initialized) {\n        return Promise.reject(new Error('Scene.rebuildGeometry: scene is not initialized'));\n    }\n\n    return new Promise((resolve, reject) => {\n        // Skip rebuild if already in progress\n        if (this.building) {\n            // Queue up to one rebuild call at a time, only save last request\n            if (this.building.queued && this.building.queued.reject) {\n                // notify previous request that it did not complete\n                this.building.queued.reject(new Error('Scene.rebuildGeometry: request superceded by a newer call'));\n            }\n\n            // Save queued request\n            this.building.queued = { resolve, reject };\n            log.trace(`Scene.rebuildGeometry(): queuing request`);\n            return;\n        }\n\n        // Track tile build state\n        this.building = { resolve, reject, tiles: {} };\n\n        // Update layers & styles (in case JS objects were manipulated directly)\n        this.layers_serialized = Utils.serializeWithFunctions(this.layers);\n        this.styles_serialized = Utils.serializeWithFunctions(this.styles);\n        this.selection_map = {};\n\n        // Tell workers we're about to rebuild (so they can update styles, etc.)\n        this.workers.forEach(worker => {\n            WorkerBroker.postMessage(worker, 'prepareForRebuild', {\n                layers: this.layers_serialized,\n                styles: this.styles_serialized\n            });\n        });\n\n        // Rebuild visible tiles first, from center out\n        var tile, visible = [], invisible = [];\n        for (tile of Utils.values(this.tiles)) {\n            if (tile.visible === true) {\n                visible.push(tile);\n            }\n            else {\n                invisible.push(tile);\n            }\n        }\n\n        visible.sort((a, b) => {\n            return (b.center_dist > a.center_dist ? -1 : (b.center_dist === a.center_dist ? 0 : 1));\n        });\n\n        for (tile of visible) {\n            tile.build(this);\n        }\n\n        for (tile of invisible) {\n            // Keep tiles in current zoom but out of visible range, but rebuild as lower priority\n            if (tile.isInZoom(this)) {\n                tile.build(this);\n            }\n            // Drop tiles outside current zoom\n            else {\n                this.removeTile(tile.key);\n            }\n        }\n\n        this.updateActiveModes();\n        this.resetTime();\n\n        // Edge case: if nothing is being rebuilt, immediately resolve promise and don't lock further rebuilds\n        if (this.building && Object.keys(this.building.tiles).length === 0) {\n            resolve();\n\n            // Another rebuild queued?\n            var queued = this.building.queued;\n            this.building = null;\n            if (queued) {\n                log.debug(`Scene: starting queued rebuildGeometry() request`);\n                this.rebuildGeometry().then(queued.resolve, queued.reject);\n            }\n        }\n    });\n};\n\n// TODO: move to Tile class\n// Called on main thread when a web worker completes processing for a single tile (initial load, or rebuild)\nScene.prototype.buildTileCompleted = function ({ tile, worker_id, selection_map_size }) {\n    // Track selection map size (for stats/debug) - update per worker and sum across workers\n    this.selection_map_worker_size[worker_id] = selection_map_size;\n    this.selection_map_size = 0;\n    for (var wid in this.selection_map_worker_size) {\n        this.selection_map_size += this.selection_map_worker_size[wid];\n    }\n\n    // Removed this tile during load?\n    if (this.tiles[tile.key] == null) {\n        log.debug(`discarded tile ${tile.key} in Scene.buildTileCompleted because previously removed`);\n    }\n    else {\n        var cached = this.tiles[tile.key];\n\n        // Update tile with properties from worker\n        if (cached) {\n            tile = cached.merge(tile);\n        }\n\n        if (!tile.error) {\n            tile.finalizeGeometry(this.modes);\n            this.dirty = true;\n        }\n        else {\n            log.error(`main thread tile load error for ${tile.key}: ${tile.error}`);\n        }\n        tile.printDebug();\n    }\n\n    this.trackTileSetLoadStop();\n    this.trackTileBuildStop(tile.key);\n};\n\n// Track tile build state\nScene.prototype.trackTileBuildStart = function (key) {\n    if (!this.building) {\n        this.building = {\n            tiles: {}\n        };\n    }\n    this.building.tiles[key] = true;\n    log.trace(`trackTileBuildStart for ${key}: ${Object.keys(this.building.tiles).length}`);\n};\n\nScene.prototype.trackTileBuildStop = function (key) {\n    // Done building?\n    if (this.building) {\n        log.trace(`trackTileBuildStop for ${key}: ${Object.keys(this.building.tiles).length}`);\n        delete this.building.tiles[key];\n        if (Object.keys(this.building.tiles).length === 0) {\n            log.info(`Scene: build geometry finished`);\n            log.debug(`Scene: updated selection map: ${this.selection_map_size} features`);\n\n            if (this.building.resolve) {\n                this.building.resolve();\n            }\n\n            // Another rebuild queued?\n            var queued = this.building.queued;\n            this.building = null;\n            if (queued) {\n                log.debug(`Scene: starting queued rebuildGeometry() request`);\n                this.rebuildGeometry().then(queued.resolve, queued.reject);\n            }\n        }\n    }\n};\n\nScene.prototype.removeTile = function (key)\n{\n    if (!this.initialized) {\n        return;\n    }\n    log.debug(`tile unload for ${key}`);\n\n    if (this.zooming === true) {\n        return; // short circuit tile removal, will sweep out tiles by zoom level when zoom ends\n    }\n\n    var tile = this.tiles[key];\n\n    if (tile != null) {\n        tile.freeResources();\n        tile.remove(this);\n    }\n\n    this.forgetTile(tile.key);\n    this.dirty = true;\n};\n\n/**\n   Load (or reload) the scene config\n   @return {Promise}\n*/\nScene.prototype.loadScene = function () {\n    return Promise.all([\n        this.loadLayers(this.layer_source),\n        this.loadStyles(this.style_source)\n    ]);\n};\n\nScene.prototype.loadLayers = function (source) {\n    return Utils.loadResource(source).then((data) => {\n        this.layers = data;\n        this.layers_serialized = Utils.serializeWithFunctions(this.layers);\n    });\n};\n\nScene.prototype.loadStyles = function (source) {\n    return Utils.loadResource(source).then((styles) => {\n        this.styles = styles;\n        Style.expandMacros(this.styles);\n        return Scene.preProcessStyles(this.styles);\n    }).then(() => {\n        this.styles_serialized = Utils.serializeWithFunctions(this.styles);\n    });\n};\n\n// Reload scene config and rebuild tiles\nScene.prototype.reload = function () {\n    if (!this.initialized) {\n        return;\n    }\n\n    this.loadScene().then(() => {\n        this.updateStyles();\n        return this.rebuildGeometry();\n    }, (error) => {\n        throw error;\n    });\n\n};\n\n// Called (currently manually) after modes are updated in stylesheet\nScene.prototype.updateModes = function () {\n    if (!this.initialized && !this.initializing) {\n        throw new Error('Scene.updateModes() called before scene was initialized');\n    }\n\n    // Copy stylesheet modes\n    for (var name in this.styles.modes) {\n        this.modes[name] = ModeManager.updateMode(name, this.styles.modes[name]);\n    }\n\n    // Compile all modes\n    for (name in this.modes) {\n        try {\n            this.modes[name].compile();\n            log.trace(`Scene.updateModes(): compiled mode ${name}`);\n        }\n        catch(error) {\n            log.error(`Scene.updateModes(): error compiling mode ${name}:`, error);\n        }\n    }\n\n    this.dirty = true;\n    log.debug(`Scene.updateModes(): compiled all modes`);\n};\n\nScene.prototype.updateActiveModes = function () {\n    // Make a set of currently active modes (used in a layer)\n    this.active_modes = {};\n    var animated = false; // is any active mode animated?\n    for (var l in this.styles.layers) {\n        var mode = this.styles.layers[l].mode.name;\n        if (this.styles.layers[l].visible !== false && this.modes[mode]) {\n            this.active_modes[mode] = true;\n\n            // Check if this mode is animated\n            if (animated === false && this.modes[mode].animated === true) {\n                animated = true;\n            }\n        }\n    }\n    this.animated = animated;\n};\n\n// Create camera\nScene.prototype.createCamera = function () {\n    this.camera = Camera.create(this, this.styles.camera);\n};\n\n// Create lighting\nScene.prototype.createLighting = function () {\n    this.lighting = Lighting.create(this, this.styles.lighting);\n};\n\n// Update scene styles\nScene.prototype.updateStyles = function () {\n    this.createCamera();\n    this.createLighting();\n\n    // TODO: detect changes to styles? already (currently) need to recompile anyway when camera or lights change\n    this.updateModes();\n};\n\n// Reset internal clock, mostly useful for consistent experience when changing modes/debugging\nScene.prototype.resetTime = function () {\n    this.start_time = +new Date();\n};\n\n// User input\n// TODO: restore fractional zoom support once leaflet animation refactor pull request is merged\n\nScene.prototype.initInputHandlers = function () {\n    // this.key = null;\n\n    // document.addEventListener('keydown', function (event) {\n    //     if (event.keyCode == 37) {\n    //         this.key = 'left';\n    //     }\n    //     else if (event.keyCode == 39) {\n    //         this.key = 'right';\n    //     }\n    //     else if (event.keyCode == 38) {\n    //         this.key = 'up';\n    //     }\n    //     else if (event.keyCode == 40) {\n    //         this.key = 'down';\n    //     }\n    //     else if (event.keyCode == 83) { // s\n    //     }\n    // }.bind(this));\n\n    // document.addEventListener('keyup', function (event) {\n    //     this.key = null;\n    // }.bind(this));\n};\n\nScene.prototype.input = function () {\n    // // Fractional zoom scaling\n    // if (this.key == 'up') {\n    //     this.setZoom(this.zoom + this.zoom_step);\n    // }\n    // else if (this.key == 'down') {\n    //     this.setZoom(this.zoom - this.zoom_step);\n    // }\n};\n\n\n// Stats/debug/profiling methods\n\n// Profiling methods used to track when sets of tiles start/stop loading together\n// e.g. initial page load is one set of tiles, new sets of tile loads are then initiated by a map pan or zoom\nScene.prototype.trackTileSetLoadStart = function () {\n    // Start tracking new tile set if no other tiles already loading\n    if (this.tile_set_loading == null) {\n        this.tile_set_loading = +new Date();\n        log.info('Scene: tile set load start');\n    }\n};\n\nScene.prototype.trackTileSetLoadStop = function () {\n    // No more tiles actively loading?\n    if (this.tile_set_loading != null) {\n        var end_tile_set = true;\n        for (var t in this.tiles) {\n            if (this.tiles[t].loading === true) {\n                end_tile_set = false;\n                break;\n            }\n        }\n\n        if (end_tile_set === true) {\n            this.last_tile_set_load = (+new Date()) - this.tile_set_loading;\n            this.tile_set_loading = null;\n            log.info(`Scene: tile set load finished in ${this.last_tile_set_load}ms`);\n        }\n    }\n};\n\n// Sum of a debug property across tiles\nScene.prototype.getDebugSum = function (prop, filter) {\n    var sum = 0;\n    for (var t in this.tiles) {\n        if (this.tiles[t].debug[prop] != null && (typeof filter !== 'function' || filter(this.tiles[t]) === true)) {\n            sum += this.tiles[t].debug[prop];\n        }\n    }\n    return sum;\n};\n\n// Average of a debug property across tiles\nScene.prototype.getDebugAverage = function (prop, filter) {\n    return this.getDebugSum(prop, filter) / Object.keys(this.tiles).length;\n};\n\n// Log messages pass through from web workers\nScene.prototype.workerLogMessage = function (event) {\n    if (event.data.type !== 'log') {\n        return;\n    }\n\n    var { worker_id, level, msg } = event.data;\n\n    if (log[level]) {\n        log[level](`worker ${worker_id}:`,  ...msg);\n    }\n    else {\n        log.error(`Scene.workerLogMessage: unrecognized log level ${level}`);\n    }\n};\n\n\n/*** Class methods (stateless) ***/\n\n// Normalize some style settings that may not have been explicitly specified in the stylesheet\nScene.preProcessStyles = function (styles) {\n    // Post-process styles\n    for (var m in styles.layers) {\n        if (styles.layers[m].visible !== false) {\n            styles.layers[m].visible = true;\n        }\n\n        if ((styles.layers[m].mode && styles.layers[m].mode.name) == null) {\n            styles.layers[m].mode = {};\n            for (var p in Style.defaults.mode) {\n                styles.layers[m].mode[p] = Style.defaults.mode[p];\n            }\n        }\n    }\n\n    styles.camera = styles.camera || {}; // ensure camera object\n    styles.lighting = styles.lighting || {}; // ensure lighting object\n\n    return Scene.preloadModes(styles.modes);\n};\n\n// Preloads network resources in the stylesheet (shaders, textures, etc.)\nScene.preloadModes = function (modes) {\n    // Preload shaders\n    var queue = [];\n    if (modes) {\n        for (var mode of Utils.values(modes)) {\n            if (mode.shaders && mode.shaders.transforms) {\n                let _transforms = mode.shaders.transforms;\n\n                for (var [key, transform] of Utils.entries(mode.shaders.transforms)) {\n                    let _key = key;\n\n                    // Array of transforms\n                    if (Array.isArray(transform)) {\n                        for (let t=0; t < transform.length; t++) {\n                            if (typeof transform[t] === 'object' && transform[t].url) {\n                                let _index = t;\n                                queue.push(Utils.io(Utils.cacheBusterForUrl(transform[t].url)).then((data) => {\n                                    _transforms[_key][_index] = data;\n                                }, (error) => {\n                                    log.error(`Scene.preProcessStyles: error loading shader transform`, _transforms, _key, _index, error);\n                                }));\n                            }\n                        }\n                    }\n                    // Single transform\n                    else if (typeof transform === 'object' && transform.url) {\n                        queue.push(Utils.io(Utils.cacheBusterForUrl(transform.url)).then((data) => {\n                            _transforms[_key] = data;\n                        }, (error) => {\n                            log.error(`Scene.preProcessStyles: error loading shader transform`, _transforms, _key, error);\n                        }));\n                    }\n                }\n            }\n        }\n    }\n\n    // TODO: also preload textures\n\n    return Promise.all(queue); // TODO: add error\n};\n\n// Processes the tile response to create layers as defined by the scene\n// Can include post-processing to partially filter or re-arrange data, e.g. only including POIs that have names\nScene.processLayersForTile = function (layers, tile) {\n    var tile_layers = {};\n    for (var t=0; t < layers.length; t++) {\n        layers[t].number = t;\n\n        if (layers[t] != null) {\n            // Just pass through data untouched if no data transform function defined\n            if (layers[t].data == null) {\n                tile_layers[layers[t].name] = tile.layers[layers[t].name];\n            }\n            // Pass through data but with different layer name in tile source data\n            else if (typeof layers[t].data === 'string') {\n                tile_layers[layers[t].name] = tile.layers[layers[t].data];\n            }\n            // Apply the transform function for post-processing\n            else if (typeof layers[t].data === 'function') {\n                tile_layers[layers[t].name] = layers[t].data(tile.layers);\n            }\n        }\n\n        // Handle cases where no data was found in tile or returned by post-processor\n        tile_layers[layers[t].name] = tile_layers[layers[t].name] || { type: 'FeatureCollection', features: [] };\n    }\n    tile.layers = tile_layers;\n    return tile_layers;\n};\n\n// Called once on instantiation\nScene.createModes = function (stylesheet_modes) {\n    var modes = {};\n    ModeManager.init();\n\n    // Built-in modes\n    var built_ins = require('./gl/gl_modes').Modes;\n    for (var m in built_ins) {\n        modes[m] = built_ins[m];\n    }\n\n    // Stylesheet-defined modes\n    for (m in stylesheet_modes) {\n        modes[m] = ModeManager.updateMode(m, stylesheet_modes[m]);\n    }\n\n    // Initialize all\n    for (m in modes) {\n        modes[m].init();\n    }\n\n    return modes;\n};\n",
    "/*jshint worker: true*/\nimport Utils from './utils';\nimport WorkerBroker from './worker_broker'; // jshint ignore:line\nimport {Style} from './style';\nimport Scene  from './scene';\nimport Tile from './tile';\nimport TileSource from './tile_source.js';\nimport {GLBuilders} from './gl/gl_builders';\n\nexport var SceneWorker = {};\n\n// Worker functionality will only be defined in worker thread\nUtils.inWorkerThread(() => {\n\n    SceneWorker.worker = self;\n    SceneWorker.tiles = {}; // tiles processed by this worker\n\n    // TODO: sync render mode state between main thread and worker\n    // SceneWorker.modes = require('./gl/gl_modes').Modes;\n    GLBuilders.setTileScale(Scene.tile_scale);\n\n    // Initialize worker\n    SceneWorker.worker.init = function (worker_id) {\n        SceneWorker.worker_id = worker_id;\n        Style.selection_map_prefix = SceneWorker.worker_id;\n        return worker_id;\n    };\n\n    SceneWorker.updateConfig = function (config) {\n        if (!SceneWorker.tile_source && config.tile_source) {\n            SceneWorker.tile_source = TileSource.create(config.tile_source);\n        }\n        if (!SceneWorker.layers && config.layers) {\n            SceneWorker.layers = Utils.deserializeWithFunctions(config.layers);\n        }\n        if (!SceneWorker.styles && config.styles) {\n            SceneWorker.styles = Utils.deserializeWithFunctions(config.styles, Style.wrapFunction);\n            SceneWorker.modes = Scene.createModes(SceneWorker.styles.modes);\n        }\n    };\n\n    // Slice a subset of keys out of a tile\n    // Includes a minimum set of pre-defined keys for load state, debug. etc.\n    // We use this to send a subset of the tile back to the main thread, to minimize unnecessary data transfer\n    // (e.g. very large items like feature geometry are not needed on the main thread)\n    SceneWorker.sliceTile = function (tile, keys) {\n        keys = keys || {};\n        keys.key = true;\n        keys.loading = true;\n        keys.loaded = true;\n        keys.error = true;\n        keys.debug = true;\n\n        // Build the tile subset\n        var tile_subset = {};\n        for (var k in keys) {\n            tile_subset[k] = tile[k];\n        }\n\n        return tile_subset;\n    };\n\n    // Build a tile: load from tile source if building for first time, otherwise rebuild with existing data\n    SceneWorker.worker.buildTile = function ({ tile, tile_source, layers, styles }) {\n        // Tile cached?\n        if (SceneWorker.tiles[tile.key] != null) {\n            // Already loading?\n            if (SceneWorker.tiles[tile.key].loading === true) {\n                return;\n            }\n        }\n\n        // Update tile cache\n        tile = SceneWorker.tiles[tile.key] = Object.assign(SceneWorker.tiles[tile.key] || {}, tile);\n\n        // Update config (layers, styles, etc.)\n        SceneWorker.updateConfig({ tile_source, layers, styles });\n\n        // First time building the tile\n        if (tile.loaded !== true) {\n            return new Promise((resolve, reject) => {\n                SceneWorker.tile_source.loadTile(tile).then(() => {\n                    Scene.processLayersForTile(SceneWorker.layers, tile);\n                    var keys = Tile.buildGeometry(tile, SceneWorker.layers, SceneWorker.styles, SceneWorker.modes);\n\n                    resolve({\n                        tile: SceneWorker.sliceTile(tile, keys),\n                        worker_id: SceneWorker.worker_id,\n                        selection_map_size: Style.selection_map_size\n                    });\n                }, (error) => {\n                    if (error) {\n                        SceneWorker.log('error', `tile load error for ${tile.key}: ${error.toString()}`);\n                    }\n                    else {\n                        SceneWorker.log('debug', `skip building tile ${tile.key} because no longer loading`);\n                    }\n\n                    resolve({\n                        tile: SceneWorker.sliceTile(tile),\n                        worker_id: SceneWorker.worker_id,\n                        selection_map_size: Style.selection_map_size\n                    });\n                });\n            });\n        }\n        // Tile already loaded, just rebuild\n        else {\n            SceneWorker.log('debug', `used worker cache for tile ${tile.key}`);\n\n            // Build geometry\n            var keys = Tile.buildGeometry(tile, SceneWorker.layers, SceneWorker.styles, SceneWorker.modes);\n\n            // TODO: should we rebuild layers here as well?\n            // - if so, we need to save the raw un-processed tile data\n            // - benchmark the layer processing time to see if it matters\n            // - benchmark tesselation time for comparison (and could cache tesselation)\n            return {\n                tile: SceneWorker.sliceTile(tile, keys),\n                worker_id: SceneWorker.worker_id,\n                selection_map_size: Style.selection_map_size\n            };\n        }\n    };\n\n    // Remove tile\n    SceneWorker.worker.removeTile = function (key) {\n        var tile = SceneWorker.tiles[key];\n\n        if (tile != null) {\n            // Cancel if loading\n            if (tile.loading === true) {\n                SceneWorker.log('debug', `cancel tile load for ${key}`);\n                tile.loading = false;\n            }\n\n            // Remove from cache\n            delete SceneWorker.tiles[key];\n            SceneWorker.log('debug', `remove tile from cache for ${key}`);\n        }\n    };\n\n    // Get a feature from the selection map\n    SceneWorker.worker.getFeatureSelection = function ({ id, key } = {}) {\n        var selection = Style.selection_map[key];\n\n        return {\n            id: id,\n            feature: (selection && selection.feature)\n        };\n    };\n\n    // Make layers/styles update config\n    SceneWorker.worker.prepareForRebuild = function (config) {\n        SceneWorker.layers = null;\n        SceneWorker.styles = null;\n        SceneWorker.modes = null;\n        SceneWorker.updateConfig(config);\n        Style.resetSelectionMap();\n\n        SceneWorker.log('debug', `worker updated config for tile rebuild`);\n    };\n\n    // Log wrapper, sends message to main thread for display, and includes worker id #\n    SceneWorker.log = function (level, ...msg) {\n        SceneWorker.worker.postMessage({\n            type: 'log',\n            level: level || 'info',\n            worker_id: SceneWorker.worker_id,\n            msg: msg\n        });\n    };\n\n});\n",
    "import Utils from './utils';\nimport {Geo} from './geo';\n\nimport parseCSSColor from 'csscolorparser';\nimport log from 'loglevel';\n\nexport var Style = {};\n\n// Style macros\n\nStyle.color = {\n    pseudoRandomGrayscale: function (f) { var c = Math.max((parseInt(f.id, 16) % 100) / 100, 0.4); return [0.7 * c, 0.7 * c, 0.7 * c]; }, // pseudo-random grayscale by geometry id\n    pseudoRandomColor: function (f) { return [0.7 * (parseInt(f.id, 16) / 100 % 1), 0.7 * (parseInt(f.id, 16) / 10000 % 1), 0.7 * (parseInt(f.id, 16) / 1000000 % 1)]; }, // pseudo-random color by geometry id\n    randomColor: function (f) { return [0.7 * Math.random(), 0.7 * Math.random(), 0.7 * Math.random()]; } // random color\n};\n\n// Returns a function (that can be used as a dynamic style) that converts pixels to meters for the current zoom level.\n// The provided pixel value ('p') can itself be a function, in which case it is wrapped by this one.\nStyle.pixels = function (p) {\n    var f;\n    /* jshint ignore:start */\n    eval('f = function() { return ' + (typeof p === 'function' ? '(' + (p.toString() + '())') : p) + ' * meters_per_pixel; }');\n    /* jshint ignore:end */\n    return f;\n};\n\n// Create a unique 32-bit color to identify a feature\n// Workers independently create/modify selection colors in their own threads, but we also\n// need the main thread to know where each feature color originated. To accomplish this,\n// we partition the map by setting the 4th component (alpha channel) to the worker's id.\nStyle.selection_map = {}; // this will be unique per module instance (so unique per worker)\nStyle.selection_map_size = 1; // start at 1 since 1 will be divided by this\nStyle.selection_map_prefix = 0; // set by worker to worker id #\nStyle.generateSelection = function ()\n{\n    // 32-bit color key\n    Style.selection_map_size++;\n    var ir = Style.selection_map_size & 255;\n    var ig = (Style.selection_map_size >> 8) & 255;\n    var ib = (Style.selection_map_size >> 16) & 255;\n    var ia = Style.selection_map_prefix;\n    var r = ir / 255;\n    var g = ig / 255;\n    var b = ib / 255;\n    var a = ia / 255;\n    var key = (ir + (ig << 8) + (ib << 16) + (ia << 24)) >>> 0; // need unsigned right shift to convert to positive #\n\n    Style.selection_map[key] = {\n        color: [r, g, b, a],\n    };\n\n    return Style.selection_map[key];\n};\n\nStyle.resetSelectionMap = function ()\n{\n    Style.selection_map = {};\n    Style.selection_map_size = 1;\n};\n\n// Find and expand style macros\nStyle.macros = [\n    'Style.color.pseudoRandomColor',\n    'Style.color.randomColor',\n    'Style.pixels'\n];\n\n// Wraps style functions and provides a scope of commonly accessible data:\n// - feature: the 'properties' of the feature, e.g. accessed as 'feature.name'\n// - zoom: the current map zoom level\n// - meters_per_pixel: conversion for meters/pixels at current map zoom\n// - properties: user-defined properties on the style-rule object in the stylesheet\nStyle.wrapFunction = function (func) {\n    var f = `function(context) {\n                var feature = context.feature.properties;\n                var zoom = context.zoom;\n                var meters_per_pixel = context.meters_per_pixel;\n                var properties = context.properties;\n                return (${func}());\n            }`;\n    return f;\n};\n\nStyle.expandMacros = function expandMacros (obj) {\n    for (var p in obj) {\n        var val = obj[p];\n\n        // Loop through object properties\n        if (typeof val === 'object') {\n            obj[p] = expandMacros(val);\n        }\n        // Convert strings back into functions\n        else if (typeof val === 'string') {\n            for (var m in Style.macros) {\n                if (val.match(Style.macros[m])) {\n                    var f;\n                    try {\n                        /*jshint ignore:start */\n                        eval('f = ' + val);\n                        /*jshint ignore:end */\n                        obj[p] = f;\n                        log.trace(`expanded macro ${val} to ${f}`);\n                        break;\n                    }\n                    catch (e) {\n                        // fall-back to original value if parsing failed\n                        obj[p] = val;\n                        log.trace(`failed to expand macro ${val}`);\n                    }\n                }\n            }\n        }\n    }\n\n    return obj;\n};\n\n\n// Style defaults\n\n// Determine final style properties (color, width, etc.)\nStyle.defaults = {\n    color: [1.0, 0, 0],\n    width: 1,\n    size: 1,\n    extrude: false,\n    height: 20,\n    min_height: 0,\n    order: 0,\n    outline: {\n        // color: [1.0, 0, 0],\n        // width: 1,\n        // dash: null\n    },\n    selection: {\n        active: false,\n        color: [0, 0, 0, 1]\n    },\n    mode: {\n        name: 'polygons'\n    }\n};\n\n// Style parsing\n\nStyle.interpolate = function(x, val) {\n    if (Array.isArray(val) && val.every(v => { return Array.isArray(v); })) {\n        return Utils.interpolate(x, val);\n    }\n    return val;\n};\n\nStyle.convertUnits = function(val, context) {\n    if (typeof val === 'string') {\n        // Convert from pixels\n        if (val.indexOf('px') === val.length - 2) {\n            val = parseFloat(val.substr(0, val.length-2)) * Geo.metersPerPixel(context.zoom);\n        }\n        // Convert from string\n        else {\n            val = parseFloat(val);\n        }\n    }\n    else if (Array.isArray(val)) {\n        // Array of arrays, e.g. zoom-interpolated stops\n        if (val.every(v => { return Array.isArray(v); })) {\n            return val.map(v => { return [v[0], Style.convertUnits(v[1], context)]; });\n        }\n        // Array of values\n        else {\n            return val.map(v => { return Style.convertUnits(v, context); });\n        }\n    }\n    return val;\n};\n\nStyle.parseDistance = function(val, context) {\n    if (typeof val === 'function') {\n        val = val(context);\n    }\n    val = Style.convertUnits(val, context);\n    val = Style.interpolate(context.zoom, val);\n    if (typeof val === 'number') {\n        val *= context.units_per_meter;\n    }\n    return val;\n};\n\nStyle.parseColor = function(val, context) {\n    if (typeof val === 'function') {\n        val = val(context);\n    }\n\n    // Parse CSS-style colors\n    // TODO: change all colors to use 0-255 range internally to avoid dividing and then re-multiplying in geom builder\n    if (typeof val === 'string') {\n        val = parseCSSColor.parseCSSColor(val);\n        if (val && val.length === 4) {\n            val = val.slice(0, 3).map(c => { return c / 255; });\n        }\n    }\n    else if (Array.isArray(val) && val.every(v => { return Array.isArray(v); })) {\n        // Array of zoom-interpolated stops, e.g. [zoom, color] pairs\n        val = val.map(v => {\n            if (typeof v[1] === 'string') {\n                var vc = parseCSSColor.parseCSSColor(v[1]);\n                if (vc && vc.length === 4) {\n                    vc = vc.slice(0, 3).map(c => { return c / 255; });\n                }\n                return [v[0], vc];\n            }\n            return v;\n        });\n    }\n\n    val = Style.interpolate(context.zoom, val);\n    return val;\n};\n\nStyle.parseStyleForFeature = function (feature, layer_name, layer_style, tile)\n{\n    layer_style = layer_style || {};\n    var style = {};\n\n    var context = {\n        feature: feature,\n        properties: Object.assign({}, layer_style.properties||{}), // Object.assign polyfill fails on null object\n        zoom: tile.coords.z,\n        meters_per_pixel: Geo.metersPerPixel(tile.coords.z),\n        units_per_meter: Geo.units_per_meter[tile.coords.z]\n    };\n\n    // Test whether features should be rendered at all\n    if (typeof layer_style.filter === 'function') {\n        if (layer_style.filter(context) === false) {\n            return null;\n        }\n    }\n\n    // Parse styles\n    style.color = (layer_style.color && (layer_style.color[feature.properties.kind] || layer_style.color.default)) || Style.defaults.color;\n    style.color = Style.parseColor(style.color, context);\n\n    style.width = (layer_style.width && (layer_style.width[feature.properties.kind] || layer_style.width.default)) || Style.defaults.width;\n    style.width = Style.parseDistance(style.width, context);\n\n    style.size = (layer_style.size && (layer_style.size[feature.properties.kind] || layer_style.size.default)) || Style.defaults.size;\n    style.size = Style.parseDistance(style.size, context);\n\n    style.extrude = (layer_style.extrude && (layer_style.extrude[feature.properties.kind] || layer_style.extrude.default)) || Style.defaults.extrude;\n    style.extrude = Style.parseDistance(style.extrude, context);\n\n    style.height = (feature.properties && feature.properties.height) || Style.defaults.height;\n    style.min_height = (feature.properties && feature.properties.min_height) || Style.defaults.min_height;\n\n    // height defaults to feature height, but extrude style can dynamically adjust height by returning a number or array (instead of a boolean)\n    if (style.extrude) {\n        if (typeof style.extrude === 'number') {\n            style.height = style.extrude;\n        }\n        else if (typeof style.extrude === 'object' && style.extrude.length >= 2) {\n            style.min_height = style.extrude[0];\n            style.height = style.extrude[1];\n        }\n    }\n\n    style.z = (layer_style.z && (layer_style.z[feature.properties.kind] || layer_style.z.default)) || Style.defaults.z || 0;\n    style.z = Style.parseDistance(style.z, context);\n\n    // Adjusts feature render order *within* the overall layer\n    // e.g. 'order' causes this feature to be drawn underneath or on top of other features in the same layer,\n    // but all features on layers below this one will be drawn underneath, all features on layers above this one\n    // will be drawn on top\n    style.order = layer_style.order || Style.defaults.order;\n    if (typeof style.order === 'function') {\n        style.order = style.order(context);\n    }\n    style.order = Math.max(Math.min(style.order, 1), -1); // clamp to [-1, 1]\n\n    style.outline = {};\n    layer_style.outline = layer_style.outline || {};\n    style.outline.color = (layer_style.outline.color && (layer_style.outline.color[feature.properties.kind] || layer_style.outline.color.default)) || Style.defaults.outline.color;\n    style.outline.color = Style.parseColor(style.outline.color, context);\n\n    style.outline.width = (layer_style.outline.width && (layer_style.outline.width[feature.properties.kind] || layer_style.outline.width.default)) || Style.defaults.outline.width;\n    style.outline.width = Style.parseDistance(style.outline.width, context);\n\n    // style.outline.dash = (layer_style.outline.dash && (layer_style.outline.dash[feature.properties.kind] || layer_style.outline.dash.default)) || Style.defaults.outline.dash;\n\n    style.outline.tile_edges = (layer_style.outline.tile_edges === true) ? true : false;\n\n    // Interactivity (selection map)\n    var interactive = false;\n    if (typeof layer_style.interactive === 'function') {\n        interactive = layer_style.interactive(context);\n    }\n    else {\n        interactive = layer_style.interactive;\n    }\n\n    if (interactive === true) {\n        var selector = Style.generateSelection();\n\n        selector.feature = {\n            id: feature.id,\n            properties: feature.properties\n        };\n        selector.feature.properties.layer = layer_name; // add layer name to properties\n\n        style.selection = {\n            active: true,\n            color: selector.color\n        };\n    }\n    else {\n        style.selection = Style.defaults.selection;\n    }\n\n    // Render mode\n    if (layer_style.mode != null && layer_style.mode.name != null) {\n        style.mode = {};\n        for (var m in layer_style.mode) {\n            style.mode[m] = layer_style.mode[m];\n        }\n    }\n    else {\n        style.mode = Style.defaults.mode;\n    }\n\n    return style;\n};\n\n",
    "/*global Tile */\nimport {Geo} from './geo';\nimport {Style} from './style';\nimport WorkerBroker from './worker_broker';\n\nimport log from 'loglevel';\n\nexport default class Tile {\n\n    constructor(spec = {}) {\n        Object.assign(this, {\n            coords: {\n                x: null,\n                y: null,\n                z: null\n            },\n            debug: {},\n            loading: false,\n            loaded: false,\n            error: null,\n            worker: null\n        }, spec);\n    }\n\n    static create(spec) { return new Tile(spec); }\n\n    freeResources() {\n        if (this != null && this.gl_geometry != null) {\n            for (var p in this.gl_geometry) {\n                this.gl_geometry[p].destroy();\n            }\n            this.gl_geometry = null;\n        }\n    }\n\n    destroy() {\n        this.freeResources();\n        this.worker = null;\n    }\n\n    buildAsMessage() {\n        return {\n            key: this.key,\n            coords: this.coords,\n            min: this.min,\n            max: this.max,\n            debug: this.debug\n        };\n    }\n\n    workerMessage (scene, ...message) {\n        if (this.worker == null) {\n            this.worker = scene.nextWorker();\n        }\n        return WorkerBroker.postMessage(this.worker, ...message);\n    }\n\n    build(scene) {\n        scene.trackTileBuildStart(this.key);\n        this.workerMessage(\n            scene,\n            'buildTile',\n            {\n                tile: this.buildAsMessage(),\n                tile_source: this.tile_source.buildAsMessage(),\n                layers: scene.layers_serialized,\n                styles: scene.styles_serialized\n            })\n        .then(message => {\n            scene.buildTileCompleted(message);\n        });\n    }\n\n    // Process geometry for tile - called by web worker\n    // Returns a set of tile keys that should be sent to the main thread (so that we can minimize data exchange between worker and main thread)\n    static buildGeometry (tile, layers, styles, modes) {\n        var layer, style, feature, mode;\n        var vertex_data = {};\n        var mode_vertex_data;\n\n        // Build raw geometry arrays\n        // Render layers, and features within each layer, in reverse order - aka top to bottom\n        tile.debug.rendering = +new Date();\n        tile.debug.features = 0;\n        for (var layer_num = 0; layer_num < layers.length; layer_num++) {\n            layer = layers[layer_num];\n\n            // Skip layers with no styles defined, or layers set to not be visible\n            if (styles.layers[layer.name] == null || styles.layers[layer.name].visible === false) {\n                continue;\n            }\n\n            if (tile.layers[layer.name] != null) {\n                var num_features = tile.layers[layer.name].features.length;\n\n                for (var f = num_features-1; f >= 0; f--) {\n                    feature = tile.layers[layer.name].features[f];\n                    try {\n                        style = Style.parseStyleForFeature(feature, layer.name, styles.layers[layer.name], tile);\n                    }\n                    catch(error) {\n                        log.error('Tile.buildGeometry: style parse fail', feature, tile, error);\n                        throw error;\n                    }\n\n                    // Skip feature?\n                    if (style == null) {\n                        continue;\n                    }\n\n                    // First feature in this render mode?\n                    mode = modes[style.mode.name];\n                    if (vertex_data[mode.name] == null) {\n                        vertex_data[mode.name] = mode.vertex_layout.createVertexData();\n                    }\n                    mode_vertex_data = vertex_data[mode.name];\n\n                    // Layer order: 'order' property between [-1, 1] adjusts render order of features *within* this layer\n                    // Does not affect order outside of this layer, e.g. all features on previous layers are drawn underneath\n                    //  this one, all features on subsequent layers are drawn on top of this one\n                    style.layer_num = layer_num + 0.5;      // 'center' this layer at 0.5 above the baseline\n                    style.layer_num += style.order / 2.5;   // scale [-1, 1] to [-.4, .4] to stay within layer bounds, .1 buffer to be safe\n\n                    if (feature.geometry.type === 'Polygon') {\n                        mode.buildPolygons([feature.geometry.coordinates], style, mode_vertex_data);\n                    }\n                    else if (feature.geometry.type === 'MultiPolygon') {\n                        mode.buildPolygons(feature.geometry.coordinates, style, mode_vertex_data);\n                    }\n                    else if (feature.geometry.type === 'LineString') {\n                        mode.buildLines([feature.geometry.coordinates], style, mode_vertex_data);\n                    }\n                    else if (feature.geometry.type === 'MultiLineString') {\n                        mode.buildLines(feature.geometry.coordinates, style, mode_vertex_data);\n                    }\n                    else if (feature.geometry.type === 'Point') {\n                        mode.buildPoints([feature.geometry.coordinates], style, mode_vertex_data);\n                    }\n                    else if (feature.geometry.type === 'MultiPoint') {\n                        mode.buildPoints(feature.geometry.coordinates, style, mode_vertex_data);\n                    }\n\n                    tile.debug.features++;\n                }\n            }\n        }\n\n        // Finalize array buffer for each render mode\n        tile.vertex_data = {};\n        for (var m in vertex_data) {\n            tile.vertex_data[m] = vertex_data[m].end().buffer;\n        }\n\n        tile.debug.rendering = +new Date() - tile.debug.rendering;\n\n        // Return keys to be transfered to main thread\n        return {\n            vertex_data: true\n        };\n    }\n\n    /**\n       Called on main thread when a web worker completes processing\n       for a single tile.\n    */\n    finalizeGeometry(modes) {\n        var vertex_data = this.vertex_data;\n        // Cleanup existing GL geometry objects\n        this.freeResources();\n        this.gl_geometry = {};\n\n        // Create GL geometry objects\n        for (var s in vertex_data) {\n            this.gl_geometry[s] = modes[s].makeGLGeometry(vertex_data[s]);\n        }\n\n        this.debug.geometries = 0;\n        this.debug.buffer_size = 0;\n        for (var p in this.gl_geometry) {\n            this.debug.geometries += this.gl_geometry[p].geometry_count;\n            this.debug.buffer_size += this.gl_geometry[p].vertex_data.byteLength;\n        }\n        this.debug.geom_ratio = (this.debug.geometries / this.debug.features).toFixed(1);\n\n        delete this.vertex_data; // TODO: might want to preserve this for rebuilding geometries when styles/etc. change?\n    }\n\n    remove(scene) {\n        this.workerMessage(scene, 'removeTile', this.key);\n    }\n\n    showDebug(div) {\n        var debug_overlay = document.createElement('div');\n        debug_overlay.textContent = this.key;\n        debug_overlay.style.position = 'absolute';\n        debug_overlay.style.left = 0;\n        debug_overlay.style.top = 0;\n        debug_overlay.style.color = 'white';\n        debug_overlay.style.fontSize = '16px';\n        debug_overlay.style.textOutline = '1px #000000';\n        div.appendChild(debug_overlay);\n        div.style.borderStyle = 'solid';\n        div.style.borderColor = 'white';\n        div.style.borderWidth = '1px';\n        return debug_overlay;\n    }\n\n    printDebug () {\n        log.debug(`Tile: debug for ${this.key}: [  ${JSON.stringify(this.debug)} ]`);\n    }\n\n    updateDebugElement(div, show) {\n        div.setAttribute('data-tile-key', this.key);\n        div.style.width = '256px';\n        div.style.height = '256px';\n\n        if (show) {\n            this.showDebug(div);\n        }\n    }\n\n    // TODO: pass bounds only, rest of scene isn't needed\n    updateVisibility(scene) {\n        var visible = this.visible;\n        this.visible = this.isInZoom(scene) && Geo.boxIntersect(this.bounds, scene.bounds_meters_buffered);\n        this.center_dist = Math.abs(scene.center_meters.x - this.min.x) + Math.abs(scene.center_meters.y - this.min.y);\n        return (visible !== this.visible);\n    }\n\n    // TODO: pass zoom only?\n    isInZoom(scene) {\n        return (Math.min(this.coords.z, this.tile_source.max_zoom || this.coords.z)) === scene.capped_zoom;\n    }\n\n    get key () {\n        var {x, y, z} = this.tile_source.calculateOverZoom(this.coords);\n        this.coords = {x, y, z};\n        return [x, y, z].join('/');\n    }\n\n    load(scene, coords) {\n        scene.trackTileSetLoadStart();\n        Object.assign(this, {\n            coords: coords,\n            min: Geo.metersForTile(coords),\n            max: Geo.metersForTile({x: coords.x + 1, y: coords.y + 1, z: coords.z }),\n            loading: true\n        });\n\n        this.span = { x: (this.max.x - this.min.x), y: (this.max.y - this.min.y) };\n        this.bounds = { sw: { x: this.min.x, y: this.max.y }, ne: { x: this.max.x, y: this.min.y } };\n        this.build(scene);\n        this.updateVisibility(scene);\n    }\n\n    merge(other) {\n        for (var key in other) {\n            if (key !== 'key') {\n                this[key] = other[key];\n            }\n        }\n        return this;\n    }\n\n}\n",
    "/*jshint worker: true */\n/*globals TileSource, topojson */\nimport {Geo}   from './geo';\nimport {MethodNotImplemented} from './errors';\nimport Utils from './utils';\nimport log from 'loglevel';\n\nexport default class TileSource {\n\n    constructor (source) {\n        this.url_template = source.url;\n        // overzoom will apply for zooms higher than this\n        this.max_zoom = source.max_zoom || Geo.max_zoom;\n    }\n\n    // TODO fix the z adjustment for continuous zoom\n    calculateOverZoom(coordinate) {\n        var zgap,\n            {x, y, z} = coordinate;\n\n        if (z > this.max_zoom) {\n            zgap = z - this.max_zoom;\n            x = ~~(x / Math.pow(2, zgap));\n            y = ~~(y / Math.pow(2, zgap));\n            z -= zgap;\n        }\n\n        return {x, y, z};\n    }\n\n    buildAsMessage() {\n        return {\n            type: this.type,\n            url: this.url_template,\n            max_zoom: this.max_zoom\n        };\n    }\n\n    // Create a tile source by type, factory-style\n    static create (source) {\n        switch (source.type) {\n            case 'TopoJSONTileSource':\n                return new TopoJSONTileSource(source);\n            case 'MapboxFormatTileSource':\n                return new MapboxFormatTileSource(source);\n            case 'GeoJSONTileSource':\n            /* falls through */\n            default:\n                return new GeoJSONTileSource(source);\n        }\n    }\n\n    // Mercator projection\n    static projectTile (tile) {\n        var timer = +new Date();\n        for (var t in tile.layers) {\n            var num_features = tile.layers[t].features.length;\n            for (var f=0; f < num_features; f++) {\n                var feature = tile.layers[t].features[f];\n                feature.geometry.coordinates = Geo.transformGeometry(feature.geometry, Geo.latLngToMeters);\n            }\n        }\n\n        if (tile.debug !== undefined) {\n            tile.debug.projection = +new Date() - timer;\n        }\n        return tile;\n    }\n\n    // Re-scale geometries within each tile to the range [0, scale]\n    // TODO: clip vertices at edges? right now vertices can have\n    // values outside [0, scale] (over or under bounds); this would\n    // pose a problem if we wanted to binary encode the vertices in\n    // fewer bits (e.g. 12 bits each for scale of 4096)\n    static scaleTile (tile) {\n        for (var t in tile.layers) {\n            var num_features = tile.layers[t].features.length;\n            for (var f=0; f < num_features; f++) {\n                var feature = tile.layers[t].features[f];\n                feature.geometry.coordinates = Geo.transformGeometry(feature.geometry, (coordinates) => {\n                    coordinates[0] = (coordinates[0] - tile.min.x) * Geo.units_per_meter[tile.coords.z];\n                    // TODO: this will create negative y-coords, force positive as below instead? or, if later storing positive coords in bit-packed values, flip to negative in post-processing?\n                    coordinates[1] = (coordinates[1] - tile.min.y) * Geo.units_per_meter[tile.coords.z];\n                    // coordinates[1] = (coordinates[1] - tile.max.y) * Geo.units_per_meter[tile.coords.z]; // alternate to force y-coords to be positive, subtract tile max instead of min\n                    return coordinates;\n                });\n            }\n        }\n        return tile;\n    }\n\n    loadTile(tile) { throw new MethodNotImplemented('loadTile'); }\n}\n\n\n\n/*** Generic network tile loading - abstract class ***/\n\nexport class NetworkTileSource extends TileSource {\n\n\n    constructor (source) {\n        super(source);\n\n        this.response_type = \"\"; // use to set explicit XHR type\n        this.url_hosts = null;\n        var host_match = this.url_template.match(/{s:\\[([^}+]+)\\]}/);\n        if (host_match != null && host_match.length > 1) {\n            this.url_hosts = host_match[1].split(',');\n            this.next_host = 0;\n        }\n    }\n\n    loadTile (tile) {\n        var url = this.url_template.replace('{x}', tile.coords.x).replace('{y}', tile.coords.y).replace('{z}', tile.coords.z);\n        if (this.url_hosts != null) {\n            url = url.replace(/{s:\\[([^}+]+)\\]}/, this.url_hosts[this.next_host]);\n            this.next_host = (this.next_host + 1) % this.url_hosts.length;\n        }\n        tile.url = url;\n        tile.debug.network = +new Date();\n        return new Promise((resolve, reject) => {\n            tile.loading = true;\n            tile.loaded = false;\n            tile.error = null;\n\n            // For testing network errors\n            // var promise = Utils.io(url, 60 * 100, this.response_type);\n            // if (Math.random() < .7) {\n            //     promise = Promise.reject(Error('fake tile error'));\n            // }\n            // promise.then((body) => {\n            Utils.io(url, 60 * 1000, this.response_type).then((body) => {\n                if (tile.loading !== true) {\n                    reject();\n                    return;\n                }\n                tile.debug.response_size = body.length || body.byteLength;\n                tile.debug.network = +new Date() - tile.debug.network;\n                tile.debug.parsing = +new Date();\n                this.parseTile(tile, body);\n                tile.debug.parsing = +new Date() - tile.debug.parsing;\n                tile.loading = false;\n                tile.loaded = true;\n                resolve(tile);\n            }, (error) => {\n                tile.loaded = false;\n                tile.loading = false;\n                tile.error = error.toString();\n                reject(error);\n            });\n        });\n    }\n\n    // Sub-classes must implement this method:\n    parseTile (tile) {\n        throw new MethodNotImplemented('parseTile');\n    }\n}\n\n\n/**\n Mapzen/OSM.US-style GeoJSON vector tiles\n @class GeoJSONTileSource\n*/\nexport class GeoJSONTileSource extends NetworkTileSource {\n\n    constructor (source) {\n        super(source);\n        this.type = 'GeoJSONTileSource';\n    }\n\n    parseTile (tile, response) {\n        tile.layers = JSON.parse(response);\n\n        TileSource.projectTile(tile); // mercator projection\n        TileSource.scaleTile(tile); // re-scale from meters to local tile coords\n    }\n}\n\n\n/*** Mapzen/OSM.US-style TopoJSON vector tiles ***/\n\nexport class TopoJSONTileSource extends NetworkTileSource {\n\n    constructor (source) {\n        super(source);\n        this.type = 'TopoJSONTileSource';\n\n        // Loads TopoJSON library from official D3 source on demand\n        // Not including in base library to avoid the extra weight\n        if (typeof topojson === 'undefined') {\n            try {\n                importScripts('http://d3js.org/topojson.v1.min.js');\n                log.info('TopoJSONTileSource: loaded topojson library');\n            }\n            catch (e) {\n                log.error('TopoJSONTileSource: failed to load TopoJSON library!');\n            }\n        }\n    }\n\n    parseTile (tile, response) {\n        if (typeof topojson === 'undefined') {\n            tile.layers = {};\n            return;\n        }\n\n        tile.layers = JSON.parse(response);\n\n        // Single layer\n        if (tile.layers.objects.vectiles != null) {\n            tile.layers = topojson.feature(tile.layers, tile.layers.objects.vectiles);\n        }\n        // Multiple layers\n        else {\n            var layers = {};\n            for (var t in tile.layers.objects) {\n                layers[t] = topojson.feature(tile.layers, tile.layers.objects[t]);\n            }\n            tile.layers = layers;\n        }\n\n        TileSource.projectTile(tile); // mercator projection\n        TileSource.scaleTile(tile); // re-scale from meters to local tile coords\n    }\n\n}\n\n\n/*** Mapbox vector tiles ***/\n\nexport class MapboxFormatTileSource extends NetworkTileSource {\n\n    constructor (source) {\n        super(source);\n        this.type = 'MapboxFormatTileSource';\n        this.response_type = \"arraybuffer\"; // binary data\n        this.Protobuf = require('pbf');\n        this.VectorTile = require('vector-tile').VectorTile; // Mapbox vector tile lib, forked to add GeoJSON output\n    }\n\n    parseTile (tile, response) {\n        // Convert Mapbox vector tile to GeoJSON\n        var data = new Uint8Array(response);\n        var buffer = new this.Protobuf(data);\n        tile.data = new this.VectorTile(buffer);\n        tile.layers = tile.data.toGeoJSON();\n        delete tile.data;\n\n        // Post-processing: flip tile y and copy OSM id\n        for (var t in tile.layers) {\n            var num_features = tile.layers[t].features.length;\n            for (var f=0; f < num_features; f++) {\n                var feature = tile.layers[t].features[f];\n\n                feature.properties.id = feature.properties.osm_id;\n                feature.geometry.coordinates = Geo.transformGeometry(feature.geometry, (coordinates) => {\n                    coordinates[1] = -coordinates[1];\n                    return coordinates;\n                });\n            }\n        }\n    }\n\n}\n\n",
    "// Miscellaneous utilities\n/*jshint worker: true*/\n\nimport log from 'loglevel';\nimport yaml from 'js-yaml';\n\nvar Utils;\nexport default Utils = {};\n\nUtils.cacheBusterForUrl = function (url) {\n    return url + '?' + (+new Date());\n};\n\nUtils.io = function (url, timeout = 1000, responseType = 'text', method = 'GET', headers = {}) {\n    var request = new XMLHttpRequest();\n    return new Promise((resolve, reject) => {\n        request.timeout = timeout;\n        request.onload = () => {\n            if (request.status === 200) {\n                if (['text', 'json'].indexOf(request.responseType) > -1) {\n                    resolve(request.responseText);\n                }\n                else {\n                    resolve(request.response);\n                }\n            } else {\n                reject(Error('Request error with a status of ' + request.statusText));\n            }\n        };\n        request.onerror = (evt) => {\n            reject(Error('There was a network error' + evt.toString()));\n        };\n        request.ontimeout = (evt) => {\n            reject(Error('timeout '+ evt.toString()));\n        };\n        request.open(method, url, true);\n        request.responseType = responseType;\n        request.send();\n    });\n};\n\nUtils.parseResource = function (body) {\n    var data = null;\n    try {\n        eval('data = ' + body); // jshint ignore:line\n    } catch (e) {\n        try {\n            data = yaml.safeLoad(body);\n        } catch (e) {\n            log.error('Utils.parseResource: failed to parse', body, e);\n        }\n    }\n    return data;\n};\n\nUtils.loadResource = function (source) {\n    return new Promise((resolve, reject) => {\n        if (typeof source === 'string') {\n            Utils.io(Utils.cacheBusterForUrl(source)).then((body) => {\n                var data = Utils.parseResource(body);\n                resolve(data);\n            }, reject);\n        } else {\n            resolve(source);\n        }\n    });\n};\n\n// Needed for older browsers that still support WebGL (Safari 6 etc.)\nUtils.requestAnimationFramePolyfill = function () {\n    if (typeof window.requestAnimationFrame !== 'function') {\n        window.requestAnimationFrame =\n            window.webkitRequestAnimationFrame ||\n            window.mozRequestAnimationFrame    ||\n            window.oRequestAnimationFrame      ||\n            window.msRequestAnimationFrame     ||\n            function (cb) {\n                setTimeout(cb, 1000 /60);\n            };\n    }\n};\n\n// Stringify an object into JSON, but convert functions to strings\nUtils.serializeWithFunctions = function (obj) {\n    var serialized = JSON.stringify(obj, function(k, v) {\n        // Convert functions to strings\n        if (typeof v === 'function') {\n            return v.toString();\n        }\n        return v;\n    });\n\n    return serialized;\n};\n\n// Parse a JSON string, but convert function-like strings back into functions\nUtils.deserializeWithFunctions = function(serialized, wrap) {\n    var obj = JSON.parse(serialized);\n    obj = Utils.stringsToFunctions(obj, wrap);\n    return obj;\n};\n\n// Recursively parse an object, attempting to convert string properties that look like functions back into functions\nUtils.stringsToFunctions = function(obj, wrap) {\n    for (var p in obj) {\n        var val = obj[p];\n\n        // Loop through object properties\n        if (typeof val === 'object') {\n            obj[p] = Utils.stringsToFunctions(val, wrap);\n        }\n        // Convert strings back into functions\n        else if (typeof val === 'string' && val.match(/^function.*\\(.*\\)/) != null) {\n            var f;\n            try {\n                if (typeof wrap === 'function') {\n                    eval('f = ' + wrap(val)); // jshint ignore:line\n                }\n                else {\n                    eval('f = ' + val); // jshint ignore:line\n                }\n                obj[p] = f;\n            }\n            catch (e) {\n                // fall-back to original value if parsing failed\n                obj[p] = val;\n            }\n        }\n    }\n\n    return obj;\n};\n\n// Run a block of code only if in the main thread\nUtils.inMainThread = function(block) {\n    try {\n        if (window.document !== undefined) {\n            block();\n        }\n    }\n    catch (e) {\n    }\n};\n\n// Run a block of code only if in a web worker thread\nUtils.inWorkerThread = function(block) {\n    try {\n        if (window.document !== undefined) {\n        }\n    } // jshint ignore:line\n    catch (e) {\n        if (self !== undefined) {\n            block();\n        }\n    }\n};\n\n// Get URL that the current script was loaded from\n// If currentScript is not available, loops through <script> elements searching for a list of provided paths\n// e.g. Utils.findCurrentURL('tangram.debug.js', 'tangram.min.js');\nUtils.findCurrentURL = function (...paths) {\n    // Find currently executing script\n    var script = document.currentScript;\n    if (script) {\n        return script.src;\n    }\n    else if (Array.isArray(paths)) {\n        // Fallback on looping through <script> elements if document.currentScript is not supported\n        var scripts = document.getElementsByTagName('script');\n        for (var s=0; s < scripts.length; s++) {\n            for (var path of paths) {\n                if (scripts[s].src.indexOf(path) > -1) {\n                   return scripts[s].src;\n                }\n            }\n        }\n    }\n};\n\n// Used for differentiating between power-of-2 and non-power-of-2 textures\n// Via: http://stackoverflow.com/questions/19722247/webgl-wait-for-texture-to-load\nUtils.isPowerOf2 = function(value) {\n    return (value & (value - 1)) === 0;\n};\n\n// Interpolate 'x' along a series of control points\n// 'points' is an array of control points in the form [x, y]\n//\n// Example:\n//     Control points:\n//         [0, 5]:  when x=0, y=5\n//         [4, 10]: when x=4, y=10\n//\n//     Utils.interpolate(2, [[0, 5], [4, 10]]);\n//     -> computes x=2, halfway between x=0 and x=4: (10 - 5) / 2 +5\n//     -> returns 7.5\n//\n// TODO: add other interpolation methods besides linear\n//\nUtils.interpolate = function(x, points) {\n    if (!Array.isArray(points)) {\n        return points;\n    }\n    else if (points.length < 1) {\n        return null;\n    }\n\n    var x1, x2, d, y;\n\n    // Min bounds\n    if (x <= points[0][0]) {\n        y = points[0][1];\n    }\n    // Max bounds\n    else if (x >= points[points.length-1][0]) {\n        y = points[points.length-1][1];\n    }\n    // Find which control points x is between\n    else {\n        for (var i=0; i < points.length - 1; i++) {\n            if (x >= points[i][0] && x < points[i+1][0]) {\n                // Boolean? Just treat each control point as a threshold, no interpolation\n                if (typeof points[i][1] === 'boolean') {\n                    y = points[i][1];\n                    break;\n                }\n\n                // Linear interpolation\n                x1 = points[i][0];\n                x2 = points[i+1][0];\n\n                // Multiple values\n                if (Array.isArray(points[i][1])) {\n                    y = [];\n                    for (var c=0; c < points[i][1].length; c++) {\n                        d = points[i+1][1][c] - points[i][1][c];\n                        y[c] = d * (x - x1) / (x2 - x1) + points[i][1][c];\n                    }\n                }\n                // Single value\n                else {\n                    d = points[i+1][1] - points[i][1];\n                    y = d * (x - x1) / (x2 - x1) + points[i][1];\n                }\n                break;\n            }\n        }\n    }\n    return y;\n};\n\n// Iterators (ES6 generators)\n\n// Iterator for key/value pairs of an object\nUtils.entries = function* (obj) {\n    for (var key of Object.keys(obj)) {\n        yield [key, obj[key]];\n    }\n};\n\n// Iterator for values of an object\nUtils.values = function* (obj) {\n    for (var key of Object.keys(obj)) {\n        yield obj[key];\n    }\n};\n",
    "/*** Vector functions - vectors provided as [x, y, z] arrays ***/\n\nexport var Vector = {};\n\n// Vector length squared\nVector.lengthSq = function (v)\n{\n    if (v.length === 2) {\n        return (v[0]*v[0] + v[1]*v[1]);\n    }\n    else {\n        return (v[0]*v[0] + v[1]*v[1] + v[2]*v[2]);\n    }\n};\n\n// Vector length\nVector.length = function (v)\n{\n    return Math.sqrt(Vector.lengthSq(v));\n};\n\n// Normalize a vector\nVector.normalize = function (v)\n{\n    var d;\n    if (v.length === 2) {\n        d = v[0]*v[0] + v[1]*v[1];\n        d = Math.sqrt(d);\n\n        if (d !== 0) {\n            return [v[0] / d, v[1] / d];\n        }\n        return [0, 0];\n    }\n    else {\n        d = v[0]*v[0] + v[1]*v[1] + v[2]*v[2];\n        d = Math.sqrt(d);\n\n        if (d !== 0) {\n            return [v[0] / d, v[1] / d, v[2] / d];\n        }\n        return [0, 0, 0];\n    }\n};\n\n// Cross product of two vectors\nVector.cross  = function (v1, v2)\n{\n    return [\n        (v1[1] * v2[2]) - (v1[2] * v2[1]),\n        (v1[2] * v2[0]) - (v1[0] * v2[2]),\n        (v1[0] * v2[1]) - (v1[1] * v2[0])\n    ];\n};\n\n// Find the intersection of two lines specified as segments from points (p1, p2) and (p3, p4)\n// http://en.wikipedia.org/wiki/Line-line_intersection\n// http://en.wikipedia.org/wiki/Cramer's_rule\nVector.lineIntersection = function (p1, p2, p3, p4, parallel_tolerance)\n{\n    parallel_tolerance = parallel_tolerance || 0.01;\n\n    // a1*x + b1*y = c1 for line (x1, y1) to (x2, y2)\n    // a2*x + b2*y = c2 for line (x3, y3) to (x4, y4)\n    var a1 = p1[1] - p2[1]; // y1 - y2\n    var b1 = p1[0] - p2[0]; // x1 - x2\n    var a2 = p3[1] - p4[1]; // y3 - y4\n    var b2 = p3[0] - p4[0]; // x3 - x4\n    var c1 = (p1[0] * p2[1]) - (p1[1] * p2[0]); // x1*y2 - y1*x2\n    var c2 = (p3[0] * p4[1]) - (p3[1] * p4[0]); // x3*y4 - y3*x4\n    var denom = (b1 * a2) - (a1 * b2);\n\n    if (Math.abs(denom) > parallel_tolerance) {\n        return [\n            ((c1 * b2) - (b1 * c2)) / denom,\n            ((c1 * a2) - (a1 * c2)) / denom\n        ];\n    }\n    return null; // return null if lines are (close to) parallel\n};\n",
    "/*jshint worker: true*/\n\n// WorkerBroker routes messages between web workers and the main thread, allowing for simpler\n// async code via promises. Example usage:\n//\n// In web worker, define a method:\n//\n//     self.square = function (x) {\n//         return x * x;\n//     };\n//\n// In main thread, invoke that method and receive the result (if any) as a promise:\n//\n//     worker = new Worker(...);\n//     WorkerBroker.addWorker(worker);\n//\n//     WorkerBroker.postMessage(worker, 'square', 5).then(function(y) {\n//         console.log(y);\n//     });\n//\n//     -> prints 25\n//\n// Async code:\n//\n// For synchronous code that must pass a return value to the main thread, the function can simply\n// return an immediate value (see example above). For cases where the worker method needs to run\n// asynchronous code, the function can return a promise, and the resolved or rejected value will\n// be sent back to the main thread when the promise is fulfilled.\n//\n// Error handling:\n//\n// If the worker method either throws an error, or returns a promise that is rejected, it will be\n// sent back to the main thread as a promise rejection. These two examples are equivalent:\n//\n//     In worker, throwing an error:\n//\n//         self.broken = function () {\n//             throw new Error('error in worker!');\n//         };\n//\n//     In worker, returning a rejected promise:\n//\n//         self.broken = function () {\n//             return Promise.reject(new Error('error in worker!'));\n//         };\n//\n//     In main thread, both errors are received as a promise rejection:\n//\n//         WorkerBroker.postMessage(worker, 'broken').then(\n//             // Promise resolved\n//             function() {\n//                 console.log('success!');\n//             },\n//             // Promise rejected\n//             function(error) {\n//                 console.log('error!', error);\n//             });\n//\n//         -> prints 'error! error in worker'\n//\n\nvar WorkerBroker;\nexport default WorkerBroker = {};\n\n// Global list of all worker messages\n// Uniquely tracks every call made from the main thread to a worker\nvar message_id = 0;\nvar messages = {};\n\n// Main thread:\n// Send messages to workers, and optionally receive an async response that is then returned in a promise\nfunction setupMainThread () {\n\n    // Send a message to the worker, and optionally get an async response\n    // Arguments:\n    //   - worker: the web worker instance\n    //   - method: on the worker side, the method with this name will be invoked\n    //   - message: will be passed to the method call in the worker\n    // Returns:\n    //   - a promise that will be fulfilled if the worker method returns a value (could be immediately, or async)\n    //\n    WorkerBroker.postMessage = function (worker, method, ...message) {\n        // Track state of this message\n        var promise = new Promise((resolve, reject) => {\n            messages[message_id] = { method, message, resolve, reject };\n        });\n\n        worker.postMessage({\n            worker_broker: true,    // mark message as sent from broker\n            message_id,             // unique id for this message, for life of program\n            method,                 // will dispatch to a function of this name within the worker\n            message                 // message payload\n        });\n\n        message_id++;\n        return promise;\n    };\n\n    // Listen for messages coming back from the worker, and fulfill that message's promise\n    WorkerBroker.addWorker = function (worker) {\n        worker.addEventListener('message', (event) => {\n            // Pass the result to the promise\n            var id = event.data.message_id;\n            if (messages[id]) {\n                if (event.data.error) {\n                    messages[id].reject(event.data.error);\n                }\n                else {\n                    messages[id].resolve(event.data.message);\n                }\n                delete messages[id];\n            }\n        });\n    };\n\n    // Expose for debugging\n    WorkerBroker.getMessages = function () {\n        return messages;\n    };\n\n    WorkerBroker.getMessageId = function () {\n        return message_id;\n    };\n\n}\n\n// Worker threads:\n// Listen for messages initiating a call from the main thread, dispatch them,\n// and send any return value back to the main thread\nfunction setupWorkerThread () {\n\n    self.addEventListener('message', (event) => {\n        // Unique id for this message & return call to main thread\n        var id = event.data.message_id;\n        if (!event.data.worker_broker || id == null) {\n            return;\n        }\n\n        // Call the requested worker method and save the return value\n        var method = (typeof self[event.data.method] === 'function') && self[event.data.method];\n        if (!method) {\n            throw Error(`Worker broker could not dispatch message type ${event.data.method} because worker has no method with that name`);\n        }\n\n        var result, error;\n        try {\n            result = method.apply(self, event.data.message);\n        }\n        catch(e) {\n            // Thrown errors will be passed back (in string form) to main thread\n            error = e;\n        }\n\n        // Send return value to main thread\n        // Async result\n        if (result instanceof Promise) {\n            result.then((value) => {\n                self.postMessage({\n                    message_id: id,\n                    message: value\n                });\n            }, (error) => {\n                self.postMessage({\n                    message_id: id,\n                    error: (error instanceof Error ? error.message : error)\n                });\n            });\n        }\n        // Immediate result\n        else {\n            self.postMessage({\n                message_id: id,\n                message: result,\n                error: (error instanceof Error ? error.message : error)\n            });\n        }\n    });\n\n}\n\n// Setup this thread as appropriate\ntry {\n    if (window !== undefined) {\n        setupMainThread();\n    }\n}\ncatch (e) {\n    if (self !== undefined) {\n        setupWorkerThread();\n    }\n}\n"
  ]
}